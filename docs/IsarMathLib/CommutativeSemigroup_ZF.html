<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory CommutativeSemigroup_ZF</title>
</head>


<body>
<div class="head">
<h1>Theory CommutativeSemigroup_ZF</h1>
</div>

<pre class="source"><span class="comment1"><span>(</span><span>*</span><span> 
    This file is a part of IsarMathLib - 
    a library of formalized mathematics for Isabelle/Isar.

    Copyright (C) 2007-2009  Slawomir Kolodynski

    This progr\rightarowam is free software; Redistribution and use in source and binary forms, 
    with or without modification, are permitted provided that the following conditions are met:

   1. Redistributions of source code must retain the above copyright notice, 
   this list of conditions and the following disclaimer.
   2. Redistributions in binary form must reproduce the above copyright notice, 
   this list of conditions and the following disclaimer in the documentation and/or 
   other materials provided with the distribution.
   3. The name of the author may not be used to endorse or promote products 
   derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED 
WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF 
MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, 
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, 
PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; 
OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR 
OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, 
EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

</span><span>*</span><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Commutative Semigroups</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><span>CommutativeSemigroup_ZF</span><span> </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="Semigroup_ZF.html"><span>Semigroup_ZF</span></a><span>

</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>In the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>Semigroup›</span></span></span><span> theory we introduced a notion 
</span><span>  of </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>SetFold(f,a,Λ,r)›</span></span></span><span> that represents the sum of 
</span><span>  values of some function $a$ valued in a semigroup
</span><span>  where the arguments of that function vary over some set $\Lambda$.
</span><span>  Using the additive notation something like this would be expressed
</span><span>  as $\sum_{x\in \Lambda} f(x)$ in informal mathematics. 
</span><span>  This theory considers an alternative to that notion that is more specific 
</span><span>  to commutative semigroups.</span><span>
</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>Sum of a function over a set</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>The $r$ parameter in the definition of </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>SetFold(f,a,Λ,r)›</span></span></span><span>
</span><span>  (from </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>Semigroup_ZF›</span></span></span><span>) represents a linear order relation 
</span><span>  on $\Lambda$ that is needed to indicate in what order we are summing 
</span><span>  the values $f(x)$.
</span><span>  If the semigroup operation is commutative the order does not matter
</span><span>  and the relation $r$ is not needed. In this section we define a notion 
</span><span>  of summing up values of some function $a : X \rightarrow G$
</span><span>  over a finite set of indices $\Gamma \subseteq X$, without using any
</span><span>  order relation on $X$.</span><span>›</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>We define the sum of values of a function $a: X\rightarrow G$
</span><span>  over a set $\Lambda$ as the only element of the set of sums of lists 
</span><span>  that are bijections between the number of values in $\Lambda$ 
</span><span>  (which is a natural number $n = \{0,1, .. , n-1\}$ if $\Lambda$
</span><span>  is finite) and $\Lambda$. The notion of </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>Fold1(f,c)›</span></span></span><span> 
</span><span>  is defined in </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>Semigroup_ZF›</span></span></span><span> as the fold (sum) of the list
</span><span>  $c$ starting from the first element of that list. The intention
</span><span>  is to use the fact that since the result of summing up a list
</span><span>  does not depend on the order, the set 
</span><span>  </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>{Fold1(f,a O b). b ∈ bij( |Λ|, Λ)}›</span></span></span><span> is a singleton
</span><span>  and we can extract its only value by taking its union.</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="CommutativeSemigroup_ZF.CommSetFold_def|fact"><span class="entity_def" id="CommutativeSemigroup_ZF.CommSetFold_def|thm"><span class="entity_def" id="CommutativeSemigroup_ZF.CommSetFold_def_raw|axiom"><span>definition</span></span></span></span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="CommutativeSemigroup_ZF.CommSetFold|const"><span>CommSetFold</span></span></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>Λ</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>⋃</span></span><span class="main"><span>{</span></span><a class="entity_ref" href="Semigroup_ZF.html#Semigroup_ZF.Fold1|const"><span>Fold1</span></a><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span>bij</span><span class="main"><span>(</span></span><span class="main"><span>|</span></span><span class="free"><span class="bound"><span class="entity"><span>Λ</span></span></span></span><span class="main"><span>|</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Λ</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>the next locale sets up notation for writing about summation in
</span><span>  commutative semigroups. We define two kinds of sums. One is the sum
</span><span>  of elements of a list (which are just functions defined on a natural number)
</span><span>  and the second one represents a more general notion the sum of values of
</span><span>  a semigroup valued function over some set of arguments. Since those two types of 
</span><span>  sums are different notions they are represented by different symbols.
</span><span>  However in the presentations they are both intended to be printed as $\sum $.</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="CommutativeSemigroup_ZF.commsemigr.intro|fact"><span class="entity_def" id="CommutativeSemigroup_ZF.commsemigr_def|fact"><span class="entity_def" id="CommutativeSemigroup_ZF.commsemigr.intro|thm"><span class="entity_def" id="CommutativeSemigroup_ZF.commsemigr_def|thm"><span class="entity_def" id="CommutativeSemigroup_ZF.commsemigr_def|axiom"><span>locale</span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="CommutativeSemigroup_ZF.commsemigr|locale"><span class="entity_def" id="CommutativeSemigroup_ZF.commsemigr|const"><span>commsemigr</span></span></span><span> </span><span class="main"><span>=</span></span><span>
  
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>G</span></span><span> </span><span class="free"><span>f</span></span><span>

  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="CommutativeSemigroup_ZF.commsemigr.csgassoc|fact"><span class="entity_def" id="CommutativeSemigroup_ZF.commsemigr.csgassoc|thm"><span class="entity_def" id="offset_4014..4022">csgassoc</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="func_ZF.html#func_ZF.IsAssociative|const"><span>{is</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="func_ZF.html#func_ZF.IsAssociative|const"><span>associative</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="func_ZF.html#func_ZF.IsAssociative|const"><span>on}</span></a></span><span> </span><span class="free"><span>G</span></span><span>"</span></span></span><span>

  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="CommutativeSemigroup_ZF.commsemigr.csgcomm|fact"><span class="entity_def" id="CommutativeSemigroup_ZF.commsemigr.csgcomm|thm"><span class="entity_def" id="offset_4061..4068">csgcomm</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="func_ZF.html#func_ZF.IsCommutative|const"><span>{is</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="func_ZF.html#func_ZF.IsCommutative|const"><span>commutative</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="func_ZF.html#func_ZF.IsCommutative|const"><span>on}</span></a></span><span> </span><span class="free"><span>G</span></span><span>"</span></span></span><span>

  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>csgsum</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>\&lt;ra&gt;</span></span><span>"</span></span><span> 69</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>defines</span></span></span><span> </span><span class="entity_def" id="CommutativeSemigroup_ZF.commsemigr.csgsum_def|fact"><span class="entity_def" id="CommutativeSemigroup_ZF.commsemigr.csgsum_def|thm"><span>csgsum_def</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><span class="free"><span>\&lt;ra&gt;</span></span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>`</span></span><span class="main"><span>⟨</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span class="free"><span>y</span></span><span class="main"><span>⟩</span></span><span>"</span></span></span><span>

  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="free"><span>a</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="CommutativeSemigroup_ZF.commsemigr.csgaisfun|fact"><span class="entity_def" id="CommutativeSemigroup_ZF.commsemigr.csgaisfun|thm"><span class="entity_def" id="offset_4197..4206">csgaisfun</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><span>:</span></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><span>→</span></span><span> </span><span class="free"><span>G</span></span><span>"</span></span></span><span>

  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>csglistsum</span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>∑</span></span><span> </span><span>_</span><span>"</span></span><span> 70</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>defines</span></span></span><span> </span><span class="entity_def" id="CommutativeSemigroup_ZF.commsemigr.csglistsum_def|fact"><span class="entity_def" id="CommutativeSemigroup_ZF.commsemigr.csglistsum_def|thm"><span>csglistsum_def</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>∑</span></span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Semigroup_ZF.html#Semigroup_ZF.Fold1|const"><span>Fold1</span></a><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><span>,</span></span><span class="free"><span>k</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>csgsetsum</span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>\&lt;ssum&gt;</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>defines</span></span></span><span> </span><span class="entity_def" id="CommutativeSemigroup_ZF.commsemigr.csgsetsum_def|fact"><span class="entity_def" id="CommutativeSemigroup_ZF.commsemigr.csgsetsum_def|thm"><span>csgsetsum_def</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>\&lt;ssum&gt;</span></span></span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span class="main"><span>,</span></span><span class="free"><span>h</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="CommutativeSemigroup_ZF.html#CommutativeSemigroup_ZF.CommSetFold|const"><span>CommSetFold</span></a><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><span>,</span></span><span class="free"><span>h</span></span><span class="main"><span>,</span></span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>Definition of a sum of function over a set in 
</span><span>  notation defined in the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>commsemigr›</span></span></span><span> locale.</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><a class="entity_ref" href="CommutativeSemigroup_ZF.html#CommutativeSemigroup_ZF.commsemigr|locale"><span>commsemigr</span></a><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="CommutativeSemigroup_ZF.commsemigr.CommSetFolddef|fact"><span class="entity_def" id="CommutativeSemigroup_ZF.commsemigr.CommSetFolddef|thm"><span class="entity_def" id="offset_4512..4526">CommSetFolddef</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span class="free"><span>\&lt;ssum&gt;</span></span></span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span class="main"><span>,</span></span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋃</span></span><span class="main"><span>{</span></span><span class="main"><span class="free"><span>∑</span></span></span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span>bij</span><span class="main"><span>(</span></span><span class="main"><span>|</span></span><span class="free"><span>A</span></span><span class="main"><span>|</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CommutativeSemigroup_ZF.html#CommutativeSemigroup_ZF.CommSetFold_def|fact"><span>CommSetFold_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>The next lemma states that the result of a sum does not depend
</span><span>  on the order we calculate it. This is similar to lemma 
</span><span>  </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>prod_order_irr›</span></span></span><span> in the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>Semigroup›</span></span></span><span> theory,
</span><span>  except that the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>semigr1›</span></span></span><span> locale assumes
</span><span>  that the domain of the function we sum up is linearly
</span><span>  ordered, while in </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>commsemigr›</span></span></span><span> we don't have
</span><span>  this assumption.</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><a class="entity_ref" href="CommutativeSemigroup_ZF.html#CommutativeSemigroup_ZF.commsemigr|locale"><span>commsemigr</span></a><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="CommutativeSemigroup_ZF.commsemigr.sum_over_set_bij|fact"><span class="entity_def" id="CommutativeSemigroup_ZF.commsemigr.sum_over_set_bij|thm"><span class="entity_def" id="offset_4975..4991">sum_over_set_bij</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_5004..5006">A1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="Finite_ZF.html#Finite_ZF.FinPow|const"><span>FinPow</span></a><span class="main"><span>(</span></span><span class="free"><span>X</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><span>≠</span></span><span> </span><span class="main"><span>0</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_5036..5038">A2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span>bij</span><span class="main"><span>(</span></span><span class="main"><span>|</span></span><span class="free"><span>A</span></span><span class="main"><span>|</span></span><span class="main"><span>,</span></span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span class="free"><span>\&lt;ssum&gt;</span></span></span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span class="main"><span>,</span></span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span class="free"><span>∑</span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> 
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∀</span></span><span class="bound"><span>c</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span>bij</span><span class="main"><span>(</span></span><span class="main"><span>|</span></span><span class="free"><span>A</span></span><span class="main"><span>|</span></span><span class="main"><span>,</span></span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>∀</span></span><span> </span><span class="bound"><span>d</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span>bij</span><span class="main"><span>(</span></span><span class="main"><span>|</span></span><span class="free"><span>A</span></span><span class="main"><span>|</span></span><span class="main"><span>,</span></span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span class="free"><span>∑</span></span></span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="bound"><span>c</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span class="free"><span>∑</span></span></span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="bound"><span>d</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword1"><span class="command"><span>{</span></span></span><span> </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>c</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>c</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span>bij</span><span class="main"><span>(</span></span><span class="main"><span>|</span></span><span class="free"><span>A</span></span><span class="main"><span>|</span></span><span class="main"><span>,</span></span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>d</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>d</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span>bij</span><span class="main"><span>(</span></span><span class="main"><span>|</span></span><span class="free"><span>A</span></span><span class="main"><span>|</span></span><span class="main"><span>,</span></span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?r</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_ZF_1.html#func_ZF_1.InducedRelation|const"><span>InducedRelation</span></a><span class="main"><span>(</span></span><span>converse</span><span class="main"><span>(</span></span><span class="skolem"><span>c</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span>Le</span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Semigroup_ZF.html#Semigroup_ZF.semigr1|const"><span>semigr1</span></a><span class="main"><span>(</span></span><span class="free"><span>G</span></span><span class="main"><span>,</span></span><span class="free"><span>f</span></span><span class="main"><span>,</span></span><span class="free"><span>A</span></span><span class="main"><span>,</span></span><span class="var"><span>?r</span></span><span class="main"><span>,</span></span><span>restrict</span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
	</span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Semigroup_ZF.html#Semigroup_ZF.semigr0|const"><span>semigr0</span></a><span class="main"><span>(</span></span><span class="free"><span>G</span></span><span class="main"><span>,</span></span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CommutativeSemigroup_ZF.html#offset_4014..4022"><span>csgassoc</span></a><span> </span><a class="entity_ref" href="Semigroup_ZF.html#Semigroup_ZF.semigr0_def|fact"><span>semigr0_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
	</span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="CommutativeSemigroup_ZF.html#offset_5004..5006"><span>A1</span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>c</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span>bij</span><span class="main"><span>(</span></span><span class="main"><span>|</span></span><span class="free"><span>A</span></span><span class="main"><span>|</span></span><span class="main"><span>,</span></span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_ZF.html#Order_ZF.IsLinOrder|const"><span>IsLinOrder</span></a><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span class="main"><span>,</span></span><span class="var"><span>?r</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
	  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>bij_converse_bij</span><span> </span><a class="entity_ref" href="Finite_ZF.html#Finite_ZF.card_fin_is_nat|fact"><span>card_fin_is_nat</span></a><span> 
            </span><a class="entity_ref" href="NatOrder_ZF.html#NatOrder_ZF.natord_lin_on_each_nat|fact"><span>natord_lin_on_each_nat</span></a><span> </span><a class="entity_ref" href="func_ZF_1.html#func_ZF_1.ind_rel_pres_lin|fact"><span>ind_rel_pres_lin</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
	</span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="CommutativeSemigroup_ZF.html#offset_5004..5006"><span>A1</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>restrict</span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>:</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>→</span></span><span> </span><span class="free"><span>G</span></span><span>"</span></span></span><span>
	  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Finite_ZF.html#Finite_ZF.FinPow_def|fact"><span>FinPow_def</span></a><span> </span><a class="entity_ref" href="CommutativeSemigroup_ZF.html#offset_4197..4206"><span>csgaisfun</span></a><span> </span><a class="entity_ref" href="func1.html#func1.restrict_fun|fact"><span>restrict_fun</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
	</span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Semigroup_ZF.html#Semigroup_ZF.semigr1_axioms.intro|fact"><span>semigr1_axioms.intro</span></a><span> </span><a class="entity_ref" href="Semigroup_ZF.html#Semigroup_ZF.semigr1_def|fact"><span>semigr1_def</span></a><span> 
	  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="func_ZF.html#func_ZF.IsCommutative|const"><span>{is</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="func_ZF.html#func_ZF.IsCommutative|const"><span>commutative</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="func_ZF.html#func_ZF.IsCommutative|const"><span>on}</span></a></span><span> </span><span class="free"><span>G</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CommutativeSemigroup_ZF.html#offset_4061..4068"><span>csgcomm</span></a><span>
	</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="CommutativeSemigroup_ZF.html#offset_5004..5006"><span>A1</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><span>∈</span></span><span>  </span><a class="entity_ref" href="Finite_ZF.html#Finite_ZF.FinPow|const"><span>FinPow</span></a><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><span>≠</span></span><span> </span><span class="main"><span>0</span></span><span>"</span></span></span><span>
	</span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Finite_ZF.html#Finite_ZF.FinPow_def|fact"><span>FinPow_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>c</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span>bij</span><span class="main"><span>(</span></span><span class="main"><span>|</span></span><span class="free"><span>A</span></span><span class="main"><span>|</span></span><span class="main"><span>,</span></span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>d</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span>bij</span><span class="main"><span>(</span></span><span class="main"><span>|</span></span><span class="free"><span>A</span></span><span class="main"><span>|</span></span><span class="main"><span>,</span></span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> 
	</span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Semigroup_ZF.html#Semigroup_ZF.Fold1|const"><span>Fold1</span></a><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><span>,</span></span><span>restrict</span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="skolem"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Semigroup_ZF.html#Semigroup_ZF.Fold1|const"><span>Fold1</span></a><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><span>,</span></span><span>restrict</span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="skolem"><span>d</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
	</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Semigroup_ZF.html#Semigroup_ZF.semigr1.prod_bij_same|fact"><span>semigr1.prod_bij_same</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span class="free"><span>∑</span></span></span><span> </span><span class="main"><span>(</span></span><span>restrict</span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="skolem"><span>c</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span class="free"><span>∑</span></span></span><span> </span><span class="main"><span>(</span></span><span>restrict</span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="skolem"><span>d</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
	</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="CommutativeSemigroup_ZF.html#offset_5004..5006"><span>A1</span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>c</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span>bij</span><span class="main"><span>(</span></span><span class="main"><span>|</span></span><span class="free"><span>A</span></span><span class="main"><span>|</span></span><span class="main"><span>,</span></span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>d</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span>bij</span><span class="main"><span>(</span></span><span class="main"><span>|</span></span><span class="free"><span>A</span></span><span class="main"><span>|</span></span><span class="main"><span>,</span></span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> 
	</span><span class="quoted"><span class="quoted"><span>"</span><span>restrict</span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="skolem"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="skolem"><span>c</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>restrict</span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="skolem"><span>d</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="skolem"><span>d</span></span><span>"</span></span></span><span>
	</span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>bij_def</span><span> </span><span>surj_def</span><span> </span><a class="entity_ref" href="CommutativeSemigroup_ZF.html#offset_4197..4206"><span>csgaisfun</span></a><span> </span><a class="entity_ref" href="Finite_ZF.html#Finite_ZF.FinPow_def|fact"><span>FinPow_def</span></a><span> </span><a class="entity_ref" href="func1.html#func1.comp_restrict|fact"><span>comp_restrict</span></a><span>
	</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span class="free"><span>∑</span></span></span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="skolem"><span>c</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span class="free"><span>∑</span></span></span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="skolem"><span>d</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      </span><span class="keyword1"><span class="command"><span>}</span></span></span><span> </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="CommutativeSemigroup_ZF.html#offset_5036..5038"><span>A2</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>⋃</span></span><span class="main"><span>{</span></span><span class="main"><span class="free"><span>∑</span></span></span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span>bij</span><span class="main"><span>(</span></span><span class="main"><span>|</span></span><span class="free"><span>A</span></span><span class="main"><span>|</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span class="free"><span>∑</span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="ZF1.html#ZF1.singleton_comprehension|fact"><span>singleton_comprehension</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CommutativeSemigroup_ZF.html#offset_4512..4526"><span>CommSetFolddef</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>The result of a sum is in the semigroup. Also, as the second
</span><span>  assertion we show that every semigroup valued function
</span><span>  generates a homomorphism between the finite subsets of a semigroup 
</span><span>  and the semigroup. Adding an element to a set coresponds to adding a 
</span><span>  value.</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><a class="entity_ref" href="CommutativeSemigroup_ZF.html#CommutativeSemigroup_ZF.commsemigr|locale"><span>commsemigr</span></a><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="CommutativeSemigroup_ZF.commsemigr.sum_over_set_add_point|fact"><span class="entity_def" id="CommutativeSemigroup_ZF.commsemigr.sum_over_set_add_point(2)|thm"><span class="entity_def" id="CommutativeSemigroup_ZF.commsemigr.sum_over_set_add_point(1)|thm"><span>sum_over_set_add_point</span></span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span>  </span><span class="entity_def" id="offset_6938..6940">A1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="Finite_ZF.html#Finite_ZF.FinPow|const"><span>FinPow</span></a><span class="main"><span>(</span></span><span class="free"><span>X</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><span>≠</span></span><span> </span><span class="main"><span>0</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>\&lt;ssum&gt;</span></span></span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span class="main"><span>,</span></span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>G</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∀</span></span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>X</span></span><span class="main"><span>-</span></span><span class="free"><span>A</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span class="free"><span>\&lt;ssum&gt;</span></span></span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><span>∪</span></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>x</span></span><span class="main"><span>}</span></span><span class="main"><span>,</span></span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span class="free"><span>\&lt;ssum&gt;</span></span></span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span class="main"><span>,</span></span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span class="free"><span>\&lt;ra&gt;</span></span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>`</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="CommutativeSemigroup_ZF.html#offset_6938..6940"><span>A1</span></a><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>b</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span>bij</span><span class="main"><span>(</span></span><span class="main"><span>|</span></span><span class="free"><span>A</span></span><span class="main"><span>|</span></span><span class="main"><span>,</span></span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Finite_ZF.html#Finite_ZF.fin_bij_card|fact"><span>fin_bij_card</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="CommutativeSemigroup_ZF.html#offset_6938..6940"><span>A1</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>\&lt;ssum&gt;</span></span></span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span class="main"><span>,</span></span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span class="free"><span>∑</span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CommutativeSemigroup_ZF.html#offset_4975..4991"><span>sum_over_set_bij</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="CommutativeSemigroup_ZF.html#offset_6938..6940"><span>A1</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>|</span></span><span class="free"><span>A</span></span><span class="main"><span>|</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span>nat</span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Finite_ZF.html#Finite_ZF.card_fin_is_nat|fact"><span>card_fin_is_nat</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Semigroup_ZF.html#Semigroup_ZF.semigr0|const"><span>semigr0</span></a><span class="main"><span>(</span></span><span class="free"><span>G</span></span><span class="main"><span>,</span></span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CommutativeSemigroup_ZF.html#offset_4014..4022"><span>csgassoc</span></a><span> </span><a class="entity_ref" href="Semigroup_ZF.html#Semigroup_ZF.semigr0_def|fact"><span>semigr0_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="CommutativeSemigroup_ZF.html#offset_6938..6940"><span>A1</span></a><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>n</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span>nat</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>|</span></span><span class="free"><span>A</span></span><span class="main"><span>|</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>succ</span><span class="main"><span>(</span></span><span class="skolem"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Finite_ZF.html#Finite_ZF.card_non_empty_succ|fact"><span>card_non_empty_succ</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="CommutativeSemigroup_ZF.html#offset_6938..6940"><span>A1</span></a><span>  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span>bij</span><span class="main"><span>(</span></span><span class="main"><span>|</span></span><span class="free"><span>A</span></span><span class="main"><span>|</span></span><span class="main"><span>,</span></span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> 
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span>nat</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>:</span></span><span> </span><span>succ</span><span class="main"><span>(</span></span><span class="skolem"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>→</span></span><span> </span><span class="free"><span>G</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>bij_def</span><span> </span><span>inj_def</span><span> </span><a class="entity_ref" href="Finite_ZF.html#Finite_ZF.FinPow_def|fact"><span>FinPow_def</span></a><span> </span><a class="entity_ref" href="func1.html#func1.comp_fun_subset|fact"><span>comp_fun_subset</span></a><span> </span><a class="entity_ref" href="CommutativeSemigroup_ZF.html#offset_4197..4206"><span>csgaisfun</span></a><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Semigroup_ZF.html#Semigroup_ZF.Fold1|const"><span>Fold1</span></a><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><span>,</span></span><span class="free"><span>a</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>G</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Semigroup_ZF.html#Semigroup_ZF.semigr0.prod_type|fact"><span>semigr0.prod_type</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span class="free"><span>\&lt;ssum&gt;</span></span></span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span class="main"><span>,</span></span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span class="free"><span>∑</span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>\&lt;ssum&gt;</span></span></span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span class="main"><span>,</span></span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>G</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span> </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>X</span></span><span class="main"><span>-</span></span><span class="free"><span>A</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="CommutativeSemigroup_ZF.html#offset_6938..6940"><span>A1</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><span>∪</span></span><span> </span><span class="main"><span>{</span></span><span class="skolem"><span>x</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="Finite_ZF.html#Finite_ZF.FinPow|const"><span>FinPow</span></a><span class="main"><span>(</span></span><span class="free"><span>X</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><span>∪</span></span><span> </span><span class="main"><span>{</span></span><span class="skolem"><span>x</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>≠</span></span><span> </span><span class="main"><span>0</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Finite_ZF.html#Finite_ZF.singleton_in_finpow|fact"><span>singleton_in_finpow</span></a><span> </span><a class="entity_ref" href="Finite_ZF.html#Finite_ZF.union_finpow|fact"><span>union_finpow</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="FiniteSeq_ZF.html#FiniteSeq_ZF.Append|const"><span>Append</span></a><span class="main"><span>(</span></span><span class="skolem"><span>b</span></span><span class="main"><span>,</span></span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span>bij</span><span class="main"><span>(</span></span><span class="main"><span>|</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><span>∪</span></span><span> </span><span class="main"><span>{</span></span><span class="skolem"><span>x</span></span><span class="main"><span>}</span></span><span class="main"><span>|</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>∪</span></span><span> </span><span class="main"><span>{</span></span><span class="skolem"><span>x</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
      </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>|</span></span><span class="free"><span>A</span></span><span class="main"><span>|</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span>nat</span><span>›</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span>bij</span><span class="main"><span>(</span></span><span class="main"><span>|</span></span><span class="free"><span>A</span></span><span class="main"><span>|</span></span><span class="main"><span>,</span></span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>X</span></span><span class="main"><span>-</span></span><span class="free"><span>A</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>∉</span></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="FiniteSeq_ZF.html#FiniteSeq_ZF.Append|const"><span>Append</span></a><span class="main"><span>(</span></span><span class="skolem"><span>b</span></span><span class="main"><span>,</span></span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span>bij</span><span class="main"><span>(</span></span><span>succ</span><span class="main"><span>(</span></span><span class="main"><span>|</span></span><span class="free"><span>A</span></span><span class="main"><span>|</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>∪</span></span><span> </span><span class="main"><span>{</span></span><span class="skolem"><span>x</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
	</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="FiniteSeq_ZF.html#FiniteSeq_ZF.bij_append_point|fact"><span>bij_append_point</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="CommutativeSemigroup_ZF.html#offset_6938..6940"><span>A1</span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>X</span></span><span class="main"><span>-</span></span><span class="free"><span>A</span></span><span>›</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
	</span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Finite_ZF.html#Finite_ZF.card_fin_add_one|fact"><span>card_fin_add_one</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span class="free"><span>\&lt;ssum&gt;</span></span></span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><span>∪</span></span><span> </span><span class="main"><span>{</span></span><span class="skolem"><span>x</span></span><span class="main"><span>}</span></span><span class="main"><span>,</span></span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span>  </span><span class="main"><span>(</span></span><span class="main"><span class="free"><span>∑</span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><a class="entity_ref" href="FiniteSeq_ZF.html#FiniteSeq_ZF.Append|const"><span>Append</span></a><span class="main"><span>(</span></span><span class="skolem"><span>b</span></span><span class="main"><span>,</span></span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CommutativeSemigroup_ZF.html#offset_4975..4991"><span>sum_over_set_bij</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>…</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span class="free"><span>∑</span></span></span><span> </span><a class="entity_ref" href="FiniteSeq_ZF.html#FiniteSeq_ZF.Append|const"><span>Append</span></a><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>`</span></span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
      </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>|</span></span><span class="free"><span>A</span></span><span class="main"><span>|</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span>nat</span><span>›</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="CommutativeSemigroup_ZF.html#offset_6938..6940"><span>A1</span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span>bij</span><span class="main"><span>(</span></span><span class="main"><span>|</span></span><span class="free"><span>A</span></span><span class="main"><span>|</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> 
	</span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>:</span></span><span> </span><span class="main"><span>|</span></span><span class="free"><span>A</span></span><span class="main"><span>|</span></span><span> </span><span class="main"><span>→</span></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><span>⊆</span></span><span> </span><span class="free"><span>X</span></span><span>"</span></span></span><span>
	</span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>bij_def</span><span> </span><span>inj_def</span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Finite_ZF.html#Finite_ZF.FinPow_def|fact"><span>FinPow_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>:</span></span><span> </span><span class="main"><span>|</span></span><span class="free"><span>A</span></span><span class="main"><span>|</span></span><span> </span><span class="main"><span>→</span></span><span> </span><span class="free"><span>X</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="func1.html#func1.func1_1_L1B|fact"><span>func1_1_L1B</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>X</span></span><span class="main"><span>-</span></span><span class="free"><span>A</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>X</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><span>:</span></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><span>→</span></span><span> </span><span class="free"><span>G</span></span><span>"</span></span></span><span>
	</span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CommutativeSemigroup_ZF.html#offset_4197..4206"><span>csgaisfun</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="FiniteSeq_ZF.html#FiniteSeq_ZF.list_compose_append|fact"><span>list_compose_append</span></a><span>
	</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>…</span></span><span> </span><span class="main"><span>=</span></span><span>  </span><span class="main"><span>(</span></span><span class="main"><span class="free"><span>\&lt;ssum&gt;</span></span></span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span class="main"><span>,</span></span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span class="free"><span>\&lt;ra&gt;</span></span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>`</span></span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
      </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Semigroup_ZF.html#Semigroup_ZF.semigr0|const"><span>semigr0</span></a><span class="main"><span>(</span></span><span class="free"><span>G</span></span><span class="main"><span>,</span></span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>n</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span>nat</span><span>›</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>a</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>:</span></span><span> </span><span>succ</span><span class="main"><span>(</span></span><span class="skolem"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>→</span></span><span> </span><span class="free"><span>G</span></span><span>›</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>X</span></span><span class="main"><span>-</span></span><span class="free"><span>A</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span class="main"><span>`</span></span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>G</span></span><span>"</span></span></span><span>
	</span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CommutativeSemigroup_ZF.html#offset_4197..4206"><span>csgaisfun</span></a><span> </span><span>apply_funtype</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> 
	</span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Semigroup_ZF.html#Semigroup_ZF.Fold1|const"><span>Fold1</span></a><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="FiniteSeq_ZF.html#FiniteSeq_ZF.Append|const"><span>Append</span></a><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>`</span></span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>`</span></span><span class="main"><span>⟨</span></span><a class="entity_ref" href="Semigroup_ZF.html#Semigroup_ZF.Fold1|const"><span>Fold1</span></a><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><span>,</span></span><span class="free"><span>a</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="free"><span>a</span></span><span class="main"><span>`</span></span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>⟩</span></span><span>"</span></span></span><span>
	</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Semigroup_ZF.html#Semigroup_ZF.semigr0.prod_append|fact"><span>semigr0.prod_append</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="CommutativeSemigroup_ZF.html#offset_6938..6940"><span>A1</span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span>bij</span><span class="main"><span>(</span></span><span class="main"><span>|</span></span><span class="free"><span>A</span></span><span class="main"><span>|</span></span><span class="main"><span>,</span></span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
	</span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CommutativeSemigroup_ZF.html#offset_4975..4991"><span>sum_over_set_bij</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>finally</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span class="free"><span>\&lt;ssum&gt;</span></span></span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><span>∪</span></span><span> </span><span class="main"><span>{</span></span><span class="skolem"><span>x</span></span><span class="main"><span>}</span></span><span class="main"><span>,</span></span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span class="free"><span>\&lt;ssum&gt;</span></span></span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span class="main"><span>,</span></span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span class="free"><span>\&lt;ra&gt;</span></span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>`</span></span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>}</span></span></span><span> </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∀</span></span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>X</span></span><span class="main"><span>-</span></span><span class="free"><span>A</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span class="free"><span>\&lt;ssum&gt;</span></span></span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><span>∪</span></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>x</span></span><span class="main"><span>}</span></span><span class="main"><span>,</span></span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span class="free"><span>\&lt;ssum&gt;</span></span></span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span class="main"><span>,</span></span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span class="free"><span>\&lt;ra&gt;</span></span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>`</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>  

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span></pre>
</body>

</html>