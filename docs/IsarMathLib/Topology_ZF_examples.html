<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory Topology_ZF_examples</title>
</head>


<body>
<div class="head">
<h1>Theory Topology_ZF_examples</h1>
</div>

<pre class="source"><span class="comment1">(* 
    This file is a part of IsarMathLib - 
    a library of formalized mathematics written for Isabelle/Isar.

    Copyright (C) 2012 Daniel de la Concepcion

    This program is free software; Redistribution and use in source and binary forms, 
    with or without modification, are permitted provided that the following conditions are met:

   1. Redistributions of source code must retain the above copyright notice, 
   this list of conditions and the following disclaimer.
   2. Redistributions in binary form must reproduce the above copyright notice, 
   this list of conditions and the following disclaimer in the documentation and/or 
   other materials provided with the distribution.
   3. The name of the author may not be used to endorse or promote products 
   derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED 
WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF 
MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, 
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, 
PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; 
OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR 
OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, 
EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. *)</span>

<span class="keyword1"><span class="command">section</span></span> <span class="quoted"><span class="plain_text">‹Topology - examples›</span></span>

<span class="keyword1"><span class="command">theory</span></span> Topology_ZF_examples <span class="keyword2"><span class="keyword">imports</span></span> <a href="Topology_ZF.html">Topology_ZF</a> <a href="Cardinal_ZF.html">Cardinal_ZF</a>

<span class="keyword2"><span class="keyword">begin</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹
  This theory deals with some concrete examples of topologies.
›</span></span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‹CoCardinal Topology ›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹ In this section we define and prove the basic properties of 
the co-cardinal topology on a set $X$.›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The collection of subsets of a set whose complement
is strictly bounded by a cardinal is a topology given some assumptions
on the cardinal.›</span></span>

<span class="keyword1"><span class="command">definition</span></span> 
<span class="quoted"><span class="quoted">"<span class="free">CoCardinal</span><span class="main">(</span><span class="free"><span class="bound"><span class="entity">X</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">T</span></span></span><span class="main">)</span> <span class="main">≡</span> <span class="main">{</span><span class="bound">F</span><span class="main">∈</span>Pow<span class="main">(</span><span class="free"><span class="bound"><span class="entity">X</span></span></span><span class="main">)</span><span class="main">.</span> <span class="free"><span class="bound"><span class="entity">X</span></span></span><span class="main">-</span><span class="bound">F</span> <span class="main">≺</span> <span class="free"><span class="bound"><span class="entity">T</span></span></span><span class="main">}</span><span class="main">∪</span> <span class="main">{</span><span class="main">0</span><span class="main">}</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹For any set and any infinite cardinal we prove that
<span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>CoCardinal(X,Q)›</span></span></span></span> forms a topology. The proof is done
with an infinite cardinal, but it is obvious that the set <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>Q›</span></span></span></span>
can be any set equipollent with an infinite cardinal.
It is a topology also if the set where the topology is defined is
too small or the cardinal too large; in this case, as it is later proved the topology
is a discrete topology. And the last case corresponds with <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>"Q=1"›</span></span></span></span> which translates
in the indiscrete topology.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> CoCar_is_topology<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"InfCard <span class="main">(</span><span class="free">Q</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">Q</span><span class="main">)</span> <span class="keyword1">{is</span> <span class="keyword1">a</span> <span class="keyword1">topology}</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?T</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">Q</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">M</span>
    <span class="keyword3"><span class="command">assume</span></span> A<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">M</span><span class="main">∈</span>Pow<span class="main">(</span><span class="var">?T</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span><span class="main">⊆</span><span class="var">?T</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span><span class="main">⊆</span>Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> CoCardinal_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⋃</span><span class="skolem">M</span><span class="main">∈</span>Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">assume</span></span> B<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">M</span><span class="main">=</span><span class="main">0</span>"</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⋃</span><span class="skolem">M</span><span class="main">∈</span><span class="var">?T</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> CoCardinal_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">assume</span></span> B<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">M</span><span class="main">=</span><span class="main">{</span><span class="main">0</span><span class="main">}</span>"</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⋃</span><span class="skolem">M</span><span class="main">∈</span><span class="var">?T</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> CoCardinal_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">assume</span></span> B<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">M</span> <span class="main">≠</span><span class="main">0</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span><span class="main">≠</span><span class="main">{</span><span class="main">0</span><span class="main">}</span>"</span></span>
      <span class="keyword1"><span class="command">from</span></span> B <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">T</span></span> <span class="keyword2"><span class="keyword">where</span></span> C<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">T</span><span class="main">∈</span><span class="skolem">M</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">T</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> A <span class="keyword1"><span class="command">have</span></span> D<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">-</span><span class="skolem">T</span> <span class="main">≺</span> <span class="main">(</span><span class="free">Q</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> CoCardinal_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">from</span></span> C <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">-</span><span class="main">⋃</span><span class="skolem">M</span><span class="main">⊆</span><span class="free">X</span><span class="main">-</span><span class="skolem">T</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">with</span></span> D <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">-</span><span class="main">⋃</span><span class="skolem">M</span><span class="main">≺</span> <span class="main">(</span><span class="free">Q</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> subset_imp_lepoll lesspoll_trans1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⋃</span><span class="skolem">M</span><span class="main">∈</span><span class="var">?T</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> CoCardinal_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">U</span> <span class="keyword2"><span class="keyword">and</span></span> <span class="skolem">V</span>
    <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">∈</span><span class="var">?T</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">∈</span><span class="var">?T</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> A<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">=</span><span class="main">0</span> <span class="main">∨</span> <span class="main">(</span><span class="skolem">U</span><span class="main">∈</span>Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span> <span class="main">∧</span> <span class="free">X</span><span class="main">-</span><span class="skolem">U</span><span class="main">≺</span> <span class="main">(</span><span class="free">Q</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span>
      B<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">=</span><span class="main">0</span> <span class="main">∨</span> <span class="main">(</span><span class="skolem">V</span><span class="main">∈</span>Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span> <span class="main">∧</span> <span class="free">X</span><span class="main">-</span><span class="skolem">V</span><span class="main">≺</span> <span class="main">(</span><span class="free">Q</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> CoCardinal_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">hence</span></span> D<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">∈</span>Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">∈</span>Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">have</span></span> C<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">-</span><span class="main">(</span><span class="skolem">U</span> <span class="main">∩</span> <span class="skolem">V</span><span class="main">)</span><span class="main">=</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="skolem">U</span><span class="main">)</span><span class="main">∪</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="skolem">V</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
    <span class="keyword1"><span class="command">with</span></span> A B C <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">∩</span><span class="skolem">V</span><span class="main">=</span><span class="main">0</span><span class="main">∨</span><span class="main">(</span><span class="skolem">U</span><span class="main">∩</span><span class="skolem">V</span><span class="main">∈</span>Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span> <span class="main">∧</span> <span class="free">X</span><span class="main">-</span><span class="main">(</span><span class="skolem">U</span> <span class="main">∩</span> <span class="skolem">V</span><span class="main">)</span><span class="main">≺</span> <span class="main">(</span><span class="free">Q</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> less_less_imp_un_less assms
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">∩</span><span class="skolem">V</span><span class="main">∈</span><span class="var">?T</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> CoCardinal_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> IsATopology_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹ We can use theorems proven in <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>topology0›</span></span></span></span> context for the co-cardinal topology. ›</span></span>

<span class="keyword1"><span class="command">theorem</span></span> topology0_CoCardinal<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"InfCard<span class="main">(</span><span class="free">T</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"topology0<span class="main">(</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> topology0_def CoCar_is_topology assms <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹It can also be proven that if <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>CoCardinal(X,T)›</span></span></span></span> is a topology,
<span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span> X≠0, Card(T)›</span></span></span></span> and <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>T≠0›</span></span></span></span>; then <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>T›</span></span></span></span> is an infinite cardinal, <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span> X≺T›</span></span></span></span>
or <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>T=1›</span></span></span></span>.
It follows from the fact that the union of two closed sets is closed. Choosing the appropriate cardinals, the cofinite and the cocountable topologies
are obtained. 

The cofinite topology is a very special topology because it is closely
related to the separation axiom $T_1$. It also appears naturally in algebraic geometry.›</span></span>

<span class="keyword1"><span class="command">definition</span></span>
  <span class="entity">Cofinite</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">CoFinite</span> _"</span> 90<span class="main">)</span> <span class="keyword2"><span class="keyword">where</span></span>
  <span class="quoted"><span class="quoted">"<span class="keyword1"><span class="free">CoFinite</span></span> <span class="free"><span class="bound"><span class="entity">X</span></span></span> <span class="main">≡</span> CoCardinal<span class="main">(</span><span class="free"><span class="bound"><span class="entity">X</span></span></span><span class="main">,</span>nat<span class="main">)</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Cocountable topology in fact consists of the empty set and all cocountable subsets of $X$.›</span></span>

<span class="keyword1"><span class="command">definition</span></span>
  <span class="entity">Cocountable</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">CoCountable</span> _"</span> 90<span class="main">)</span> <span class="keyword2"><span class="keyword">where</span></span>
  <span class="quoted"><span class="quoted">"<span class="keyword1"><span class="free">CoCountable</span></span> <span class="free"><span class="bound"><span class="entity">X</span></span></span> <span class="main">≡</span> CoCardinal<span class="main">(</span><span class="free"><span class="bound"><span class="entity">X</span></span></span><span class="main">,</span>csucc<span class="main">(</span>nat<span class="main">)</span><span class="main">)</span>"</span></span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‹Total set, Closed sets, Interior, Closure and Boundary›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹There are several assertions that can be done to the
 <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>CoCardinal(X,T)›</span></span></span></span> topology. In each case, we will not assume 
sufficient conditions for  <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>CoCardinal(X,T)›</span></span></span></span> to be a topology, but
they will be enough to do the calculations in every posible case.›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The topology is defined in the set $X$›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> union_cocardinal<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">T</span><span class="main">≠</span><span class="main">0</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">⋃</span> CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> <span class="main">=</span> <span class="free">X</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">have</span></span> X<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">-</span><span class="free">X</span><span class="main">=</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">0</span> <span class="main">≲</span> <span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">0</span><span class="main">≺</span><span class="main">1</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">1</span> <span class="main">≲</span><span class="free">T</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> not_0_is_lepoll_1 lepoll_imp_lesspoll_succ <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">0</span><span class="main">≺</span><span class="free">T</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lesspoll_trans2  <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> X <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">X</span><span class="main">)</span><span class="main">≺</span><span class="free">T</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">∈</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> CoCardinal_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">⊆</span><span class="main">⋃</span> CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span>  <span class="quoted"><span class="quoted">"<span class="main">⋃</span> CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">=</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> CoCardinal_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The closed sets are the small subsets of $X$ and $X$ itself.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> closed_sets_cocardinal<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">T</span><span class="main">≠</span><span class="main">0</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">D</span> <span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">in}</span> CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> <span class="main">⟷</span> <span class="main">(</span><span class="free">D</span><span class="main">∈</span>Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span> <span class="main">∧</span> <span class="free">D</span><span class="main">≺</span><span class="free">T</span><span class="main">)</span> <span class="main">∨</span> <span class="free">D</span><span class="main">=</span><span class="free">X</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">assume</span></span> A<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="free">D</span> <span class="main">⊆</span> <span class="free">X</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span> <span class="main">-</span> <span class="free">D</span> <span class="main">∈</span> CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> "</span></span><span class="quoted"><span class="quoted">" <span class="free">D</span> <span class="main">≠</span> <span class="free">X</span>"</span></span>
    <span class="keyword1"><span class="command">from</span></span> A<span class="main">(</span>1<span class="main">,</span>3<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">-</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">D</span><span class="main">)</span><span class="main">=</span><span class="free">D</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">-</span><span class="free">D</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> A<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">D</span><span class="main">≺</span><span class="free">T</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> CoCardinal_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">with</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">D</span> <span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">in}</span> CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> <span class="main">⟶</span> <span class="main">(</span><span class="free">D</span><span class="main">∈</span>Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span> <span class="main">∧</span>  <span class="free">D</span><span class="main">≺</span><span class="free">T</span><span class="main">)</span><span class="main">∨</span> <span class="free">D</span><span class="main">=</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> IsClosed_def
    union_cocardinal <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">assume</span></span> A<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="free">D</span> <span class="main">≺</span> <span class="free">T</span>"</span></span><span class="quoted"><span class="quoted">"<span class="free">D</span> <span class="main">⊆</span> <span class="free">X</span>"</span></span>
    <span class="keyword1"><span class="command">from</span></span> A<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">-</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">D</span><span class="main">)</span><span class="main">=</span><span class="free">D</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">with</span></span> A<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">-</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">D</span><span class="main">)</span><span class="main">≺</span> <span class="free">T</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">-</span><span class="free">D</span><span class="main">∈</span> CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> CoCardinal_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">with</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">D</span><span class="main">∈</span>Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span> <span class="main">∧</span>  <span class="free">D</span><span class="main">≺</span><span class="free">T</span><span class="main">)</span><span class="main">⟶</span> <span class="free">D</span> <span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">in}</span> CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> union_cocardinal
    IsClosed_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">-</span><span class="free">X</span><span class="main">=</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">-</span><span class="free">X</span><span class="main">∈</span> CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span><span class="keyword1"><span class="command">using</span></span> CoCardinal_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">in}</span> CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> union_cocardinal
    IsClosed_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The interior of a set is itself if it is open or <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>0›</span></span></span></span> if
it isn't open.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> interior_set_cocardinal<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> noC<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">T</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">⊆</span><span class="free">X</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"Interior<span class="main">(</span><span class="free">A</span><span class="main">,</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">=</span> <span class="main">(</span><span class="keyword1">if</span> <span class="main">(</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">A</span><span class="main">)</span> <span class="main">≺</span> <span class="free">T</span><span class="main">)</span> <span class="keyword1">then</span> <span class="free">A</span> <span class="keyword1">else</span> <span class="main">0</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> dif_dif<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">-</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">A</span><span class="main">)</span><span class="main">=</span><span class="free">A</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">A</span><span class="main">)</span> <span class="main">≺</span> <span class="free">T</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">A</span><span class="main">)</span><span class="main">∈</span>Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span> <span class="main">∧</span> <span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">A</span><span class="main">)</span> <span class="main">≺</span> <span class="free">T</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> noC <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">A</span><span class="main">)</span> <span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">in}</span> CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> closed_sets_cocardinal
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> noC <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">-</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">A</span><span class="main">)</span><span class="main">∈</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> IsClosed_def union_cocardinal
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> dif_dif <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">∈</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">∈</span><span class="main">{</span><span class="bound">U</span><span class="main">∈</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">.</span> <span class="bound">U</span> <span class="main">⊆</span> <span class="free">A</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">hence</span></span> a1<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">⊆</span><span class="main">⋃</span><span class="main">{</span><span class="bound">U</span><span class="main">∈</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">.</span> <span class="bound">U</span> <span class="main">⊆</span> <span class="free">A</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">have</span></span> a2<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⋃</span><span class="main">{</span><span class="bound">U</span><span class="main">∈</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">.</span> <span class="bound">U</span> <span class="main">⊆</span> <span class="free">A</span><span class="main">}</span><span class="main">⊆</span><span class="free">A</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">from</span></span> a1 a2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Interior<span class="main">(</span><span class="free">A</span><span class="main">,</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">=</span><span class="free">A</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Interior_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span><span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">assume</span></span> as<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">~</span><span class="main">(</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">A</span><span class="main">)</span> <span class="main">≺</span> <span class="free">T</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">U</span>
      <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span> <span class="main">⊆</span><span class="free">A</span>"</span></span>
      <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">-</span><span class="free">A</span> <span class="main">⊆</span> <span class="free">X</span><span class="main">-</span><span class="skolem">U</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> Q<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">-</span><span class="free">A</span> <span class="main">≲</span> <span class="free">X</span><span class="main">-</span><span class="skolem">U</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> subset_imp_lepoll <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">-</span><span class="skolem">U</span><span class="main">≺</span> <span class="free">T</span>"</span></span>
        <span class="keyword1"><span class="command">with</span></span> Q <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">-</span><span class="free">A</span><span class="main">≺</span> <span class="free">T</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lesspoll_trans1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">with</span></span> as <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span>  <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"<span class="main">~</span><span class="main">(</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="skolem">U</span><span class="main">)</span> <span class="main">≺</span> <span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">∉</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">∨</span><span class="skolem">U</span><span class="main">=</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> CoCardinal_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="bound">U</span><span class="main">∈</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">.</span> <span class="bound">U</span> <span class="main">⊆</span> <span class="free">A</span><span class="main">}</span><span class="main">⊆</span><span class="main">{</span><span class="main">0</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Interior<span class="main">(</span><span class="free">A</span><span class="main">,</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">=</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Interior_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹ $X$ is a closed set that contains $A$.
This lemma is necessary because we cannot
use the lemmas proven in the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>topology0›</span></span></span></span> context since
<span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span> T≠0"} ›</span></span></span></span> is too weak for
 <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>CoCardinal(X,T)›</span></span></span></span> to be a topology.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> X_closedcov_cocardinal<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">T</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">⊆</span><span class="free">X</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">∈</span>ClosedCovers<span class="main">(</span><span class="free">A</span><span class="main">,</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> ClosedCovers_def
  <span class="keyword1"><span class="command">using</span></span> union_cocardinal closed_sets_cocardinal assms <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The closure of a set is itself if it is closed or <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>X›</span></span></span></span> if
it isn't closed.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> closure_set_cocardinal<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">T</span><span class="main">≠</span><span class="main">0</span>"</span></span><span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">⊆</span><span class="free">X</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"Closure<span class="main">(</span><span class="free">A</span><span class="main">,</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">=</span><span class="main">(</span><span class="keyword1">if</span> <span class="main">(</span><span class="free">A</span> <span class="main">≺</span> <span class="free">T</span><span class="main">)</span> <span class="keyword1">then</span> <span class="free">A</span> <span class="keyword1">else</span> <span class="free">X</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span> <span class="main">≺</span> <span class="free">T</span>"</span></span>
    <span class="keyword1"><span class="command">with</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span> <span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">in}</span> CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> closed_sets_cocardinal <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">∈</span> <span class="main">{</span><span class="bound">D</span> <span class="main">∈</span> Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span><span class="main">.</span> <span class="bound">D</span> <span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">in}</span> CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> <span class="main">∧</span> <span class="free">A</span><span class="main">⊆</span><span class="bound">D</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> S<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">∈</span>ClosedCovers<span class="main">(</span><span class="free">A</span><span class="main">,</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> ClosedCovers_def
      <span class="keyword1"><span class="command">using</span></span> union_cocardinal <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">hence</span></span> l1<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⋂</span>ClosedCovers<span class="main">(</span><span class="free">A</span><span class="main">,</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">⊆</span><span class="free">A</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">from</span></span> S <span class="keyword1"><span class="command">have</span></span> l2<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="free">A</span> <span class="main">⊆</span> <span class="main">⋂</span>ClosedCovers<span class="main">(</span><span class="free">A</span><span class="main">,</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span> 
      <span class="keyword1"><span class="command">unfolding</span></span>  ClosedCovers_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">from</span></span> l1 l2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Closure<span class="main">(</span><span class="free">A</span><span class="main">,</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">=</span><span class="free">A</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Closure_def
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">assume</span></span> as<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">¬</span> <span class="free">A</span> <span class="main">≺</span> <span class="free">T</span>"</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">U</span>
      <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">⊆</span><span class="skolem">U</span>"</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> Q<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="free">A</span> <span class="main">≲</span> <span class="skolem">U</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> subset_imp_lepoll <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">≺</span> <span class="free">T</span>"</span></span>
        <span class="keyword1"><span class="command">with</span></span> Q <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">≺</span> <span class="free">T</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lesspoll_trans1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">with</span></span> as <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"<span class="main">¬</span> <span class="skolem">U</span> <span class="main">≺</span> <span class="free">T</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">¬</span><span class="main">(</span><span class="skolem">U</span> <span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">in}</span> CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span> <span class="main">∨</span> <span class="skolem">U</span><span class="main">=</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> closed_sets_cocardinal
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">U</span><span class="main">∈</span>Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span><span class="main">.</span> <span class="bound">U</span><span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">in}</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> <span class="main">∧</span> <span class="free">A</span><span class="main">⊆</span><span class="bound">U</span><span class="main">⟶</span><span class="bound">U</span><span class="main">=</span><span class="free">X</span>"</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"ClosedCovers<span class="main">(</span><span class="free">A</span><span class="main">,</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">⊆</span><span class="main">{</span><span class="free">X</span><span class="main">}</span>"</span></span> 
      <span class="keyword1"><span class="command">using</span></span> union_cocardinal <span class="keyword1"><span class="command">using</span></span> ClosedCovers_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"ClosedCovers<span class="main">(</span><span class="free">A</span><span class="main">,</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">=</span><span class="main">{</span><span class="free">X</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> X_closedcov_cocardinal
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">" Closure<span class="main">(</span><span class="free">A</span><span class="main">,</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="free">X</span> "</span></span> <span class="keyword1"><span class="command">using</span></span> Closure_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The boundary of a set is empty if $A$ and $X-A$ are closed,
 <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>X›</span></span></span></span> if not $A$ neither $X-A$ are closed and; if only one is closed,
then the closed one is its boundary.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> boundary_cocardinal<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">T</span><span class="main">≠</span><span class="main">0</span>"</span></span><span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">⊆</span><span class="free">X</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"Boundary<span class="main">(</span><span class="free">A</span><span class="main">,</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="keyword1">if</span> <span class="free">A</span><span class="main">≺</span> <span class="free">T</span> <span class="keyword1">then</span> <span class="main">(</span><span class="keyword1">if</span>  <span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">A</span><span class="main">)</span><span class="main">≺</span> <span class="free">T</span> <span class="keyword1">then</span> <span class="main">0</span> <span class="keyword1">else</span> <span class="free">A</span><span class="main">)</span> <span class="keyword1">else</span> <span class="main">(</span><span class="keyword1">if</span>  <span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">A</span><span class="main">)</span><span class="main">≺</span> <span class="free">T</span> <span class="keyword1">then</span> <span class="free">X</span><span class="main">-</span><span class="free">A</span> <span class="keyword1">else</span> <span class="free">X</span><span class="main">)</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">-</span><span class="free">A</span> <span class="main">⊆</span> <span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">assume</span></span> AS<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">≺</span><span class="free">T</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">-</span><span class="free">A</span> <span class="main">≺</span> <span class="free">T</span>"</span></span>
    <span class="keyword1"><span class="command">with</span></span> assms <span class="quoted"><span class="quoted">‹<span class="free">X</span><span class="main">-</span><span class="free">A</span> <span class="main">⊆</span> <span class="free">X</span>›</span></span> <span class="keyword1"><span class="command">have</span></span>
      <span class="quoted"><span class="quoted">"Closure<span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">A</span><span class="main">,</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="free">X</span><span class="main">-</span><span class="free">A</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"Closure<span class="main">(</span><span class="free">A</span><span class="main">,</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="free">A</span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> closure_set_cocardinal <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Boundary<span class="main">(</span><span class="free">A</span><span class="main">,</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="main">0</span>"</span></span>  
      <span class="keyword1"><span class="command">using</span></span> Boundary_def  union_cocardinal <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">assume</span></span> AS<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">~</span><span class="main">(</span><span class="free">A</span><span class="main">≺</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">-</span><span class="free">A</span> <span class="main">≺</span> <span class="free">T</span>"</span></span>
    <span class="keyword1"><span class="command">with</span></span> assms <span class="quoted"><span class="quoted">‹<span class="free">X</span><span class="main">-</span><span class="free">A</span> <span class="main">⊆</span> <span class="free">X</span>›</span></span> <span class="keyword1"><span class="command">have</span></span>
      <span class="quoted"><span class="quoted">"Closure<span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">A</span><span class="main">,</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="free">X</span><span class="main">-</span><span class="free">A</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"Closure<span class="main">(</span><span class="free">A</span><span class="main">,</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="free">X</span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> closure_set_cocardinal <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> 
    <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Boundary<span class="main">(</span><span class="free">A</span><span class="main">,</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">=</span><span class="free">X</span><span class="main">-</span><span class="free">A</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Boundary_def
      union_cocardinal <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">assume</span></span> AS<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">~</span><span class="main">(</span><span class="free">A</span><span class="main">≺</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">~</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">A</span> <span class="main">≺</span> <span class="free">T</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">with</span></span> assms <span class="quoted"><span class="quoted">‹<span class="free">X</span><span class="main">-</span><span class="free">A</span> <span class="main">⊆</span> <span class="free">X</span>›</span></span> <span class="keyword1"><span class="command">have</span></span>
      <span class="quoted"><span class="quoted">"Closure<span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">A</span><span class="main">,</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">=</span><span class="free">X</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"Closure<span class="main">(</span><span class="free">A</span><span class="main">,</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">=</span><span class="free">X</span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> closure_set_cocardinal <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> 
    <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Boundary<span class="main">(</span><span class="free">A</span><span class="main">,</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">=</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Boundary_def union_cocardinal
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">assume</span></span> AS<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">≺</span> <span class="free">T</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">~</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">A</span><span class="main">≺</span><span class="free">T</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">with</span></span> assms <span class="quoted"><span class="quoted">‹<span class="free">X</span><span class="main">-</span><span class="free">A</span> <span class="main">⊆</span> <span class="free">X</span>›</span></span> <span class="keyword1"><span class="command">have</span></span> 
      <span class="quoted"><span class="quoted">"Closure<span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">A</span><span class="main">,</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">=</span><span class="free">X</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"Closure<span class="main">(</span><span class="free">A</span><span class="main">,</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="free">A</span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> closure_set_cocardinal <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Boundary<span class="main">(</span><span class="free">A</span><span class="main">,</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">=</span><span class="free">A</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Boundary_def union_cocardinal
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹If the set is too small or the cardinal too large, then the topology
is just the discrete topology.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> discrete_cocardinal<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">≺</span><span class="free">T</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> <span class="main">=</span> Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">U</span>
    <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">∈</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span> <span class="main">∈</span> Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> CoCardinal_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> <span class="main">⊆</span> Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">U</span>
    <span class="keyword3"><span class="command">assume</span></span> A<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">U</span> <span class="main">∈</span> Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">-</span><span class="skolem">U</span> <span class="main">⊆</span> <span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">-</span><span class="skolem">U</span> <span class="main">≲</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> subset_imp_lepoll <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">-</span><span class="skolem">U</span><span class="main">≺</span> <span class="free">T</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lesspoll_trans1 assms <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> A <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">∈</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> CoCardinal_def
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span> <span class="main">⊆</span> CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹If the cardinal is taken as <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span> T=1 ›</span></span></span></span> then the topology is indiscrete.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> indiscrete_cocardinal<span class="main">:</span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="main">1</span><span class="main">)</span> <span class="main">=</span> <span class="main">{</span><span class="main">0</span><span class="main">,</span><span class="free">X</span><span class="main">}</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">Q</span>
    <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">Q</span> <span class="main">∈</span> CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="main">1</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">Q</span> <span class="main">∈</span> Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">Q</span><span class="main">=</span><span class="main">0</span> <span class="main">∨</span> <span class="free">X</span><span class="main">-</span><span class="skolem">Q</span><span class="main">≺</span><span class="main">1</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> CoCardinal_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">Q</span> <span class="main">∈</span> Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">Q</span><span class="main">=</span><span class="main">0</span> <span class="main">∨</span> <span class="free">X</span><span class="main">-</span><span class="skolem">Q</span><span class="main">=</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lesspoll_succ_iff lepoll_0_iff <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">Q</span><span class="main">=</span><span class="main">0</span> <span class="main">∨</span> <span class="skolem">Q</span><span class="main">=</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="main">1</span><span class="main">)</span> <span class="main">⊆</span> <span class="main">{</span><span class="main">0</span><span class="main">,</span> <span class="free">X</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">0</span> <span class="main">∈</span> CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="main">1</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> CoCardinal_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">0</span><span class="main">≺</span><span class="main">1</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">-</span><span class="free">X</span><span class="main">=</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lesspoll_succ_iff <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">∈</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="main">1</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> CoCardinal_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="main">0</span><span class="main">,</span> <span class="free">X</span><span class="main">}</span> <span class="main">⊆</span> CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="main">1</span><span class="main">)</span> "</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The topological subspaces of the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>CoCardinal(X,T)›</span></span></span></span> topology
are also CoCardinal topologies.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> subspace_cocardinal<span class="main">:</span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> <span class="keyword1">{restricted</span> <span class="keyword1">to}</span> <span class="free">Y</span> <span class="main">=</span> CoCardinal<span class="main">(</span><span class="free">Y</span><span class="main">∩</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">M</span>
    <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span> <span class="main">∈</span> <span class="main">(</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> <span class="keyword1">{restricted</span> <span class="keyword1">to}</span> <span class="free">Y</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">A</span></span> <span class="keyword2"><span class="keyword">where</span></span> A1<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">A</span> <span class="main">∈</span> CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span><span class="main">=</span><span class="free">Y</span> <span class="main">∩</span> <span class="skolem">A</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> RestrictedTo_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span> <span class="main">∈</span> Pow<span class="main">(</span><span class="free">X</span> <span class="main">∩</span> <span class="free">Y</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> CoCardinal_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">Y</span> <span class="main">∩</span> <span class="free">X</span><span class="main">)</span><span class="main">-</span><span class="skolem">M</span> <span class="main">=</span> <span class="main">(</span><span class="free">Y</span> <span class="main">∩</span> <span class="free">X</span><span class="main">)</span><span class="main">-</span><span class="skolem">A</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> CoCardinal_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="free">Y</span> <span class="main">∩</span> <span class="free">X</span><span class="main">)</span><span class="main">-</span><span class="skolem">M</span> <span class="main">=</span> <span class="main">(</span><span class="free">Y</span> <span class="main">∩</span> <span class="free">X</span><span class="main">)</span><span class="main">-</span><span class="skolem">A</span>›</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">Y</span> <span class="main">∩</span> <span class="free">X</span><span class="main">)</span><span class="main">-</span><span class="skolem">M</span><span class="main">⊆</span> <span class="free">X</span><span class="main">-</span><span class="skolem">A</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">Y</span> <span class="main">∩</span> <span class="free">X</span><span class="main">)</span><span class="main">-</span><span class="skolem">M</span> <span class="main">≲</span> <span class="free">X</span><span class="main">-</span><span class="skolem">A</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> subset_imp_lepoll <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">Y</span> <span class="main">∩</span> <span class="free">X</span><span class="main">)</span><span class="main">-</span><span class="skolem">M</span> <span class="main">≺</span> <span class="free">T</span> <span class="main">∨</span> <span class="skolem">M</span><span class="main">=</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lesspoll_trans1 CoCardinal_def
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span> <span class="main">∈</span> CoCardinal<span class="main">(</span><span class="free">Y</span><span class="main">∩</span><span class="free">X</span><span class="main">,</span> <span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> CoCardinal_def
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> <span class="keyword1">{restricted</span> <span class="keyword1">to}</span> <span class="free">Y</span> <span class="main">⊆</span> CoCardinal<span class="main">(</span><span class="free">Y</span><span class="main">∩</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">M</span>
    <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?A</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span> <span class="main">∪</span> <span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">Y</span><span class="main">)</span>"</span></span>
    <span class="keyword3"><span class="command">assume</span></span> A<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">M</span> <span class="main">∈</span> CoCardinal<span class="main">(</span><span class="free">Y</span> <span class="main">∩</span> <span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span><span class="main">=</span><span class="main">0</span>"</span></span>
      <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span><span class="main">=</span><span class="main">0</span> <span class="main">∩</span> <span class="free">Y</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span><span class="main">∈</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> <span class="keyword1">{restricted</span> <span class="keyword1">to}</span> <span class="free">Y</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> RestrictedTo_def
        CoCardinal_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">assume</span></span> AS<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">M</span><span class="main">≠</span><span class="main">0</span>"</span></span>
      <span class="keyword1"><span class="command">from</span></span> A AS <span class="keyword1"><span class="command">have</span></span> A1<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">(</span><span class="skolem">M</span><span class="main">∈</span>Pow<span class="main">(</span><span class="free">Y</span> <span class="main">∩</span> <span class="free">X</span><span class="main">)</span> <span class="main">∧</span> <span class="main">(</span><span class="free">Y</span> <span class="main">∩</span> <span class="free">X</span><span class="main">)</span><span class="main">-</span><span class="skolem">M</span><span class="main">≺</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> CoCardinal_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"<span class="var">?A</span><span class="main">∈</span>Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">-</span><span class="var">?A</span><span class="main">=</span><span class="main">(</span><span class="free">Y</span> <span class="main">∩</span> <span class="free">X</span><span class="main">)</span><span class="main">-</span><span class="skolem">M</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">-</span><span class="var">?A</span><span class="main">≺</span> <span class="free">T</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?A</span><span class="main">∈</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> CoCardinal_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> AT<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="free">Y</span> <span class="main">∩</span> <span class="var">?A</span><span class="main">∈</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> <span class="keyword1">{restricted</span> <span class="keyword1">to}</span> <span class="free">Y</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> RestrictedTo_def
        <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">Y</span> <span class="main">∩</span> <span class="var">?A</span><span class="main">=</span><span class="free">Y</span> <span class="main">∩</span> <span class="skolem">M</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">…</span><span class="main">=</span><span class="skolem">M</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">finally</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">Y</span> <span class="main">∩</span> <span class="var">?A</span><span class="main">=</span><span class="skolem">M</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
      <span class="keyword1"><span class="command">with</span></span> AT <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span><span class="main">∈</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> <span class="keyword1">{restricted</span> <span class="keyword1">to}</span> <span class="free">Y</span>"</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span><span class="main">∈</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> <span class="keyword1">{restricted</span> <span class="keyword1">to}</span> <span class="free">Y</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"CoCardinal<span class="main">(</span><span class="free">Y</span> <span class="main">∩</span> <span class="free">X</span><span class="main">,</span> <span class="free">T</span><span class="main">)</span> <span class="main">⊆</span> CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> <span class="keyword1">{restricted</span> <span class="keyword1">to}</span> <span class="free">Y</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‹Excluded Set Topology›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹In this section, we consider all the subsets of a set
which have empty intersection with a fixed set.›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹ The excluded set topology consists of subsets of $X$ that are disjoint with a fixed set $U$. ›</span></span>

<span class="keyword1"><span class="command">definition</span></span> <span class="quoted"><span class="quoted">"<span class="free">ExcludedSet</span><span class="main">(</span><span class="free"><span class="bound"><span class="entity">X</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">U</span></span></span><span class="main">)</span> <span class="main">≡</span> <span class="main">{</span><span class="bound">F</span><span class="main">∈</span>Pow<span class="main">(</span><span class="free"><span class="bound"><span class="entity">X</span></span></span><span class="main">)</span><span class="main">.</span> <span class="free"><span class="bound"><span class="entity">U</span></span></span> <span class="main">∩</span> <span class="bound">F</span><span class="main">=</span><span class="main">0</span><span class="main">}</span><span class="main">∪</span> <span class="main">{</span><span class="free"><span class="bound"><span class="entity">X</span></span></span><span class="main">}</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹For any set; we prove that
<span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>ExcludedSet(X,Q)›</span></span></span></span> forms a topology.›</span></span>

<span class="keyword1"><span class="command">theorem</span></span> excludedset_is_topology<span class="main">:</span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">Q</span><span class="main">)</span> <span class="keyword1">{is</span> <span class="keyword1">a</span> <span class="keyword1">topology}</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">M</span>
    <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span> <span class="main">∈</span> Pow<span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">Q</span><span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> A<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">M</span><span class="main">⊆</span><span class="main">{</span><span class="bound">F</span><span class="main">∈</span>Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span><span class="main">.</span> <span class="free">Q</span> <span class="main">∩</span> <span class="bound">F</span><span class="main">=</span><span class="main">0</span><span class="main">}</span><span class="main">∪</span> <span class="main">{</span><span class="free">X</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> ExcludedSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"<span class="main">⋃</span><span class="skolem">M</span><span class="main">∈</span>Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword1"><span class="command">have</span></span> B<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="free">Q</span> <span class="main">∩</span><span class="main">⋃</span><span class="skolem">M</span><span class="main">=</span><span class="main">⋃</span><span class="main">{</span><span class="free">Q</span> <span class="main">∩</span><span class="bound">T</span><span class="main">.</span> <span class="bound">T</span><span class="main">∈</span><span class="skolem">M</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">∉</span><span class="skolem">M</span>"</span></span>
        <span class="keyword1"><span class="command">with</span></span> A <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span><span class="main">⊆</span><span class="main">{</span><span class="bound">F</span><span class="main">∈</span>Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span><span class="main">.</span> <span class="free">Q</span> <span class="main">∩</span> <span class="bound">F</span><span class="main">=</span><span class="main">0</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">with</span></span> B <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">Q</span> <span class="main">∩</span> <span class="main">⋃</span><span class="skolem">M</span><span class="main">=</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">∈</span><span class="skolem">M</span>"</span></span>
        <span class="keyword1"><span class="command">with</span></span> A <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⋃</span><span class="skolem">M</span><span class="main">=</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span>  <span class="quoted"><span class="quoted">"<span class="free">Q</span> <span class="main">∩</span> <span class="main">⋃</span><span class="skolem">M</span><span class="main">=</span><span class="main">0</span> <span class="main">∨</span> <span class="main">⋃</span><span class="skolem">M</span><span class="main">=</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⋃</span><span class="skolem">M</span><span class="main">∈</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">Q</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> ExcludedSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">U</span> <span class="skolem">V</span>
    <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">∈</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">Q</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">∈</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">Q</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">∈</span>Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">∈</span>Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">=</span><span class="free">X</span><span class="main">∨</span> <span class="skolem">U</span> <span class="main">∩</span> <span class="free">Q</span><span class="main">=</span><span class="main">0</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">=</span><span class="free">X</span><span class="main">∨</span> <span class="skolem">V</span> <span class="main">∩</span> <span class="free">Q</span><span class="main">=</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> ExcludedSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">∈</span>Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">∈</span>Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">(</span><span class="skolem">U</span> <span class="main">∩</span> <span class="skolem">V</span><span class="main">)</span><span class="main">=</span><span class="free">X</span> <span class="main">∨</span> <span class="free">Q</span><span class="main">∩</span><span class="main">(</span><span class="skolem">U</span> <span class="main">∩</span> <span class="skolem">V</span><span class="main">)</span><span class="main">=</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="skolem">U</span> <span class="main">∩</span> <span class="skolem">V</span><span class="main">)</span><span class="main">∈</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">Q</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> ExcludedSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> IsATopology_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹We can use <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>topology0›</span></span></span></span>  when discussing excluded set topology. ›</span></span>

<span class="keyword1"><span class="command">theorem</span></span> topology0_excludedset<span class="main">:</span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"topology0<span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> topology0_def excludedset_is_topology <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Choosing a singleton set, it is considered a point in excluded topology.›</span></span>

<span class="keyword1"><span class="command">definition</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">ExcludedPoint</span><span class="main">(</span><span class="free"><span class="bound"><span class="entity">X</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">p</span></span></span><span class="main">)</span> <span class="main">≡</span> ExcludedSet<span class="main">(</span><span class="free"><span class="bound"><span class="entity">X</span></span></span><span class="main">,</span><span class="main">{</span><span class="free"><span class="bound"><span class="entity">p</span></span></span><span class="main">}</span><span class="main">)</span>"</span></span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‹Total set, closed sets, interior, closure and boundary›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Here we discuss what are closed sets, interior, closure and boundary in excluded set topology.›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The topology is defined in the set $X$›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> union_excludedset<span class="main">:</span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">⋃</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> <span class="main">=</span> <span class="free">X</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span> <span class="main">∈</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> ExcludedSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> ExcludedSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The closed sets are those which contain the set <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>(X ∩ T)›</span></span></span></span> and <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>0›</span></span></span></span>.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> closed_sets_excludedset<span class="main">:</span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">D</span> <span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">in}</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> <span class="main">⟷</span> <span class="main">(</span><span class="free">D</span><span class="main">∈</span>Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span> <span class="main">∧</span> <span class="main">(</span><span class="free">X</span> <span class="main">∩</span> <span class="free">T</span><span class="main">)</span> <span class="main">⊆</span> <span class="free">D</span><span class="main">)</span> <span class="main">∨</span> <span class="free">D</span><span class="main">=</span><span class="main">0</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span>
    <span class="keyword3"><span class="command">assume</span></span> A<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="free">D</span> <span class="main">⊆</span> <span class="free">X</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">-</span><span class="free">D</span> <span class="main">∈</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">D</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="free">T</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="free">X</span>"</span></span>
    <span class="keyword1"><span class="command">from</span></span> A<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> B<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">-</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">D</span><span class="main">)</span><span class="main">=</span><span class="free">D</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">from</span></span> A<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">T</span><span class="main">∩</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">D</span><span class="main">)</span><span class="main">=</span><span class="main">0</span><span class="main">∨</span> <span class="free">X</span><span class="main">-</span><span class="free">D</span><span class="main">=</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> ExcludedSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"<span class="free">T</span><span class="main">∩</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">D</span><span class="main">)</span><span class="main">=</span><span class="main">0</span><span class="main">∨</span> <span class="free">X</span><span class="main">-</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">D</span><span class="main">)</span><span class="main">=</span><span class="free">X</span><span class="main">-</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> B <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">T</span><span class="main">∩</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">D</span><span class="main">)</span><span class="main">=</span><span class="main">0</span><span class="main">∨</span> <span class="free">D</span><span class="main">=</span><span class="free">X</span><span class="main">-</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"<span class="free">T</span><span class="main">∩</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">D</span><span class="main">)</span><span class="main">=</span><span class="main">0</span><span class="main">∨</span> <span class="free">D</span><span class="main">=</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> A<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">T</span><span class="main">∩</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">D</span><span class="main">)</span><span class="main">=</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> A<span class="main">(</span>4<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∉</span><span class="free">X</span><span class="main">-</span><span class="free">D</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> A<span class="main">(</span>5<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="free">D</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">assume</span></span> A<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">∩</span><span class="free">T</span><span class="main">⊆</span><span class="free">D</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">D</span><span class="main">⊆</span><span class="free">X</span>"</span></span>
    <span class="keyword1"><span class="command">from</span></span> A<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">-</span><span class="free">D</span><span class="main">⊆</span><span class="free">X</span><span class="main">-</span><span class="main">(</span><span class="free">X</span><span class="main">∩</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="free">X</span><span class="main">-</span><span class="free">T</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">finally</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">T</span><span class="main">∩</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">D</span><span class="main">)</span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">-</span><span class="free">D</span> <span class="main">∈</span> Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">-</span><span class="free">D</span> <span class="main">∈</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> ExcludedSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> IsClosed_def union_excludedset ExcludedSet_def 
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The interior of a set is itself if it is <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>X›</span></span></span></span> or the difference with the set <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>T›</span></span></span></span>›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> interior_set_excludedset<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">⊆</span><span class="free">X</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"Interior<span class="main">(</span><span class="free">A</span><span class="main">,</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="keyword1">if</span> <span class="free">A</span><span class="main">=</span><span class="free">X</span> <span class="keyword1">then</span> <span class="free">X</span> <span class="keyword1">else</span> <span class="free">A</span><span class="main">-</span><span class="free">T</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">assume</span></span> A<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">≠</span><span class="free">X</span>"</span></span>
    <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">-</span><span class="free">T</span> <span class="main">∈</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> ExcludedSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">-</span><span class="free">T</span><span class="main">⊆</span>Interior<span class="main">(</span><span class="free">A</span><span class="main">,</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Interior_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">U</span>
      <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span> <span class="main">∈</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">⊆</span><span class="free">A</span>"</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">T</span><span class="main">∩</span><span class="skolem">U</span><span class="main">=</span><span class="main">0</span> <span class="main">∨</span> <span class="skolem">U</span><span class="main">=</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">⊆</span><span class="free">A</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> ExcludedSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> A assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">T</span><span class="main">∩</span><span class="skolem">U</span><span class="main">=</span><span class="main">0</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">⊆</span><span class="free">A</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">-</span><span class="free">T</span><span class="main">=</span><span class="skolem">U</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">-</span><span class="free">T</span><span class="main">⊆</span><span class="free">A</span><span class="main">-</span><span class="free">T</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> 
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">⊆</span><span class="free">A</span><span class="main">-</span><span class="free">T</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Interior<span class="main">(</span><span class="free">A</span><span class="main">,</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">⊆</span><span class="free">A</span><span class="main">-</span><span class="free">T</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Interior_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Interior<span class="main">(</span><span class="free">A</span><span class="main">,</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">=</span><span class="free">A</span><span class="main">-</span><span class="free">T</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">∈</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> ExcludedSet_def
  union_excludedset <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Interior<span class="main">(</span><span class="free">X</span><span class="main">,</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> topology0.Top_2_L3
  topology0_excludedset <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The closure of a set is itself if it is <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>0›</span></span></span></span> or
the union with <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>T›</span></span></span></span>.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> closure_set_excludedset<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">⊆</span><span class="free">X</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"Closure<span class="main">(</span><span class="free">A</span><span class="main">,</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">=</span><span class="main">(</span><span class="keyword1">if</span> <span class="free">A</span><span class="main">=</span><span class="main">0</span> <span class="keyword1">then</span> <span class="main">0</span> <span class="keyword1">else</span> <span class="free">A</span> <span class="main">∪</span><span class="main">(</span><span class="free">X</span><span class="main">∩</span> <span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">0</span><span class="main">∈</span>ClosedCovers<span class="main">(</span><span class="main">0</span><span class="main">,</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> ClosedCovers_def
    closed_sets_excludedset <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Closure<span class="main">(</span><span class="main">0</span><span class="main">,</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">⊆</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Closure_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"Closure<span class="main">(</span><span class="main">0</span><span class="main">,</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">=</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">assume</span></span> A<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">≠</span><span class="main">0</span>"</span></span>
    <span class="keyword1"><span class="command">with</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">A</span><span class="main">∪</span><span class="main">(</span><span class="free">X</span><span class="main">∩</span><span class="free">T</span><span class="main">)</span><span class="main">)</span> <span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">in}</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> closed_sets_excludedset  
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">A</span> <span class="main">∪</span><span class="main">(</span><span class="free">X</span><span class="main">∩</span> <span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">∈</span> <span class="main">{</span><span class="bound">D</span> <span class="main">∈</span> Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span><span class="main">.</span> <span class="bound">D</span> <span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">in}</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> <span class="main">∧</span> <span class="free">A</span><span class="main">⊆</span><span class="bound">D</span><span class="main">}</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> assms <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">A</span> <span class="main">∪</span><span class="main">(</span><span class="free">X</span><span class="main">∩</span> <span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">∈</span>ClosedCovers<span class="main">(</span><span class="free">A</span><span class="main">,</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> ClosedCovers_def
    <span class="keyword1"><span class="command">using</span></span> union_excludedset <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> l1<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⋂</span>ClosedCovers<span class="main">(</span><span class="free">A</span><span class="main">,</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span> <span class="main">⊆</span> <span class="main">(</span><span class="free">A</span> <span class="main">∪</span><span class="main">(</span><span class="free">X</span><span class="main">∩</span> <span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">U</span>
      <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">∈</span>ClosedCovers<span class="main">(</span><span class="free">A</span><span class="main">,</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">in}</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">⊆</span><span class="skolem">U</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> ClosedCovers_def
       union_excludedset <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">=</span><span class="main">0</span><span class="main">∨</span><span class="main">(</span><span class="free">X</span><span class="main">∩</span><span class="free">T</span><span class="main">)</span><span class="main">⊆</span><span class="skolem">U</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">⊆</span><span class="skolem">U</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> closed_sets_excludedset
       <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> A <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">X</span><span class="main">∩</span><span class="free">T</span><span class="main">)</span><span class="main">⊆</span><span class="skolem">U</span>"</span></span><span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">⊆</span><span class="skolem">U</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">X</span><span class="main">∩</span><span class="free">T</span><span class="main">)</span><span class="main">∪</span><span class="free">A</span><span class="main">⊆</span><span class="skolem">U</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">with</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">A</span> <span class="main">∪</span><span class="main">(</span><span class="free">X</span><span class="main">∩</span> <span class="free">T</span><span class="main">)</span><span class="main">)</span> <span class="main">⊆</span> <span class="main">⋂</span>ClosedCovers<span class="main">(</span><span class="free">A</span><span class="main">,</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span> 
      <span class="keyword1"><span class="command">using</span></span> topology0.Top_3_L3 topology0_excludedset union_excludedset 
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> l1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⋂</span>ClosedCovers<span class="main">(</span><span class="free">A</span><span class="main">,</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="free">A</span><span class="main">∪</span><span class="main">(</span><span class="free">X</span><span class="main">∩</span><span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Closure<span class="main">(</span><span class="free">A</span><span class="main">,</span> ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="free">A</span><span class="main">∪</span><span class="main">(</span><span class="free">X</span><span class="main">∩</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Closure_def 
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The boundary of a set is <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>0›</span></span></span></span> if $A$ is <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>X›</span></span></span></span> or <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>0›</span></span></span></span>, and <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>X∩T›</span></span></span></span> in other case. ›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> boundary_excludedset<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">⊆</span><span class="free">X</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"Boundary<span class="main">(</span><span class="free">A</span><span class="main">,</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="keyword1">if</span> <span class="free">A</span><span class="main">=</span><span class="main">0</span><span class="main">∨</span><span class="free">A</span><span class="main">=</span><span class="free">X</span> <span class="keyword1">then</span> <span class="main">0</span> <span class="keyword1">else</span> <span class="free">X</span><span class="main">∩</span><span class="free">T</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Closure<span class="main">(</span><span class="main">0</span><span class="main">,</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">=</span><span class="main">0</span>"</span></span><span class="quoted"><span class="quoted">"Closure<span class="main">(</span><span class="free">X</span> <span class="main">-</span> <span class="main">0</span><span class="main">,</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">=</span><span class="free">X</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> closure_set_excludedset <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Boundary<span class="main">(</span><span class="main">0</span><span class="main">,</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="main">0</span>"</span></span><span class="keyword1"><span class="command">using</span></span> Boundary_def <span class="keyword1"><span class="command">using</span></span>
      union_excludedset assms <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">-</span><span class="free">X</span><span class="main">=</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Closure<span class="main">(</span><span class="free">X</span><span class="main">,</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="free">X</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"Closure<span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">X</span><span class="main">,</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="main">0</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> closure_set_excludedset <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Boundary<span class="main">(</span><span class="free">X</span><span class="main">,</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="main">0</span>"</span></span><span class="keyword1"><span class="command">unfolding</span></span> Boundary_def <span class="keyword1"><span class="command">using</span></span>
      union_excludedset <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">≠</span><span class="free">X</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">-</span><span class="free">A</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> 
    <span class="keyword1"><span class="command">with</span></span> assms <span class="quoted"><span class="quoted">‹<span class="free">A</span><span class="main">≠</span><span class="main">0</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="free">A</span><span class="main">⊆</span><span class="free">X</span>›</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Closure<span class="main">(</span><span class="free">A</span><span class="main">,</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="free">A</span> <span class="main">∪</span> <span class="main">(</span><span class="free">X</span><span class="main">∩</span><span class="free">T</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> closure_set_excludedset <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span> 
    <span class="keyword1"><span class="command">moreover</span></span> 
    <span class="keyword1"><span class="command">from</span></span> <span class="quoted"><span class="quoted">‹<span class="free">A</span><span class="main">⊆</span><span class="free">X</span>›</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">-</span><span class="free">A</span> <span class="main">⊆</span> <span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‹<span class="free">X</span><span class="main">-</span><span class="free">A</span><span class="main">≠</span><span class="main">0</span>›</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Closure<span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">A</span><span class="main">,</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">A</span><span class="main">)</span> <span class="main">∪</span> <span class="main">(</span><span class="free">X</span><span class="main">∩</span><span class="free">T</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> closure_set_excludedset <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Boundary<span class="main">(</span><span class="free">A</span><span class="main">,</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="free">X</span><span class="main">∩</span><span class="free">T</span>"</span></span> 
      <span class="keyword1"><span class="command">using</span></span> Boundary_def union_excludedset <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‹Special cases and subspaces›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹This section provides some miscellaneous facts about excluded set topologies. ›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The excluded set topology is equal in the sets <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>T›</span></span></span></span> and <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>X∩T›</span></span></span></span>.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> smaller_excludedset<span class="main">:</span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> <span class="main">=</span> ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="main">(</span><span class="free">X</span><span class="main">∩</span><span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span>
  <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> <span class="main">⊆</span> ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">X</span><span class="main">∩</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">X</span><span class="main">∩</span><span class="free">T</span><span class="main">)</span> <span class="main">⊆</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span> 
    <span class="keyword1"><span class="command">unfolding</span></span> ExcludedSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> 
<span class="keyword1"><span class="command">qed</span></span> 

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹If the set which is excluded is disjoint with <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>X›</span></span></span></span>,
then the topology is discrete.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> empty_excludedset<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">T</span><span class="main">∩</span><span class="free">X</span><span class="main">=</span><span class="main">0</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> <span class="main">=</span> Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span>
  <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> <span class="main">⊆</span> Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span>"</span></span>  <span class="keyword1"><span class="command">using</span></span> smaller_excludedset ExcludedSet_def 
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span> <span class="main">⊆</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> ExcludedSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The topological subspaces of the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>ExcludedSet X T›</span></span></span></span> topology
are also ExcludedSet topologies.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> subspace_excludedset<span class="main">:</span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> <span class="keyword1">{restricted</span> <span class="keyword1">to}</span> <span class="free">Y</span> <span class="main">=</span> ExcludedSet<span class="main">(</span><span class="free">Y</span> <span class="main">∩</span> <span class="free">X</span><span class="main">,</span> <span class="free">T</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">M</span>
    <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span><span class="main">∈</span><span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> <span class="keyword1">{restricted</span> <span class="keyword1">to}</span> <span class="free">Y</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">A</span></span> <span class="keyword2"><span class="keyword">where</span></span> A1<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">A</span><span class="main">:</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span><span class="main">=</span><span class="free">Y</span> <span class="main">∩</span> <span class="skolem">A</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> RestrictedTo_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span><span class="main">∈</span>Pow<span class="main">(</span><span class="free">X</span> <span class="main">∩</span> <span class="free">Y</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> ExcludedSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">T</span><span class="main">∩</span><span class="skolem">M</span><span class="main">=</span><span class="main">0</span><span class="main">∨</span><span class="skolem">M</span><span class="main">=</span><span class="free">Y</span><span class="main">∩</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> ExcludedSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span> <span class="main">∈</span> ExcludedSet<span class="main">(</span><span class="free">Y</span> <span class="main">∩</span> <span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> ExcludedSet_def
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> <span class="keyword1">{restricted</span> <span class="keyword1">to}</span> <span class="free">Y</span> <span class="main">⊆</span> ExcludedSet<span class="main">(</span><span class="free">Y</span><span class="main">∩</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">M</span>
    <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?A</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span>  <span class="main">∪</span> <span class="main">(</span><span class="main">(</span><span class="free">X</span><span class="main">∩</span><span class="free">Y</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">-</span><span class="free">Y</span><span class="main">)</span>"</span></span>
    <span class="keyword3"><span class="command">assume</span></span> A<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">M</span> <span class="main">∈</span> ExcludedSet<span class="main">(</span><span class="free">Y</span><span class="main">∩</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span> <span class="main">=</span> <span class="free">Y</span> <span class="main">∩</span> <span class="free">X</span>"</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span> <span class="main">∈</span> ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> <span class="keyword1">{restricted</span> <span class="keyword1">to}</span> <span class="free">Y</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> RestrictedTo_def
        ExcludedSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">assume</span></span> AS<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">M</span><span class="main">≠</span><span class="free">Y</span> <span class="main">∩</span> <span class="free">X</span>"</span></span>
      <span class="keyword1"><span class="command">from</span></span> A AS <span class="keyword1"><span class="command">have</span></span> A1<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">(</span><span class="skolem">M</span><span class="main">∈</span>Pow<span class="main">(</span><span class="free">Y</span> <span class="main">∩</span> <span class="free">X</span><span class="main">)</span> <span class="main">∧</span> <span class="free">T</span><span class="main">∩</span><span class="skolem">M</span><span class="main">=</span><span class="main">0</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> ExcludedSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?A</span><span class="main">∈</span>Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">T</span><span class="main">∩</span><span class="var">?A</span><span class="main">=</span><span class="free">T</span><span class="main">∩</span><span class="skolem">M</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">T</span><span class="main">∩</span><span class="var">?A</span><span class="main">=</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?A</span> <span class="main">∈</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> ExcludedSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> AT<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="free">Y</span> <span class="main">∩</span> <span class="var">?A</span> <span class="main">∈</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> <span class="keyword1">{restricted</span> <span class="keyword1">to}</span> <span class="free">Y</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> RestrictedTo_def
        <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">Y</span> <span class="main">∩</span> <span class="var">?A</span><span class="main">=</span><span class="free">Y</span> <span class="main">∩</span> <span class="skolem">M</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">…</span><span class="main">=</span><span class="skolem">M</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> A1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">finally</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">Y</span><span class="main">∩</span><span class="var">?A</span> <span class="main">=</span> <span class="skolem">M</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
      <span class="keyword1"><span class="command">with</span></span> AT <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span> <span class="main">∈</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> <span class="keyword1">{restricted</span> <span class="keyword1">to}</span> <span class="free">Y</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span> <span class="main">∈</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> <span class="keyword1">{restricted</span> <span class="keyword1">to}</span> <span class="free">Y</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"ExcludedSet<span class="main">(</span><span class="free">Y</span> <span class="main">∩</span> <span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> <span class="main">⊆</span> ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> <span class="keyword1">{restricted</span> <span class="keyword1">to}</span> <span class="free">Y</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‹Included Set Topology›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹In this section we consider the subsets of a set which contain a fixed set.
The family defined in this section and the one in the previous section are
dual; meaning that the closed set of one are the open sets of the other.›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹ We define the included set topology as the collection of supersets of some fixed subset
  of the space $X$. ›</span></span>

<span class="keyword1"><span class="command">definition</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">IncludedSet</span><span class="main">(</span><span class="free"><span class="bound"><span class="entity">X</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">U</span></span></span><span class="main">)</span> <span class="main">≡</span> <span class="main">{</span><span class="bound">F</span><span class="main">∈</span>Pow<span class="main">(</span><span class="free"><span class="bound"><span class="entity">X</span></span></span><span class="main">)</span><span class="main">.</span> <span class="free"><span class="bound"><span class="entity">U</span></span></span> <span class="main">⊆</span> <span class="bound">F</span><span class="main">}</span> <span class="main">∪</span> <span class="main">{</span><span class="main">0</span><span class="main">}</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹ In the next theorem we prove that <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>IncludedSet X Q›</span></span></span></span> forms a topology.›</span></span>

<span class="keyword1"><span class="command">theorem</span></span> includedset_is_topology<span class="main">:</span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">Q</span><span class="main">)</span> <span class="keyword1">{is</span> <span class="keyword1">a</span> <span class="keyword1">topology}</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">M</span>
    <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span> <span class="main">∈</span> Pow<span class="main">(</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">Q</span><span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> A<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">M</span><span class="main">⊆</span><span class="main">{</span><span class="bound">F</span><span class="main">∈</span>Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span><span class="main">.</span> <span class="free">Q</span> <span class="main">⊆</span> <span class="bound">F</span><span class="main">}</span><span class="main">∪</span> <span class="main">{</span><span class="main">0</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> IncludedSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⋃</span><span class="skolem">M</span><span class="main">∈</span>Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">have</span></span><span class="quoted"><span class="quoted">"<span class="free">Q</span> <span class="main">⊆</span><span class="main">⋃</span><span class="skolem">M</span><span class="main">∨</span> <span class="main">⋃</span><span class="skolem">M</span><span class="main">=</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> A <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⋃</span><span class="skolem">M</span><span class="main">∈</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">Q</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> IncludedSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">U</span> <span class="skolem">V</span>
    <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">∈</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">Q</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">∈</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">Q</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">∈</span>Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">∈</span>Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">=</span><span class="main">0</span><span class="main">∨</span> <span class="free">Q</span><span class="main">⊆</span><span class="skolem">U</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">=</span><span class="main">0</span><span class="main">∨</span> <span class="free">Q</span><span class="main">⊆</span><span class="skolem">V</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> IncludedSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">∈</span>Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">∈</span>Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">(</span><span class="skolem">U</span> <span class="main">∩</span> <span class="skolem">V</span><span class="main">)</span><span class="main">=</span><span class="main">0</span> <span class="main">∨</span> <span class="free">Q</span><span class="main">⊆</span><span class="main">(</span><span class="skolem">U</span> <span class="main">∩</span> <span class="skolem">V</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="skolem">U</span> <span class="main">∩</span> <span class="skolem">V</span><span class="main">)</span><span class="main">∈</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">Q</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> IncludedSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> IsATopology_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹ We can reference the theorems proven in the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>topology0›</span></span></span></span> context when discussing
  the included set topology.›</span></span>

<span class="keyword1"><span class="command">theorem</span></span> topology0_includedset<span class="main">:</span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"topology0<span class="main">(</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> topology0_def includedset_is_topology <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Choosing a singleton set, it is considered a point excluded
  topology. In the following lemmas and theorems, when neccessary
  it will be considered that <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>T≠0›</span></span></span></span> and <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>T⊆X›</span></span></span></span>. 
  These cases will appear in the special cases section.›</span></span>

<span class="keyword1"><span class="command">definition</span></span>
  <span class="entity">IncludedPoint</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">IncludedPoint</span> _ _"</span> 90<span class="main">)</span> <span class="keyword2"><span class="keyword">where</span></span>
  <span class="quoted"><span class="quoted">"<span class="keyword1"><span class="free">IncludedPoint</span></span> <span class="free"><span class="bound"><span class="entity">X</span></span></span> <span class="free"><span class="bound"><span class="entity">p</span></span></span> <span class="main">≡</span> IncludedSet<span class="main">(</span><span class="free"><span class="bound"><span class="entity">X</span></span></span><span class="main">,</span><span class="main">{</span><span class="free"><span class="bound"><span class="entity">p</span></span></span><span class="main">}</span><span class="main">)</span>"</span></span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‹Basic topological notions in included set topology›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹ This section discusses total set, closed sets, interior, closure and boundary 
  for included set topology. ›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The topology is defined in the set $X$.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> union_includedset<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">T</span><span class="main">⊆</span><span class="free">X</span> "</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">⋃</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> <span class="main">=</span> <span class="free">X</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span> <span class="main">∈</span> IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> IncludedSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main">⋃</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> <span class="main">=</span> <span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> IncludedSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The closed sets are those which are disjoint with <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>T›</span></span></span></span>
 and <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>X›</span></span></span></span>.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> closed_sets_includedset<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">T</span><span class="main">⊆</span><span class="free">X</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">D</span> <span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">in}</span> IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> <span class="main">⟷</span> <span class="main">(</span><span class="free">D</span><span class="main">∈</span>Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span> <span class="main">∧</span>  <span class="main">(</span><span class="free">D</span> <span class="main">∩</span> <span class="free">T</span><span class="main">)</span><span class="main">=</span><span class="main">0</span><span class="main">)</span><span class="main">∨</span> <span class="free">D</span><span class="main">=</span><span class="free">X</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">-</span><span class="free">X</span><span class="main">=</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">-</span><span class="free">X</span><span class="main">∈</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> IncludedSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">assume</span></span> A<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="free">D</span> <span class="main">⊆</span> <span class="free">X</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span> <span class="main">-</span> <span class="free">D</span> <span class="main">∈</span> IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> "</span></span><span class="quoted"><span class="quoted">" <span class="free">D</span> <span class="main">≠</span> <span class="free">X</span>"</span></span>
    <span class="keyword1"><span class="command">from</span></span> A<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">T</span><span class="main">⊆</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">D</span><span class="main">)</span><span class="main">∨</span> <span class="free">X</span><span class="main">-</span><span class="free">D</span><span class="main">=</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> IncludedSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> A<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">T</span><span class="main">⊆</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">D</span><span class="main">)</span><span class="main">∨</span> <span class="free">D</span><span class="main">=</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span> 
    <span class="keyword1"><span class="command">with</span></span> A<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">T</span><span class="main">⊆</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">D</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"<span class="free">D</span><span class="main">∩</span><span class="free">T</span><span class="main">=</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">assume</span></span> A<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="free">D</span><span class="main">∩</span><span class="free">T</span><span class="main">=</span><span class="main">0</span>"</span></span><span class="quoted"><span class="quoted">"<span class="free">D</span><span class="main">⊆</span><span class="free">X</span>"</span></span>
    <span class="keyword1"><span class="command">from</span></span> A<span class="main">(</span>1<span class="main">)</span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">T</span><span class="main">⊆</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">D</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">-</span><span class="free">D</span><span class="main">∈</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> IncludedSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> IsClosed_def union_includedset assms <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The interior of a set is itself if it is open or the empty set if it isn't.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> interior_set_includedset<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">⊆</span><span class="free">X</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"Interior<span class="main">(</span><span class="free">A</span><span class="main">,</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">=</span> <span class="main">(</span><span class="keyword1">if</span> <span class="free">T</span><span class="main">⊆</span><span class="free">A</span> <span class="keyword1">then</span> <span class="free">A</span> <span class="keyword1">else</span> <span class="main">0</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span>
    <span class="keyword3"><span class="command">assume</span></span> A<span class="main">:</span><span class="quoted"><span class="quoted">"Interior<span class="main">(</span><span class="free">A</span><span class="main">,</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span> <span class="main">≠</span> <span class="main">0</span> "</span></span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="free">T</span>"</span></span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Interior<span class="main">(</span><span class="free">A</span><span class="main">,</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span> <span class="main">∈</span> IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span>
      topology0.Top_2_L2 topology0_includedset <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> A<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">T</span> <span class="main">⊆</span> Interior<span class="main">(</span><span class="free">A</span><span class="main">,</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> IncludedSet_def
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> A<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span> <span class="main">∈</span> Interior<span class="main">(</span><span class="free">A</span><span class="main">,</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="free">A</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> topology0.Top_2_L1 topology0_includedset <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span><span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="free">T</span><span class="main">⊆</span><span class="free">A</span>"</span></span>
    <span class="keyword1"><span class="command">with</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">∈</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> IncludedSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Interior<span class="main">(</span><span class="free">A</span><span class="main">,</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="free">A</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> topology0.Top_2_L3
      topology0_includedset <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The closure of a set is itself if it is closed or the whole space if it is not.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> closure_set_includedset<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">⊆</span><span class="free">X</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">T</span><span class="main">⊆</span><span class="free">X</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"Closure<span class="main">(</span><span class="free">A</span><span class="main">,</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="keyword1">if</span> <span class="free">T</span><span class="main">∩</span><span class="free">A</span><span class="main">=</span><span class="main">0</span> <span class="keyword1">then</span> <span class="free">A</span> <span class="keyword1">else</span> <span class="free">X</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">assume</span></span> AS<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="free">T</span><span class="main">∩</span><span class="free">A</span><span class="main">=</span><span class="main">0</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span> <span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">in}</span> IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> closed_sets_includedset
      assms <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Closure<span class="main">(</span><span class="free">A</span><span class="main">,</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">=</span><span class="free">A</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> topology0.Top_3_L8
      topology0_includedset union_includedset assms<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">assume</span></span> AS<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="free">T</span><span class="main">∩</span><span class="free">A</span> <span class="main">≠</span> <span class="main">0</span>"</span></span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">∈</span>ClosedCovers<span class="main">(</span><span class="free">A</span><span class="main">,</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> ClosedCovers_def
      closed_sets_includedset union_includedset assms <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> l1<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⋂</span>ClosedCovers<span class="main">(</span><span class="free">A</span><span class="main">,</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">⊆</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Closure_def
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">U</span>
      <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">∈</span>ClosedCovers<span class="main">(</span><span class="free">A</span><span class="main">,</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span>  
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">in}</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span><span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">⊆</span><span class="skolem">U</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> ClosedCovers_def
        <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">=</span><span class="free">X</span><span class="main">∨</span><span class="main">(</span><span class="free">T</span><span class="main">∩</span><span class="skolem">U</span><span class="main">)</span><span class="main">=</span><span class="main">0</span>"</span></span><span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">⊆</span><span class="skolem">U</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> closed_sets_includedset assms<span class="main">(</span>2<span class="main">)</span>
        <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">=</span><span class="free">X</span><span class="main">∨</span><span class="main">(</span><span class="free">T</span><span class="main">∩</span><span class="free">A</span><span class="main">)</span><span class="main">=</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">=</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> AS <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span> <span class="main">⊆</span> <span class="main">⋂</span>ClosedCovers<span class="main">(</span><span class="free">A</span><span class="main">,</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> topology0.Top_3_L3
      topology0_includedset union_includedset assms <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⋂</span>ClosedCovers<span class="main">(</span><span class="free">A</span><span class="main">,</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">=</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Closure<span class="main">(</span><span class="free">A</span><span class="main">,</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="free">X</span> "</span></span>
      <span class="keyword1"><span class="command">using</span></span> Closure_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The boundary of a set is <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>X-A›</span></span></span></span> if $A$ contains <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>T›</span></span></span></span> completely, is <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>A›</span></span></span></span> if $X-A$ contains <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>T›</span></span></span></span>
  completely and <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>X›</span></span></span></span> if <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>T›</span></span></span></span> is divided between the two sets. 
  The case where <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>T=0›</span></span></span></span> is considered as a special case.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> boundary_includedset<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">⊆</span><span class="free">X</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">T</span><span class="main">⊆</span><span class="free">X</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">T</span><span class="main">≠</span><span class="main">0</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"Boundary<span class="main">(</span><span class="free">A</span><span class="main">,</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">=</span><span class="main">(</span><span class="keyword1">if</span> <span class="free">T</span><span class="main">⊆</span><span class="free">A</span> <span class="keyword1">then</span> <span class="free">X</span><span class="main">-</span><span class="free">A</span> <span class="keyword1">else</span> <span class="main">(</span><span class="keyword1">if</span> <span class="free">T</span><span class="main">∩</span><span class="free">A</span><span class="main">=</span><span class="main">0</span> <span class="keyword1">then</span> <span class="free">A</span> <span class="keyword1">else</span> <span class="free">X</span><span class="main">)</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> <span class="quoted"><span class="quoted">‹<span class="free">A</span><span class="main">⊆</span><span class="free">X</span>›</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">-</span><span class="free">A</span> <span class="main">⊆</span> <span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="free">T</span><span class="main">⊆</span><span class="free">A</span>"</span></span>
    <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>2<span class="main">,</span>3<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">T</span><span class="main">∩</span><span class="free">A</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">T</span><span class="main">∩</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">A</span><span class="main">)</span><span class="main">=</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>1<span class="main">,</span>2<span class="main">)</span>  <span class="quoted"><span class="quoted">‹<span class="free">X</span><span class="main">-</span><span class="free">A</span> <span class="main">⊆</span> <span class="free">X</span>›</span></span>  <span class="keyword1"><span class="command">have</span></span>
      <span class="quoted"><span class="quoted">"Closure<span class="main">(</span><span class="free">A</span><span class="main">,</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="free">X</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"Closure<span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">A</span><span class="main">,</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">A</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> closure_set_includedset <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> 
    <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Boundary<span class="main">(</span><span class="free">A</span><span class="main">,</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="free">X</span><span class="main">-</span><span class="free">A</span>"</span></span> 
      <span class="keyword1"><span class="command">using</span></span> Boundary_def union_includedset <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="main">~</span><span class="main">(</span><span class="free">T</span><span class="main">⊆</span><span class="free">A</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">T</span><span class="main">∩</span><span class="free">A</span><span class="main">=</span><span class="main">0</span>"</span></span>
    <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">T</span><span class="main">∩</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">A</span><span class="main">)</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> 
    <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>1<span class="main">,</span>2<span class="main">)</span> <span class="quoted"><span class="quoted">‹<span class="free">T</span><span class="main">∩</span><span class="free">A</span><span class="main">=</span><span class="main">0</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="free">X</span><span class="main">-</span><span class="free">A</span> <span class="main">⊆</span> <span class="free">X</span>›</span></span> <span class="keyword1"><span class="command">have</span></span>
      <span class="quoted"><span class="quoted">"Closure<span class="main">(</span><span class="free">A</span><span class="main">,</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="free">A</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"Closure<span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">A</span><span class="main">,</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="free">X</span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span>  closure_set_includedset <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>1<span class="main">,</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Boundary<span class="main">(</span><span class="free">A</span><span class="main">,</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">=</span><span class="free">A</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Boundary_def union_includedset
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="main">~</span><span class="main">(</span><span class="free">T</span><span class="main">⊆</span><span class="free">A</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">T</span><span class="main">∩</span><span class="free">A</span> <span class="main">≠</span> <span class="main">0</span>"</span></span>
    <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>1<span class="main">,</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">T</span><span class="main">∩</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">A</span><span class="main">)</span> <span class="main">≠</span> <span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>1<span class="main">,</span>2<span class="main">)</span> <span class="quoted"><span class="quoted">‹<span class="free">T</span><span class="main">∩</span><span class="free">A</span><span class="main">≠</span><span class="main">0</span>›</span></span>  <span class="quoted"><span class="quoted">‹<span class="free">X</span><span class="main">-</span><span class="free">A</span> <span class="main">⊆</span> <span class="free">X</span>›</span></span> <span class="keyword1"><span class="command">have</span></span>
      <span class="quoted"><span class="quoted">"Closure<span class="main">(</span><span class="free">A</span><span class="main">,</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="free">X</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"Closure<span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">A</span><span class="main">,</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="free">X</span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> closure_set_includedset <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> 
    <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Boundary<span class="main">(</span><span class="free">A</span><span class="main">,</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="free">X</span>"</span></span> 
      <span class="keyword1"><span class="command">using</span></span> Boundary_def union_includedset  <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‹Special cases and subspaces›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹ In this section we discuss  some corner cases 
  when some parameters in our definitions are empty and 
  provide some facts about subspaces in included set topologies. ›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The topology is discrete if <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span> T=0 ›</span></span></span></span>›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> smaller_includedset<span class="main">:</span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="main">0</span><span class="main">)</span> <span class="main">=</span> Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span>
  <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="main">0</span><span class="main">)</span> <span class="main">⊆</span> Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span> <span class="main">⊆</span> IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="main">0</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">unfolding</span></span> IncludedSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹If the set which is included is not a subset of <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>X›</span></span></span></span>,
then the topology is trivial.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> empty_includedset<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="main">~</span><span class="main">(</span><span class="free">T</span><span class="main">⊆</span><span class="free">X</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> <span class="main">=</span> <span class="main">{</span><span class="main">0</span><span class="main">}</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span>
  <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> <span class="main">⊆</span> <span class="main">{</span><span class="main">0</span><span class="main">}</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="main">0</span><span class="main">}</span> <span class="main">⊆</span> IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">unfolding</span></span> IncludedSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The topological subspaces of the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>IncludedSet(X,T)›</span></span></span></span> topology
are also IncludedSet topologies. The trivial case does not fit the idea
in the demonstration because if <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>Y⊆X›</span></span></span></span>  then <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>IncludedSet(Y∩X, Y∩T)›</span></span></span></span>
is never trivial. There is no need for a separate proof because
the only subspace of the trivial topology is itself.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> subspace_includedset<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">T</span><span class="main">⊆</span><span class="free">X</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> <span class="keyword1">{restricted</span> <span class="keyword1">to}</span> <span class="free">Y</span> <span class="main">=</span> IncludedSet<span class="main">(</span><span class="free">Y</span><span class="main">∩</span><span class="free">X</span><span class="main">,</span><span class="free">Y</span><span class="main">∩</span><span class="free">T</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">M</span>
    <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span> <span class="main">∈</span> <span class="main">(</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> <span class="keyword1">{restricted</span> <span class="keyword1">to}</span> <span class="free">Y</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">A</span></span> <span class="keyword2"><span class="keyword">where</span></span> A1<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">A</span><span class="main">:</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span> <span class="main">=</span> <span class="free">Y</span><span class="main">∩</span><span class="skolem">A</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> RestrictedTo_def 
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span> <span class="main">∈</span> Pow<span class="main">(</span><span class="free">X</span><span class="main">∩</span><span class="free">Y</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IncludedSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">Y</span><span class="main">∩</span><span class="free">T</span><span class="main">⊆</span><span class="skolem">M</span> <span class="main">∨</span> <span class="skolem">M</span><span class="main">=</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IncludedSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span> <span class="main">∈</span> IncludedSet<span class="main">(</span><span class="free">Y</span><span class="main">∩</span><span class="free">X</span><span class="main">,</span> <span class="free">Y</span><span class="main">∩</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IncludedSet_def
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> <span class="keyword1">{restricted</span> <span class="keyword1">to}</span> <span class="free">Y</span> <span class="main">⊆</span> IncludedSet<span class="main">(</span><span class="free">Y</span><span class="main">∩</span><span class="free">X</span><span class="main">,</span> <span class="free">Y</span><span class="main">∩</span><span class="free">T</span><span class="main">)</span>"</span></span> 
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">M</span>
    <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?A</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span> <span class="main">∪</span> <span class="free">T</span>"</span></span>
    <span class="keyword3"><span class="command">assume</span></span> A<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">M</span> <span class="main">∈</span> IncludedSet<span class="main">(</span><span class="free">Y</span><span class="main">∩</span><span class="free">X</span><span class="main">,</span> <span class="free">Y</span><span class="main">∩</span><span class="free">T</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span><span class="main">=</span><span class="main">0</span>"</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span><span class="main">∈</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> <span class="keyword1">{restricted</span> <span class="keyword1">to}</span> <span class="free">Y</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> RestrictedTo_def
        IncludedSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">assume</span></span> AS<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">M</span><span class="main">≠</span><span class="main">0</span>"</span></span>
      <span class="keyword1"><span class="command">from</span></span> A AS <span class="keyword1"><span class="command">have</span></span> A1<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">M</span><span class="main">∈</span>Pow<span class="main">(</span><span class="free">Y</span><span class="main">∩</span><span class="free">X</span><span class="main">)</span> <span class="main">∧</span> <span class="free">Y</span><span class="main">∩</span><span class="free">T</span><span class="main">⊆</span><span class="skolem">M</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IncludedSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?A</span><span class="main">∈</span>Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">T</span><span class="main">⊆</span><span class="var">?A</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?A</span> <span class="main">∈</span> IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IncludedSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> AT<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="free">Y</span> <span class="main">∩</span> <span class="var">?A</span> <span class="main">∈</span> IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> <span class="keyword1">{restricted</span> <span class="keyword1">to}</span> <span class="free">Y</span>"</span></span><span class="keyword1"><span class="command">unfolding</span></span> RestrictedTo_def
        <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">Y</span> <span class="main">∩</span> <span class="var">?A</span><span class="main">=</span><span class="free">Y</span> <span class="main">∩</span> <span class="skolem">M</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">…</span><span class="main">=</span><span class="skolem">M</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">finally</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">Y</span><span class="main">∩</span><span class="var">?A</span> <span class="main">=</span> <span class="skolem">M</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span> 
      <span class="keyword1"><span class="command">with</span></span> AT <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span> <span class="main">∈</span> IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> <span class="keyword1">{restricted</span> <span class="keyword1">to}</span> <span class="free">Y</span>"</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span> <span class="main">∈</span> IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> <span class="keyword1">{restricted</span> <span class="keyword1">to}</span> <span class="free">Y</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword3"><span class="command">thus</span></span> <span class="quoted"><span class="quoted">"IncludedSet<span class="main">(</span><span class="free">Y</span><span class="main">∩</span><span class="free">X</span><span class="main">,</span> <span class="free">Y</span><span class="main">∩</span><span class="free">T</span><span class="main">)</span> <span class="main">⊆</span> IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span> <span class="keyword1">{restricted</span> <span class="keyword1">to}</span> <span class="free">Y</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword2"><span class="keyword">end</span></span>
</pre>
</body>

</html>