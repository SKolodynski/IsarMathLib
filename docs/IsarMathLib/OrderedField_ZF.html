<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory OrderedField_ZF</title>
</head>


<body>
<div class="head">
<h1>Theory OrderedField_ZF</h1>
</div>

<pre class="source"><span class="comment1">(*   This file is a part of IsarMathLib - 
    a library of formalized mathematics for Isabelle/Isar.

    Copyright (C) 2005, 2006  Slawomir Kolodynski

    This program is free software; Redistribution and use in source and binary forms, 
    with or without modification, are permitted provided that the following conditions are met:

   1. Redistributions of source code must retain the above copyright notice, 
   this list of conditions and the following disclaimer.
   2. Redistributions in binary form must reproduce the above copyright notice, 
   this list of conditions and the following disclaimer in the documentation and/or 
   other materials provided with the distribution.
   3. The name of the author may not be used to endorse or promote products 
   derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED 
WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF 
MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, 
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, 
PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; 
OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR 
OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, 
EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

*)</span>

<span class="keyword1"><span class="command">section</span></span> <span class="quoted"><span class="plain_text">‹Ordered fields›</span></span>

<span class="keyword1"><span class="command">theory</span></span> OrderedField_ZF <span class="keyword2"><span class="keyword">imports</span></span> <a href="OrderedRing_ZF.html">OrderedRing_ZF</a> <a href="Field_ZF.html">Field_ZF</a>

<span class="keyword2"><span class="keyword">begin</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹This theory covers basic facts about ordered fiels.›</span></span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‹Definition and basic properties›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Here we define ordered fields and proove their basic properties.›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Ordered field is a notrivial ordered ring such that all 
  non-zero elements have an inverse. We define the notion of being a ordered 
  field as
  a statement about four sets. The first set, denoted <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>K›</span></span></span></span> is the 
  carrier of the field. The second set, denoted <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>A›</span></span></span></span> represents the 
  additive operation on <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>K›</span></span></span></span> (recall that in ZF set theory functions 
  are sets). The third set <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>M›</span></span></span></span> represents the multiplicative operation 
  on <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>K›</span></span></span></span>. The fourth set <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>r›</span></span></span></span> is the order 
  relation on <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>K›</span></span></span></span>.›</span></span>

<span class="keyword1"><span class="command">definition</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">IsAnOrdField</span><span class="main">(</span><span class="free"><span class="bound"><span class="entity">K</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">M</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">r</span></span></span><span class="main">)</span> <span class="main">≡</span> <span class="main">(</span>IsAnOrdRing<span class="main">(</span><span class="free"><span class="bound"><span class="entity">K</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">M</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">r</span></span></span><span class="main">)</span> <span class="main">∧</span>
  <span class="main">(</span><span class="free"><span class="bound"><span class="entity">M</span></span></span> <span class="keyword1">{is</span> <span class="keyword1">commutative</span> <span class="keyword1">on}</span> <span class="free"><span class="bound"><span class="entity">K</span></span></span><span class="main">)</span> <span class="main">∧</span>
  TheNeutralElement<span class="main">(</span><span class="free"><span class="bound"><span class="entity">K</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">)</span> <span class="main">≠</span> TheNeutralElement<span class="main">(</span><span class="free"><span class="bound"><span class="entity">K</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">M</span></span></span><span class="main">)</span> <span class="main">∧</span>
  <span class="main">(</span><span class="main">∀</span><span class="bound">a</span><span class="main">∈</span><span class="free"><span class="bound"><span class="entity">K</span></span></span><span class="main">.</span> <span class="bound">a</span><span class="main">≠</span>TheNeutralElement<span class="main">(</span><span class="free"><span class="bound"><span class="entity">K</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">)</span><span class="main">⟶</span>
  <span class="main">(</span><span class="main">∃</span><span class="bound">b</span><span class="main">∈</span><span class="free"><span class="bound"><span class="entity">K</span></span></span><span class="main">.</span> <span class="free"><span class="bound"><span class="entity">M</span></span></span><span class="main">`</span><span class="main">⟨</span><span class="bound">a</span><span class="main">,</span><span class="bound">b</span><span class="main">⟩</span> <span class="main">=</span> TheNeutralElement<span class="main">(</span><span class="free"><span class="bound"><span class="entity">K</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">M</span></span></span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The next context (locale) defines notation used for ordered fields. 
  We do that by extending the notation defined in the 
  <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>ring1›</span></span></span></span> context that is used for oredered rings and 
  adding some assumptions to make sure we are 
  talking about ordered fields in this context. 
  We should rename the carrier from $R$ used in the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>ring1›</span></span></span></span> 
  context to $K$, more appriopriate for fields. Theoretically the Isar locale
  facility supports such renaming, but we experienced diffculties using
  some lemmas from <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>ring1›</span></span></span></span> locale after renaming. 
›</span></span>

<span class="keyword1"><span class="command">locale</span></span> field1 <span class="main">=</span> ring1 <span class="main">+</span>

  <span class="keyword2"><span class="keyword">assumes</span></span> mult_commute<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">M</span> <span class="keyword1">{is</span> <span class="keyword1">commutative</span> <span class="keyword1">on}</span> <span class="free">R</span>"</span></span>
  
  <span class="keyword2"><span class="keyword">assumes</span></span> not_triv<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟬</span></span> <span class="main">≠</span> <span class="main"><span class="free">𝟭</span></span>"</span></span>

  <span class="keyword2"><span class="keyword">assumes</span></span> inv_exists<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">a</span><span class="main">∈</span><span class="free">R</span><span class="main">.</span> <span class="bound">a</span><span class="main">≠</span><span class="main"><span class="free">𝟬</span></span> <span class="main">⟶</span> <span class="main">(</span><span class="main">∃</span><span class="bound">b</span><span class="main">∈</span><span class="free">R</span><span class="main">.</span> <span class="bound">a</span><span class="main"><span class="free">⋅</span></span><span class="bound">b</span> <span class="main">=</span> <span class="main"><span class="free">𝟭</span></span><span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">non_zero</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">R<span class="hidden">⇩</span><sub>0</sub></span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> non_zero_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="keyword1"><span class="free">R<span class="hidden">⇩</span><sub>0</sub></span></span> <span class="main">≡</span> <span class="free">R</span><span class="main">-</span><span class="main">{</span><span class="main"><span class="free">𝟬</span></span><span class="main">}</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">inv</span> <span class="main">(</span><span class="quoted">"_<span class="keyword1">¯</span> "</span> <span class="main">[</span>96<span class="main">]</span> 97<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> inv_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">¯</span></span> <span class="main">≡</span> GroupInv<span class="main">(</span><span class="keyword1"><span class="free">R<span class="hidden">⇩</span><sub>0</sub></span></span><span class="main">,</span>restrict<span class="main">(</span><span class="free">M</span><span class="main">,</span><span class="keyword1"><span class="free">R<span class="hidden">⇩</span><sub>0</sub></span></span><span class="main">×</span><span class="keyword1"><span class="free">R<span class="hidden">⇩</span><sub>0</sub></span></span><span class="main">)</span><span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="free">a</span><span class="main">)</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The next lemma assures us that we are talking fields 
  in the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>field1›</span></span></span></span> context.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> field1<span class="main">)</span> OrdField_ZF_1_L1<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"IsAnOrdField<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">,</span><span class="free">r</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> OrdRing_ZF_1_L1 mult_commute not_triv inv_exists IsAnOrdField_def
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Ordered field is a field, of course.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> OrdField_ZF_1_L1A<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"IsAnOrdField<span class="main">(</span><span class="free">K</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">,</span><span class="free">r</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"IsAfield<span class="main">(</span><span class="free">K</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms IsAnOrdField_def IsAnOrdRing_def IsAfield_def
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Theorems proven in <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>field0›</span></span></span></span> (about fields) context are valid
  in the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>field1›</span></span></span></span> context (about ordered fields).›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> field1<span class="main">)</span> OrdField_ZF_1_L1B<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"field0<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> OrdField_ZF_1_L1 OrdField_ZF_1_L1A field_field0
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹We can use theorems proven in the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>field1›</span></span></span></span> context whenever we
  talk about an ordered field.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> OrdField_ZF_1_L2<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"IsAnOrdField<span class="main">(</span><span class="free">K</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">,</span><span class="free">r</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"field1<span class="main">(</span><span class="free">K</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">,</span><span class="free">r</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms IsAnOrdField_def OrdRing_ZF_1_L2 ring1_def
    IsAnOrdField_def field1_axioms_def field1_def
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹In ordered rings the existence of a right inverse for all positive
  elements implies the existence of an inverse for all non zero elements.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> ring1<span class="main">)</span> OrdField_ZF_1_L3<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">a</span><span class="main">∈</span><span class="keyword1"><span class="free">R<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">.</span> <span class="main">∃</span><span class="bound">b</span><span class="main">∈</span><span class="free">R</span><span class="main">.</span> <span class="bound">a</span><span class="main"><span class="free">⋅</span></span><span class="bound">b</span> <span class="main">=</span> <span class="main"><span class="free">𝟭</span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">≠</span><span class="main"><span class="free">𝟬</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">b</span><span class="main">∈</span><span class="free">R</span><span class="main">.</span> <span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="bound">b</span> <span class="main">=</span> <span class="main"><span class="free">𝟭</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">{</span></span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">∈</span><span class="keyword1"><span class="free">R<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>
    <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">b</span><span class="main">∈</span><span class="free">R</span><span class="main">.</span> <span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="bound">b</span> <span class="main">=</span> <span class="main"><span class="free">𝟭</span></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span> <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">{</span></span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">∉</span><span class="keyword1"><span class="free">R<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>
    <span class="keyword1"><span class="command">with</span></span> A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">c</span><span class="main">)</span> <span class="main">∈</span> <span class="keyword1"><span class="free">R<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> OrdRing_ZF_3_L2A <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">b</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">∈</span><span class="free">R</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">c</span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="skolem">b</span> <span class="main">=</span> <span class="main"><span class="free">𝟭</span></span>"</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="skolem">b</span><span class="main">)</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="skolem">b</span><span class="main">)</span> <span class="main">=</span> <span class="main"><span class="free">𝟭</span></span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> Ring_ZF_1_L3 Ring_ZF_1_L7 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">b</span><span class="main">∈</span><span class="free">R</span><span class="main">.</span> <span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="bound">b</span> <span class="main">=</span> <span class="main"><span class="free">𝟭</span></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
<span class="keyword1"><span class="command">qed</span></span>
  
<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Ordered fields are easier to deal with, because it is sufficient 
  to show the existence of an inverse for the set of positive elements.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> ring1<span class="main">)</span> OrdField_ZF_1_L4<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟬</span></span> <span class="main">≠</span> <span class="main"><span class="free">𝟭</span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">M</span> <span class="keyword1">{is</span> <span class="keyword1">commutative</span> <span class="keyword1">on}</span> <span class="free">R</span>"</span></span> 
  <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">a</span><span class="main">∈</span><span class="keyword1"><span class="free">R<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">.</span> <span class="main">∃</span><span class="bound">b</span><span class="main">∈</span><span class="free">R</span><span class="main">.</span> <span class="bound">a</span><span class="main"><span class="free">⋅</span></span><span class="bound">b</span> <span class="main">=</span> <span class="main"><span class="free">𝟭</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"IsAnOrdField<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">,</span><span class="free">r</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms OrdRing_ZF_1_L1 OrdField_ZF_1_L3 IsAnOrdField_def
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The set of positive field elements is closed under multiplication.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> field1<span class="main">)</span> OrdField_ZF_1_L5<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="keyword1"><span class="free">R<span class="hidden">⇩</span><sub>+</sub></span></span> <span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">under}</span> <span class="free">M</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> OrdField_ZF_1_L1B field0.field_has_no_zero_divs OrdRing_ZF_3_L3
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The set of positive field elements is closed under multiplication:
  the explicit version.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> field1<span class="main">)</span> pos_mul_closed<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟬</span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">a</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟬</span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">b</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟬</span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">∈</span> <span class="keyword1"><span class="free">R<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span> <span class="main">∈</span> <span class="keyword1"><span class="free">R<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> OrdRing_ZF_3_L14 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟬</span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> OrdField_ZF_1_L5 IsOpClosed_def PositiveSet_def
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>


<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹In fields square of a nonzero element is positive.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> field1<span class="main">)</span> OrdField_ZF_1_L6<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">≠</span><span class="main"><span class="free">𝟬</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free"><span class="hidden">⇧</span><sup>2</sup></span></span> <span class="main">∈</span> <span class="keyword1"><span class="free">R<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms OrdField_ZF_1_L1B field0.field_has_no_zero_divs
    OrdRing_ZF_3_L15 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The next lemma restates the fact <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>Field_ZF›</span></span></span></span> that out notation
  for the field inverse means what it is supposed to mean.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> field1<span class="main">)</span> OrdField_ZF_1_L7<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">≠</span><span class="main"><span class="free">𝟬</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">¯</span></span><span class="main">)</span> <span class="main">=</span> <span class="main"><span class="free">𝟭</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">a</span><span class="main"><span class="free">¯</span></span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="free">a</span> <span class="main">=</span> <span class="main"><span class="free">𝟭</span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms OrdField_ZF_1_L1B field0.Field_ZF_1_L6
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹A simple lemma about multiplication and cancelling of a positive field
   element.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> field1<span class="main">)</span> OrdField_ZF_1_L7A<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span> <span class="main">∈</span> <span class="keyword1"><span class="free">R<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span><span class="main"><span class="free">¯</span></span> <span class="main">=</span> <span class="free">a</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span><span class="main"><span class="free">¯</span></span><span class="main"><span class="free">⋅</span></span><span class="free">b</span> <span class="main">=</span> <span class="free">a</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">≠</span><span class="main"><span class="free">𝟬</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> PositiveSet_def
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword3"><span class="command">show</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span><span class="main"><span class="free">¯</span></span> <span class="main">=</span> <span class="free">a</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span><span class="main"><span class="free">¯</span></span><span class="main"><span class="free">⋅</span></span><span class="free">b</span> <span class="main">=</span> <span class="free">a</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> OrdField_ZF_1_L1B field0.Field_ZF_1_L7
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>
    
<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Some properties of the inverse of a positive element.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> field1<span class="main">)</span> OrdField_ZF_1_L8<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">∈</span> <span class="keyword1"><span class="free">R<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">¯</span></span> <span class="main">∈</span> <span class="keyword1"><span class="free">R<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">¯</span></span><span class="main">)</span> <span class="main">=</span> <span class="main"><span class="free">𝟭</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">a</span><span class="main"><span class="free">¯</span></span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="free">a</span> <span class="main">=</span> <span class="main"><span class="free">𝟭</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> I<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">≠</span><span class="main"><span class="free">𝟬</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> PositiveSet_def 
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">¯</span></span><span class="main">)</span><span class="main"><span class="free"><span class="hidden">⇧</span><sup>2</sup></span></span> <span class="main">∈</span> <span class="keyword1"><span class="free">R<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> OrdField_ZF_1_L1B field0.Field_ZF_1_L5 OrdField_ZF_1_L6
      OrdField_ZF_1_L5 IsOpClosed_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> I <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">¯</span></span> <span class="main">∈</span> <span class="keyword1"><span class="free">R<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> OrdField_ZF_1_L1B field0.Field_ZF_2_L1
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">from</span></span> I <span class="keyword3"><span class="command">show</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">¯</span></span><span class="main">)</span> <span class="main">=</span> <span class="main"><span class="free">𝟭</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">a</span><span class="main"><span class="free">¯</span></span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="free">a</span> <span class="main">=</span> <span class="main"><span class="free">𝟭</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> OrdField_ZF_1_L7 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹If $a&lt;b$, then $(b-a)^{-1}$ is positive.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> field1<span class="main">)</span> OrdField_ZF_1_L9<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;ls&gt;</span></span><span class="free">b</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span>  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">b</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">a</span><span class="main">)</span><span class="main"><span class="free">¯</span></span> <span class="main">∈</span> <span class="keyword1"><span class="free">R<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>  
  <span class="keyword1"><span class="command">using</span></span> assms OrdRing_ZF_1_L14 OrdField_ZF_1_L8
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹In ordered fields if at least one of $a,b$ is not zero, then
  $a^2+b^2 &gt; 0$, in particular $a^2+b^2\neq 0$ and exists the 
  (multiplicative) inverse of $a^2+b^2$.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> field1<span class="main">)</span> OrdField_ZF_1_L10<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="free">R</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">≠</span> <span class="main"><span class="free">𝟬</span></span> <span class="main">∨</span> <span class="free">b</span> <span class="main">≠</span> <span class="main"><span class="free">𝟬</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟬</span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">a</span><span class="main"><span class="free"><span class="hidden">⇧</span><sup>2</sup></span></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">b</span><span class="main"><span class="free"><span class="hidden">⇧</span><sup>2</sup></span></span>"</span></span>  <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">c</span><span class="main">∈</span><span class="free">R</span><span class="main">.</span> <span class="main">(</span><span class="free">a</span><span class="main"><span class="free"><span class="hidden">⇧</span><sup>2</sup></span></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">b</span><span class="main"><span class="free"><span class="hidden">⇧</span><sup>2</sup></span></span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="bound">c</span> <span class="main">=</span> <span class="main"><span class="free">𝟭</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 A2 <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟬</span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">a</span><span class="main"><span class="free"><span class="hidden">⇧</span><sup>2</sup></span></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">b</span><span class="main"><span class="free"><span class="hidden">⇧</span><sup>2</sup></span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> OrdField_ZF_1_L1B field0.field_has_no_zero_divs 
      OrdRing_ZF_3_L19 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">a</span><span class="main"><span class="free"><span class="hidden">⇧</span><sup>2</sup></span></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">b</span><span class="main"><span class="free"><span class="hidden">⇧</span><sup>2</sup></span></span><span class="main">)</span><span class="main"><span class="free">¯</span></span> <span class="main">∈</span> <span class="free">R</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">a</span><span class="main"><span class="free"><span class="hidden">⇧</span><sup>2</sup></span></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">b</span><span class="main"><span class="free"><span class="hidden">⇧</span><sup>2</sup></span></span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free"><span class="hidden">⇧</span><sup>2</sup></span></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">b</span><span class="main"><span class="free"><span class="hidden">⇧</span><sup>2</sup></span></span><span class="main">)</span><span class="main"><span class="free">¯</span></span> <span class="main">=</span> <span class="main"><span class="free">𝟭</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> OrdRing_ZF_1_L3 PositiveSet_def OrdField_ZF_1_L8
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">c</span><span class="main">∈</span><span class="free">R</span><span class="main">.</span> <span class="main">(</span><span class="free">a</span><span class="main"><span class="free"><span class="hidden">⇧</span><sup>2</sup></span></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">b</span><span class="main"><span class="free"><span class="hidden">⇧</span><sup>2</sup></span></span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="bound">c</span> <span class="main">=</span> <span class="main"><span class="free">𝟭</span></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>
  
<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‹Inequalities›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹In this section we develop tools to deal inequalities in fields.›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹We can multiply strict inequality by a positive element.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> field1<span class="main">)</span> OrdField_ZF_2_L1<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;ls&gt;</span></span><span class="free">b</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">∈</span><span class="keyword1"><span class="free">R<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms OrdField_ZF_1_L1B field0.field_has_no_zero_divs
    OrdRing_ZF_3_L13
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹A special case of <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>OrdField_ZF_2_L1›</span></span></span></span> when we multiply
  an inverse by an element.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> field1<span class="main">)</span> OrdField_ZF_2_L2<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="keyword1"><span class="free">R<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">¯</span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">b</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟭</span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">a</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">a</span><span class="main"><span class="free">¯</span></span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="free">a</span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">a</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> OrdField_ZF_2_L1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟭</span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">a</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> OrdField_ZF_1_L8 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹We can multiply an inequality by the inverse of a positive element.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> field1<span class="main">)</span> OrdField_ZF_2_L3<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;lsq&gt;</span></span><span class="free">b</span>"</span></span>  <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">∈</span><span class="keyword1"><span class="free">R<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">c</span><span class="main"><span class="free">¯</span></span><span class="main">)</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">c</span><span class="main"><span class="free">¯</span></span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms OrdField_ZF_1_L8 OrdRing_ZF_1_L9A
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹We can multiply a strict inequality by a  positive element
  or its inverse.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> field1<span class="main">)</span> OrdField_ZF_2_L4<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;ls&gt;</span></span><span class="free">b</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">∈</span><span class="keyword1"><span class="free">R<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">a</span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main"><span class="free">¯</span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main"><span class="free">¯</span></span>"</span></span>
   <span class="keyword1"><span class="command">using</span></span> assms OrdField_ZF_1_L1B field0.field_has_no_zero_divs
    OrdField_ZF_1_L8 OrdRing_ZF_3_L13 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹We can put a positive factor on the other side of an inequality,
  changing it to its inverse.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> field1<span class="main">)</span> OrdField_ZF_2_L5<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="keyword1"><span class="free">R<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">c</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span><span class="main"><span class="free">¯</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span><span class="main"><span class="free">¯</span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span><span class="main"><span class="free">¯</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> OrdField_ZF_2_L3 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span><span class="main"><span class="free">¯</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> OrdField_ZF_1_L7A
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹We can put a positive factor on the other side of an inequality,
  changing it to its inverse, version with a product initially on the 
  right hand side.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> field1<span class="main">)</span> OrdField_ZF_2_L5A<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">∈</span><span class="keyword1"><span class="free">R<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main"><span class="free">¯</span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">b</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main"><span class="free">¯</span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main"><span class="free">¯</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> OrdField_ZF_2_L3 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main"><span class="free">¯</span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">b</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> OrdField_ZF_1_L7A
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹We can put a positive factor on the other side of a strict
  inequality, changing it to its inverse, version with a product
  initially on the left hand side.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> field1<span class="main">)</span> OrdField_ZF_2_L6<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="keyword1"><span class="free">R<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">c</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span><span class="main"><span class="free">¯</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span><span class="main"><span class="free">¯</span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span><span class="main"><span class="free">¯</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> OrdField_ZF_2_L4 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span><span class="main"><span class="free">¯</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> OrdField_ZF_1_L7A
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹We can put a positive factor on the other side of a strict
  inequality, changing it to its inverse, version with a product
  initially on the right hand side.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> field1<span class="main">)</span> OrdField_ZF_2_L6A<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">∈</span><span class="keyword1"><span class="free">R<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main"><span class="free">¯</span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">b</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main"><span class="free">¯</span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main"><span class="free">¯</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> OrdField_ZF_2_L4 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main"><span class="free">¯</span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">b</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> OrdField_ZF_1_L7A
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Sometimes we can reverse an inequality by taking inverse
  on both sides.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> field1<span class="main">)</span> OrdField_ZF_2_L7<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="keyword1"><span class="free">R<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">¯</span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">b</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">¯</span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">a</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">¯</span></span> <span class="main">∈</span> <span class="keyword1"><span class="free">R<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> OrdField_ZF_1_L8
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">b</span> <span class="main">∈</span> <span class="keyword1"><span class="free">R<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span>  OrdRing_ZF_3_L7
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> T<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">b</span> <span class="main">∈</span> <span class="keyword1"><span class="free">R<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">¯</span></span> <span class="main">∈</span> <span class="keyword1"><span class="free">R<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> OrdField_ZF_1_L8
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> A1 A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">¯</span></span><span class="main"><span class="free">⋅</span></span><span class="free">a</span><span class="main"><span class="free">¯</span></span><span class="main"><span class="free">⋅</span></span><span class="free">a</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">¯</span></span><span class="main"><span class="free">⋅</span></span><span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">a</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> OrdRing_ZF_1_L9A <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> 
  <span class="keyword1"><span class="command">from</span></span> A1 A2 T <span class="keyword1"><span class="command">have</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">¯</span></span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="free">R</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">≠</span><span class="main"><span class="free">𝟬</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">≠</span><span class="main"><span class="free">𝟬</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> PositiveSet_def OrdRing_ZF_1_L3 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">¯</span></span><span class="main"><span class="free">⋅</span></span><span class="free">a</span><span class="main"><span class="free">¯</span></span><span class="main"><span class="free">⋅</span></span><span class="free">a</span> <span class="main">=</span> <span class="free">b</span><span class="main"><span class="free">¯</span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">¯</span></span><span class="main"><span class="free">⋅</span></span><span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">a</span> <span class="main">=</span> <span class="free">a</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> OrdField_ZF_1_L1B field0.Field_ZF_1_L7 
      field0.Field_ZF_1_L6 Ring_ZF_1_L3
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">¯</span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">a</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Sometimes we can reverse a strict inequality by taking inverse
  on both sides.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> field1<span class="main">)</span> OrdField_ZF_2_L8<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="keyword1"><span class="free">R<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">¯</span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">b</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">¯</span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">a</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">¯</span></span> <span class="main">∈</span> <span class="keyword1"><span class="free">R<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">¯</span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span><span class="free">b</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> OrdField_ZF_1_L8 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">b</span> <span class="main">∈</span> <span class="keyword1"><span class="free">R<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> OrdRing_ZF_3_L7
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">≠</span><span class="main"><span class="free">𝟬</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> PositiveSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">¯</span></span> <span class="main">≠</span> <span class="free">a</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> OrdField_ZF_1_L1B field0.Field_ZF_2_L4
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> A1 A2 <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">¯</span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">a</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> OrdField_ZF_2_L7 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>
    
<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹A technical lemma about solving a strict inequality with three
  field elements and inverse of a difference.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> field1<span class="main">)</span> OrdField_ZF_2_L9<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;ls&gt;</span></span><span class="free">b</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">b</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">a</span><span class="main">)</span><span class="main"><span class="free">¯</span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">c</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟭</span></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">b</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">a</span><span class="main">)</span><span class="main"><span class="free">¯</span></span> <span class="main">∈</span> <span class="keyword1"><span class="free">R<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">b</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">a</span><span class="main">)</span><span class="main"><span class="free">¯</span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">c</span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> OrdField_ZF_1_L9 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> T1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">c</span> <span class="main">∈</span> <span class="keyword1"><span class="free">R<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> OrdRing_ZF_3_L7 <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">with</span></span> A1 A2 <span class="keyword1"><span class="command">have</span></span> T2<span class="main">:</span> 
    <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">≠</span><span class="main"><span class="free">𝟬</span></span>"</span></span>   <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main"><span class="free">¯</span></span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> OrdRing_ZF_1_L3 OrdField_ZF_1_L8 PositiveSet_def 
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> A1 A2  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main"><span class="free">¯</span></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">a</span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">a</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">a</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> OrdRing_ZF_1_L14 OrdField_ZF_2_L8 ring_strict_ord_trans_inv
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> T1 T2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">c</span><span class="main"><span class="free">¯</span></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">a</span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Ring_ZF_2_L1A OrdField_ZF_2_L1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> T1 T2 <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟭</span></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> ring_oper_distr OrdField_ZF_1_L8
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‹Definition of real numbers›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The only purpose of this section is to define what does it mean
  to be a model of real numbers.›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹We define model of real numbers as any quadruple of sets $(K,A,M,r)$ 
  such that $(K,A,M,r)$ is an ordered field and the order relation $r$
  is complete, that is every set that is nonempty and bounded above in this 
  relation has a supremum.›</span></span>

<span class="keyword1"><span class="command">definition</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">IsAmodelOfReals</span><span class="main">(</span><span class="free"><span class="bound"><span class="entity">K</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">M</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">r</span></span></span><span class="main">)</span> <span class="main">≡</span> IsAnOrdField<span class="main">(</span><span class="free"><span class="bound"><span class="entity">K</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">M</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">r</span></span></span><span class="main">)</span> <span class="main">∧</span> <span class="main">(</span><span class="free"><span class="bound"><span class="entity">r</span></span></span> <span class="keyword1">{is</span> <span class="keyword1">complete}</span><span class="main">)</span>"</span></span>

<span class="keyword2"><span class="keyword">end</span></span></pre>
</body>

</html>