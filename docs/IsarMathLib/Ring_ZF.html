<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory Ring_ZF</title>
</head>


<body>
<div class="head">
<h1>Theory Ring_ZF</h1>
</div>

<pre class="source"><span class="comment1">(*
    This file is a part of IsarMathLib - 
    a library of formalized mathematics for Isabelle/Isar.

    Copyright (C) 2005, 2006  Slawomir Kolodynski

    This program is free software; Redistribution and use in source and binary forms, 
    with or without modification, are permitted provided that the following conditions are met:

   1. Redistributions of source code must retain the above copyright notice, 
   this list of conditions and the following disclaimer.
   2. Redistributions in binary form must reproduce the above copyright notice, 
   this list of conditions and the following disclaimer in the documentation and/or 
   other materials provided with the distribution.
   3. The name of the author may not be used to endorse or promote products 
   derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED 
WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF 
MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, 
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, 
PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; 
OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR 
OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, 
EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

*)</span>

<span class="keyword1"><span class="command">section</span></span> <span class="quoted"><span class="plain_text">‹Rings - introduction›</span></span>

<span class="keyword1"><span class="command">theory</span></span> Ring_ZF <span class="keyword2"><span class="keyword">imports</span></span> <a href="AbelianGroup_ZF.html">AbelianGroup_ZF</a>

<span class="keyword2"><span class="keyword">begin</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹This theory file covers basic facts about rings.›</span></span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‹Definition and basic properties›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹In this section we define what is a ring and list the basic properties
  of rings.›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹We say that three sets $(R,A,M)$ form a ring if $(R,A)$ is an abelian 
  group, $(R,M)$ is a monoid and $A$ is distributive with respect to $M$ on 
  $R$. $A$ represents the additive operation on $R$. 
  As such it is a subset of $(R\times R)\times R$ (recall that in ZF set theory
  functions are sets).
  Similarly $M$ represents the multiplicative operation on $R$ and is also
  a subset of $(R\times R)\times R$.
  We  don't require the multiplicative operation to be commutative in the 
  definition of a ring.›</span></span>


<span class="keyword1"><span class="command">definition</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">IsAring</span><span class="main">(</span><span class="free"><span class="bound"><span class="entity">R</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">M</span></span></span><span class="main">)</span> <span class="main">≡</span> IsAgroup<span class="main">(</span><span class="free"><span class="bound"><span class="entity">R</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">)</span> <span class="main">∧</span> <span class="main">(</span><span class="free"><span class="bound"><span class="entity">A</span></span></span> <span class="keyword1">{is</span> <span class="keyword1">commutative</span> <span class="keyword1">on}</span> <span class="free"><span class="bound"><span class="entity">R</span></span></span><span class="main">)</span> <span class="main">∧</span> 
  IsAmonoid<span class="main">(</span><span class="free"><span class="bound"><span class="entity">R</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">M</span></span></span><span class="main">)</span> <span class="main">∧</span> IsDistributive<span class="main">(</span><span class="free"><span class="bound"><span class="entity">R</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">M</span></span></span><span class="main">)</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹We also define the notion of having no zero divisors. In
  standard notation the ring has no zero divisors if for all $a,b \in R$ we have 
  $a\cdot b = 0$ implies $a = 0$ or $b = 0$.
›</span></span>

<span class="keyword1"><span class="command">definition</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">HasNoZeroDivs</span><span class="main">(</span><span class="free"><span class="bound"><span class="entity">R</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">M</span></span></span><span class="main">)</span> <span class="main">≡</span> <span class="main">(</span><span class="main">∀</span><span class="bound">a</span><span class="main">∈</span><span class="free"><span class="bound"><span class="entity">R</span></span></span><span class="main">.</span> <span class="main">∀</span><span class="bound">b</span><span class="main">∈</span><span class="free"><span class="bound"><span class="entity">R</span></span></span><span class="main">.</span> 
  <span class="free"><span class="bound"><span class="entity">M</span></span></span><span class="main">`</span><span class="main">⟨</span> <span class="bound">a</span><span class="main">,</span><span class="bound">b</span><span class="main">⟩</span> <span class="main">=</span> TheNeutralElement<span class="main">(</span><span class="free"><span class="bound"><span class="entity">R</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">)</span> <span class="main">⟶</span>
  <span class="bound">a</span> <span class="main">=</span> TheNeutralElement<span class="main">(</span><span class="free"><span class="bound"><span class="entity">R</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">)</span> <span class="main">∨</span> <span class="bound">b</span> <span class="main">=</span> TheNeutralElement<span class="main">(</span><span class="free"><span class="bound"><span class="entity">R</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">)</span><span class="main">)</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Next we define a locale that will be used when considering rings.›</span></span>

<span class="keyword1"><span class="command">locale</span></span> ring0 <span class="main">=</span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">R</span> <span class="keyword2"><span class="keyword">and</span></span> <span class="free">A</span> <span class="keyword2"><span class="keyword">and</span></span> <span class="free">M</span> 
 
  <span class="keyword2"><span class="keyword">assumes</span></span> ringAssum<span class="main">:</span> <span class="quoted"><span class="quoted">"IsAring<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">ringa</span> <span class="main">(</span><span class="keyword2"><span class="keyword">infixl</span></span> <span class="quoted">"<span class="keyword1">\&lt;ra&gt;</span>"</span> 90<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> ringa_def <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">b</span> <span class="main">≡</span> <span class="free">A</span><span class="main">`</span><span class="main">⟨</span> <span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">⟩</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">ringminus</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">\&lt;rm&gt;</span> _"</span> 89<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> ringminus_def <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">a</span><span class="main">)</span> <span class="main">≡</span> GroupInv<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="free">a</span><span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">ringsub</span> <span class="main">(</span><span class="keyword2"><span class="keyword">infixl</span></span> <span class="quoted">"<span class="keyword1">\&lt;rs&gt;</span>"</span> 90<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> ringsub_def <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">b</span> <span class="main">≡</span> <span class="free">a</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">b</span><span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">ringm</span> <span class="main">(</span><span class="keyword2"><span class="keyword">infixl</span></span> <span class="quoted">"<span class="keyword1">⋅</span>"</span> 95<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> ringm_def <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span> <span class="main">≡</span> <span class="free">M</span><span class="main">`</span><span class="main">⟨</span> <span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">⟩</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">ringzero</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">𝟬</span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> ringzero_def <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟬</span></span> <span class="main">≡</span> TheNeutralElement<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">ringone</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">𝟭</span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> ringone_def <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟭</span></span> <span class="main">≡</span> TheNeutralElement<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">M</span><span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">ringtwo</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">𝟮</span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> ringtwo_def <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟮</span></span> <span class="main">≡</span> <span class="main"><span class="free">𝟭</span></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="main"><span class="free">𝟭</span></span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">ringsq</span> <span class="main">(</span><span class="quoted">"_<span class="keyword1"><span class="hidden">⇧</span><sup>2</sup></span>"</span> <span class="main">[</span>96<span class="main">]</span> 97<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> ringsq_def <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free"><span class="hidden">⇧</span><sup>2</sup></span></span> <span class="main">≡</span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">a</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹In the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>ring0›</span></span></span></span> context we can use theorems proven in some 
  other contexts.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> ring0<span class="main">)</span> Ring_ZF_1_L1<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"monoid0<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">M</span><span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"group0<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">)</span>"</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">A</span> <span class="keyword1">{is</span> <span class="keyword1">commutative</span> <span class="keyword1">on}</span> <span class="free">R</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> ringAssum IsAring_def group0_def monoid0_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The additive operation in a ring is distributive with respect to the
  multiplicative operation.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> ring0<span class="main">)</span> ring_oper_distr<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">∈</span><span class="free">R</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">c</span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span>"</span></span> 
  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">b</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">c</span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="free">a</span> <span class="main">=</span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">a</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">a</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> ringAssum assms IsAring_def IsDistributive_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Zero and one of the ring are elements of the ring. The negative of zero
  is zero.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> ring0<span class="main">)</span> Ring_ZF_1_L2<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟬</span></span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟭</span></span><span class="main">∈</span><span class="free">R</span>"</span></span>   <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="main"><span class="free">𝟬</span></span><span class="main">)</span> <span class="main">=</span> <span class="main"><span class="free">𝟬</span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> Ring_ZF_1_L1 group0.group0_2_L2 monoid0.unit_is_neutral 
    group0.group_inv_of_one <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  
<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The next lemma lists some properties of a ring that require one element
  of a ring.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> ring0<span class="main">)</span> Ring_ZF_1_L3<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="free">R</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">a</span><span class="main">)</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">a</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="main"><span class="free">𝟬</span></span> <span class="main">=</span> <span class="free">a</span>"</span></span> 
  <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟬</span></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">a</span> <span class="main">=</span> <span class="free">a</span>"</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main"><span class="free">𝟭</span></span> <span class="main">=</span> <span class="free">a</span>"</span></span> 
  <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟭</span></span><span class="main"><span class="free">⋅</span></span><span class="free">a</span> <span class="main">=</span> <span class="free">a</span>"</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">a</span> <span class="main">=</span> <span class="main"><span class="free">𝟬</span></span>"</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="main"><span class="free">𝟬</span></span> <span class="main">=</span> <span class="free">a</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟮</span></span><span class="main"><span class="free">⋅</span></span><span class="free">a</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">a</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">a</span><span class="main">)</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">a</span> <span class="main">=</span> <span class="main"><span class="free">𝟬</span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms Ring_ZF_1_L1 group0.inverse_in_group group0.group_inv_of_inv 
    group0.group0_2_L6 group0.group0_2_L2 monoid0.unit_is_neutral 
    Ring_ZF_1_L2 ring_oper_distr
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Properties that require two elements of a ring.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> ring0<span class="main">)</span> Ring_ZF_1_L4<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="free">R</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="free">R</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">b</span> <span class="main">∈</span> <span class="free">R</span>"</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">b</span> <span class="main">∈</span> <span class="free">R</span>"</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span> <span class="main">∈</span> <span class="free">R</span>"</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">b</span> <span class="main">=</span> <span class="free">b</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">a</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> ringAssum assms Ring_ZF_1_L1 Ring_ZF_1_L3 
    group0.group0_2_L1 monoid0.group0_1_L1 
    IsAring_def IsCommutative_def
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Cancellation of an element on both sides of equality. 
  This is a property of groups, written in the (additive) notation
  we use for the additive operation in rings.
›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> ring0<span class="main">)</span> ring_cancel_add<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="free">R</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="free">R</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">b</span> <span class="main">=</span> <span class="free">a</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">b</span> <span class="main">=</span> <span class="main"><span class="free">𝟬</span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms Ring_ZF_1_L1 group0.group0_2_L7 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Any element of a ring multiplied by zero is zero.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> ring0<span class="main">)</span> Ring_ZF_1_L6<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main">∈</span><span class="free">R</span>"</span></span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟬</span></span><span class="main"><span class="free">⋅</span></span><span class="free">x</span> <span class="main">=</span> <span class="main"><span class="free">𝟬</span></span>"</span></span>   <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main"><span class="free">⋅</span></span><span class="main"><span class="free">𝟬</span></span> <span class="main">=</span> <span class="main"><span class="free">𝟬</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?a</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main"><span class="free">⋅</span></span><span class="main"><span class="free">𝟭</span></span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?b</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main"><span class="free">⋅</span></span><span class="main"><span class="free">𝟬</span></span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?c</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟭</span></span><span class="main"><span class="free">⋅</span></span><span class="free">x</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?d</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟬</span></span><span class="main"><span class="free">⋅</span></span><span class="free">x</span>"</span></span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"<span class="var">?a</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="var">?b</span> <span class="main">=</span> <span class="free">x</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="main"><span class="free">𝟭</span></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main"><span class="free">𝟬</span></span><span class="main">)</span>"</span></span>   <span class="quoted"><span class="quoted">"<span class="var">?c</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="var">?d</span> <span class="main">=</span> <span class="main">(</span><span class="main"><span class="free">𝟭</span></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main"><span class="free">𝟬</span></span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="free">x</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Ring_ZF_1_L2 ring_oper_distr <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="main"><span class="free">𝟭</span></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main"><span class="free">𝟬</span></span><span class="main">)</span> <span class="main">=</span> <span class="var">?a</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">𝟭</span></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main"><span class="free">𝟬</span></span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="free">x</span> <span class="main">=</span> <span class="var">?c</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Ring_ZF_1_L2 Ring_ZF_1_L3 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?a</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="var">?b</span> <span class="main">=</span> <span class="var">?a</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> T1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="var">?c</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="var">?d</span> <span class="main">=</span> <span class="var">?c</span>"</span></span> 
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"<span class="var">?a</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="var">?b</span> <span class="main">∈</span> <span class="free">R</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> T2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="var">?c</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="var">?d</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Ring_ZF_1_L2 Ring_ZF_1_L4 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?b</span> <span class="main">=</span> <span class="main"><span class="free">𝟬</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> ring_cancel_add
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> T2 T1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?d</span> <span class="main">=</span> <span class="main"><span class="free">𝟬</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> ring_cancel_add
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main"><span class="free">⋅</span></span><span class="main"><span class="free">𝟬</span></span> <span class="main">=</span> <span class="main"><span class="free">𝟬</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟬</span></span><span class="main"><span class="free">⋅</span></span><span class="free">x</span> <span class="main">=</span> <span class="main"><span class="free">𝟬</span></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Negative can be pulled out of a product.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> ring0<span class="main">)</span> Ring_ZF_1_L7<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="free">R</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">a</span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span> <span class="main">=</span> <span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span><span class="main">)</span>"</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">b</span><span class="main">)</span> <span class="main">=</span> <span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span><span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">a</span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">b</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> I<span class="main">:</span> 
    <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span> <span class="main">∈</span> <span class="free">R</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">a</span><span class="main">)</span> <span class="main">∈</span> <span class="free">R</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">a</span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span><span class="main">)</span> <span class="main">∈</span> <span class="free">R</span>"</span></span> 
    <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">b</span><span class="main">)</span> <span class="main">∈</span> <span class="free">R</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">b</span><span class="main">)</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Ring_ZF_1_L3 Ring_ZF_1_L4 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">a</span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span> <span class="main">=</span> <span class="main"><span class="free">𝟬</span></span>"</span></span> 
    <span class="keyword2"><span class="keyword">and</span></span> II<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">b</span><span class="main">)</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span> <span class="main">=</span> <span class="main"><span class="free">𝟬</span></span>"</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
    <span class="keyword1"><span class="command">from</span></span> A1 I <span class="keyword1"><span class="command">have</span></span> 
      <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">a</span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span> <span class="main">=</span> <span class="main">(</span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">a</span><span class="main">)</span><span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">a</span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span>"</span></span>
      <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">b</span><span class="main">)</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span><span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">b</span><span class="main">)</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">b</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> ring_oper_distr <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> 
      <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">a</span><span class="main">)</span><span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">a</span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span> <span class="main">=</span> <span class="main"><span class="free">𝟬</span></span>"</span></span> 
      <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">b</span><span class="main">)</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">b</span><span class="main">)</span> <span class="main">=</span> <span class="main"><span class="free">𝟬</span></span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> Ring_ZF_1_L1 group0.group0_2_L6 Ring_ZF_1_L6
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> 
      <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">a</span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span> <span class="main">=</span> <span class="main"><span class="free">𝟬</span></span>"</span></span> 
      <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">b</span><span class="main">)</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span> <span class="main">=</span> <span class="main"><span class="free">𝟬</span></span>"</span></span> 
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">a</span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span> <span class="main">=</span> <span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Ring_ZF_1_L1 group0.group0_2_L9 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> I II <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">b</span><span class="main">)</span> <span class="main">=</span> <span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Ring_ZF_1_L1 group0.group0_2_L9 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>   
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">a</span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">b</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Minus times minus is plus.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> ring0<span class="main">)</span> Ring_ZF_1_L7A<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="free">R</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">a</span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">b</span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms Ring_ZF_1_L3 Ring_ZF_1_L7 Ring_ZF_1_L4
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Subtraction is distributive with respect to multiplication.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> ring0<span class="main">)</span> Ring_ZF_1_L8<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">∈</span><span class="free">R</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">c</span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span>"</span></span>  
  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">b</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">c</span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="free">a</span> <span class="main">=</span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">a</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">a</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms Ring_ZF_1_L3 ring_oper_distr Ring_ZF_1_L7 Ring_ZF_1_L4
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Other basic properties involving two elements of a ring.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> ring0<span class="main">)</span> Ring_ZF_1_L9<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="free">R</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">b</span><span class="main">)</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">a</span> <span class="main">=</span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">a</span><span class="main">)</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">b</span>"</span></span> 
  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">b</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">a</span><span class="main">)</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">b</span>"</span></span>  
  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">b</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">a</span><span class="main">)</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">b</span><span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">b</span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">b</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms ringAssum IsAring_def 
    Ring_ZF_1_L1 group0.group0_4_L4  group0.group_inv_of_inv
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹If the difference of two element is zero, then those elements
  are equal.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> ring0<span class="main">)</span> Ring_ZF_1_L9A<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="free">R</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">b</span> <span class="main">=</span> <span class="main"><span class="free">𝟬</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">=</span><span class="free">b</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 A2 <span class="keyword1"><span class="command">have</span></span>
    <span class="quoted"><span class="quoted">"group0<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">)</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="free">R</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">`</span><span class="main">⟨</span><span class="free">a</span><span class="main">,</span>GroupInv<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="free">b</span><span class="main">)</span><span class="main">⟩</span> <span class="main">=</span> TheNeutralElement<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Ring_ZF_1_L1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">=</span><span class="free">b</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> group0.group0_2_L11A<span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Other basic properties involving three elements of a ring.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> ring0<span class="main">)</span> Ring_ZF_1_L10<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">∈</span><span class="free">R</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">c</span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">b</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">c</span>"</span></span>
  <span class="comment1">(*"a\&lt;ra&gt;(b\&lt;rs&gt;c) = a\&lt;ra&gt;b\&lt;rs&gt;c"*)</span>
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">c</span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">b</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">c</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">c</span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">b</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">c</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms ringAssum Ring_ZF_1_L1 group0.group_oper_assoc 
    IsAring_def group0.group0_4_L4A <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Another property with three elements.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> ring0<span class="main">)</span> Ring_ZF_1_L10A<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">∈</span><span class="free">R</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">c</span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">b</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">c</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms Ring_ZF_1_L3 Ring_ZF_1_L10 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Associativity of addition and multiplication.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> ring0<span class="main">)</span> Ring_ZF_1_L11<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">∈</span><span class="free">R</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">b</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">c</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">c</span><span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms ringAssum Ring_ZF_1_L1 group0.group_oper_assoc
    IsAring_def IsAmonoid_def IsAssociative_def
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹An interpretation of what it means that a ring has 
  no zero divisors.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> ring0<span class="main">)</span> Ring_ZF_1_L12<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"HasNoZeroDivs<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">≠</span><span class="main"><span class="free">𝟬</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">≠</span><span class="main"><span class="free">𝟬</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span><span class="main">≠</span><span class="main"><span class="free">𝟬</span></span>"</span></span> 
  <span class="keyword1"><span class="command">using</span></span> assms HasNoZeroDivs_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹In rings with no zero divisors we can cancel nonzero factors.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> ring0<span class="main">)</span> Ring_ZF_1_L12A<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"HasNoZeroDivs<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">∈</span><span class="free">R</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> A3<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span> <span class="main">=</span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A4<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">≠</span><span class="main"><span class="free">𝟬</span></span>"</span></span> 
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">=</span><span class="free">b</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A2 <span class="keyword1"><span class="command">have</span></span> T<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">b</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Ring_ZF_1_L4 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> A1 A2 A3 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">b</span> <span class="main">=</span> <span class="main"><span class="free">𝟬</span></span> <span class="main">∨</span> <span class="free">c</span><span class="main">=</span><span class="main"><span class="free">𝟬</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Ring_ZF_1_L3 Ring_ZF_1_L8 HasNoZeroDivs_def
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> A2 A4 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">b</span> <span class="main">=</span> <span class="main"><span class="free">𝟬</span></span>"</span></span> 
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">=</span><span class="free">b</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> Ring_ZF_1_L9A<span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹In rings with no zero divisors if two elements are different, 
  then after multiplying by a nonzero element they are still different.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> ring0<span class="main">)</span> Ring_ZF_1_L12B<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"HasNoZeroDivs<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">)</span>"</span></span>  
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="free">R</span>"</span></span>   <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="free">R</span>"</span></span>   <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">∈</span><span class="free">R</span>"</span></span>   <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">≠</span><span class="free">b</span>"</span></span>   <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">≠</span><span class="main"><span class="free">𝟬</span></span>"</span></span> 
  <span class="keyword2"><span class="keyword">shows</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span> <span class="main">≠</span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> A1 Ring_ZF_1_L12A <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="comment1">(* A1 has to be here *)</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹In rings with no zero divisors multiplying a nonzero element 
  by a nonone element changes the value.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> ring0<span class="main">)</span> Ring_ZF_1_L12C<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"HasNoZeroDivs<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> 
  A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="free">R</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A3<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟬</span></span><span class="main">≠</span><span class="free">a</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟭</span></span><span class="main">≠</span><span class="free">b</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">≠</span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">{</span></span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span>"</span></span>
    <span class="keyword1"><span class="command">with</span></span> A1 A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">=</span> <span class="main"><span class="free">𝟬</span></span> <span class="main">∨</span> <span class="free">b</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="main"><span class="free">𝟭</span></span> <span class="main">=</span> <span class="main"><span class="free">𝟬</span></span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> Ring_ZF_1_L3 Ring_ZF_1_L2 Ring_ZF_1_L8 
	Ring_ZF_1_L3 Ring_ZF_1_L2 Ring_ZF_1_L4 HasNoZeroDivs_def
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">with</span></span> A2 A3 <span class="keyword1"><span class="command">have</span></span> <span class="quoted">False</span>
      <span class="keyword1"><span class="command">using</span></span> Ring_ZF_1_L2 Ring_ZF_1_L9A <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">≠</span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>      

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹If a square is nonzero, then the element is nonzero.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> ring0<span class="main">)</span> Ring_ZF_1_L13<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free"><span class="hidden">⇧</span><sup>2</sup></span></span> <span class="main">≠</span> <span class="main"><span class="free">𝟬</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">≠</span><span class="main"><span class="free">𝟬</span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms Ring_ZF_1_L2 Ring_ZF_1_L6 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Square of an element and its opposite are the same.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> ring0<span class="main">)</span> Ring_ZF_1_L14<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="free">R</span>"</span></span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">a</span><span class="main">)</span><span class="main"><span class="free"><span class="hidden">⇧</span><sup>2</sup></span></span> <span class="main">=</span> <span class="main">(</span><span class="main">(</span><span class="free">a</span><span class="main">)</span><span class="main"><span class="free"><span class="hidden">⇧</span><sup>2</sup></span></span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms Ring_ZF_1_L7A <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Adding zero to a set that is closed under addition results
  in a set that is also closed under addition. This is a property of groups.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> ring0<span class="main">)</span> Ring_ZF_1_L15<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">H</span> <span class="main">⊆</span> <span class="free">R</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">H</span> <span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">under}</span> <span class="free">A</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">H</span> <span class="main">∪</span> <span class="main">{</span><span class="main"><span class="free">𝟬</span></span><span class="main">}</span><span class="main">)</span> <span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">under}</span> <span class="free">A</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms Ring_ZF_1_L1 group0.group0_2_L17 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Adding zero to a set that is closed under multiplication results
  in a set that is also closed under multiplication.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> ring0<span class="main">)</span> Ring_ZF_1_L16<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">H</span> <span class="main">⊆</span> <span class="free">R</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">H</span> <span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">under}</span> <span class="free">M</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">H</span> <span class="main">∪</span> <span class="main">{</span><span class="main"><span class="free">𝟬</span></span><span class="main">}</span><span class="main">)</span> <span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">under}</span> <span class="free">M</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms Ring_ZF_1_L2 Ring_ZF_1_L6 IsOpClosed_def
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The ring is trivial iff $0=1$.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> ring0<span class="main">)</span> Ring_ZF_1_L17<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">R</span> <span class="main">=</span> <span class="main">{</span><span class="main"><span class="free">𝟬</span></span><span class="main">}</span> <span class="main">⟷</span> <span class="main"><span class="free">𝟬</span></span><span class="main">=</span><span class="main"><span class="free">𝟭</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span>
  <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="free">R</span> <span class="main">=</span> <span class="main">{</span><span class="main"><span class="free">𝟬</span></span><span class="main">}</span>"</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟬</span></span><span class="main">=</span><span class="main"><span class="free">𝟭</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Ring_ZF_1_L2
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
<span class="keyword1"><span class="command">next</span></span> <span class="keyword3"><span class="command">assume</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟬</span></span> <span class="main">=</span> <span class="main"><span class="free">𝟭</span></span>"</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">R</span> <span class="main">⊆</span> <span class="main">{</span><span class="main"><span class="free">𝟬</span></span><span class="main">}</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Ring_ZF_1_L3 Ring_ZF_1_L6 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="main"><span class="free">𝟬</span></span><span class="main">}</span> <span class="main">⊆</span> <span class="free">R</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Ring_ZF_1_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">R</span> <span class="main">=</span> <span class="main">{</span><span class="main"><span class="free">𝟬</span></span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The sets $\{m\cdot x. x\in R\}$ and  $\{-m\cdot x. x\in R\}$
  are the same.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> ring0<span class="main">)</span> Ring_ZF_1_L18<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">m</span><span class="main">∈</span><span class="free">R</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="free">m</span><span class="main"><span class="free">⋅</span></span><span class="bound">x</span><span class="main">.</span> <span class="bound">x</span><span class="main">∈</span><span class="free">R</span><span class="main">}</span> <span class="main">=</span> <span class="main">{</span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">m</span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="bound">x</span><span class="main">.</span> <span class="bound">x</span><span class="main">∈</span><span class="free">R</span><span class="main">}</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span>
  <span class="keyword1"><span class="command">{</span></span> <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">a</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">a</span> <span class="main">∈</span> <span class="main">{</span><span class="free">m</span><span class="main"><span class="free">⋅</span></span><span class="bound">x</span><span class="main">.</span> <span class="bound">x</span><span class="main">∈</span><span class="free">R</span><span class="main">}</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">x</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="free">R</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">a</span> <span class="main">=</span> <span class="free">m</span><span class="main"><span class="free">⋅</span></span><span class="skolem">x</span>"</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="skolem">x</span><span class="main">)</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">a</span> <span class="main">=</span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">m</span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="skolem">x</span><span class="main">)</span>"</span></span> 
      <span class="keyword1"><span class="command">using</span></span> Ring_ZF_1_L3 Ring_ZF_1_L7A <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">a</span> <span class="main">∈</span> <span class="main">{</span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">m</span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="bound">x</span><span class="main">.</span> <span class="bound">x</span><span class="main">∈</span><span class="free">R</span><span class="main">}</span>"</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="free">m</span><span class="main"><span class="free">⋅</span></span><span class="bound">x</span><span class="main">.</span> <span class="bound">x</span><span class="main">∈</span><span class="free">R</span><span class="main">}</span> <span class="main">⊆</span> <span class="main">{</span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">m</span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="bound">x</span><span class="main">.</span> <span class="bound">x</span><span class="main">∈</span><span class="free">R</span><span class="main">}</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">next</span></span> 
  <span class="keyword1"><span class="command">{</span></span> <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">a</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">a</span> <span class="main">∈</span> <span class="main">{</span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">m</span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="bound">x</span><span class="main">.</span> <span class="bound">x</span><span class="main">∈</span><span class="free">R</span><span class="main">}</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">x</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="free">R</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">a</span> <span class="main">=</span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">m</span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="skolem">x</span>"</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="skolem">x</span><span class="main">)</span> <span class="main">∈</span> <span class="free">R</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">a</span> <span class="main">=</span> <span class="free">m</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="skolem">x</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> Ring_ZF_1_L3 Ring_ZF_1_L7 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">a</span> <span class="main">∈</span> <span class="main">{</span><span class="free">m</span><span class="main"><span class="free">⋅</span></span><span class="bound">x</span><span class="main">.</span> <span class="bound">x</span><span class="main">∈</span><span class="free">R</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">m</span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="bound">x</span><span class="main">.</span> <span class="bound">x</span><span class="main">∈</span><span class="free">R</span><span class="main">}</span> <span class="main">⊆</span> <span class="main">{</span><span class="free">m</span><span class="main"><span class="free">⋅</span></span><span class="bound">x</span><span class="main">.</span> <span class="bound">x</span><span class="main">∈</span><span class="free">R</span><span class="main">}</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‹Rearrangement lemmas›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹In happens quite often that we want to show a fact like 
  $(a+b)c+d = (ac+d-e)+(bc+e)$in rings. 
  This is trivial in romantic math and probably there is a way to make 
  it trivial in formalized math. However, I don't know any other way than to
  tediously prove each such rearrangement when it is needed. This section 
  collects facts of this type.›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Rearrangements with two elements of a ring.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> ring0<span class="main">)</span> Ring_ZF_2_L1<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="free">R</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="free">R</span>"</span></span> 
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">a</span> <span class="main">=</span> <span class="main">(</span><span class="free">b</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="main"><span class="free">𝟭</span></span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="free">a</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms Ring_ZF_1_L2 ring_oper_distr Ring_ZF_1_L3 Ring_ZF_1_L4
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Rearrangements with two elements and cancelling.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> ring0<span class="main">)</span> Ring_ZF_2_L1A<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="free">R</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="free">R</span>"</span></span> 
  <span class="keyword2"><span class="keyword">shows</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">b</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">b</span> <span class="main">=</span> <span class="free">a</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">b</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">a</span> <span class="main">=</span> <span class="free">b</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">a</span><span class="main">)</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">b</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">a</span> <span class="main">=</span> <span class="free">b</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">a</span><span class="main">)</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">a</span><span class="main">)</span> <span class="main">=</span> <span class="free">b</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">a</span><span class="main">)</span> <span class="main">=</span> <span class="free">b</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms Ring_ZF_1_L1 group0.inv_cancel_two group0.group0_4_L6A
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹In commutative rings $a-(b+1)c = (a-d-c)+(d-bc)$. For unknown reasons 
  we have to use the raw set notation in the proof, otherwise all methods 
  fail.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> ring0<span class="main">)</span> Ring_ZF_2_L2<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">d</span><span class="main">∈</span><span class="free">R</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="main"><span class="free">𝟭</span></span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span> <span class="main">=</span> <span class="main">(</span><span class="free">a</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">d</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">c</span><span class="main">)</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="main">(</span><span class="free">d</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?B</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span>"</span></span> 
  <span class="keyword1"><span class="command">from</span></span> ringAssum <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span> <span class="keyword1">{is</span> <span class="keyword1">commutative</span> <span class="keyword1">on}</span> <span class="free">R</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> IsAring_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="free">R</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="var">?B</span> <span class="main">∈</span> <span class="free">R</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">∈</span><span class="free">R</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">d</span><span class="main">∈</span><span class="free">R</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Ring_ZF_1_L4 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">`</span><span class="main">⟨</span><span class="free">a</span><span class="main">,</span> GroupInv<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="free">A</span><span class="main">`</span><span class="main">⟨</span><span class="var">?B</span><span class="main">,</span> <span class="free">c</span><span class="main">⟩</span><span class="main">)</span><span class="main">⟩</span> <span class="main">=</span>
    <span class="free">A</span><span class="main">`</span><span class="main">⟨</span><span class="free">A</span><span class="main">`</span><span class="main">⟨</span><span class="free">A</span><span class="main">`</span><span class="main">⟨</span><span class="free">a</span><span class="main">,</span> GroupInv<span class="main">(</span><span class="free">R</span><span class="main">,</span> <span class="free">A</span><span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="free">d</span><span class="main">)</span><span class="main">⟩</span><span class="main">,</span>GroupInv<span class="main">(</span><span class="free">R</span><span class="main">,</span> <span class="free">A</span><span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="free">c</span><span class="main">)</span><span class="main">⟩</span><span class="main">,</span>
    <span class="free">A</span><span class="main">`</span><span class="main">⟨</span><span class="free">d</span><span class="main">,</span>GroupInv<span class="main">(</span><span class="free">R</span><span class="main">,</span> <span class="free">A</span><span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="var">?B</span><span class="main">)</span><span class="main">⟩</span><span class="main">⟩</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Ring_ZF_1_L1 group0.group0_4_L8 <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> 
    <span class="keyword1"><span class="command">using</span></span> Ring_ZF_1_L2 ring_oper_distr Ring_ZF_1_L3 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Rerrangement about adding linear functions.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> ring0<span class="main">)</span> Ring_ZF_2_L3<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">d</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main">∈</span><span class="free">R</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">x</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">b</span><span class="main">)</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">x</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">d</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="free">a</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">c</span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="free">x</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="free">b</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">d</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"group0<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">)</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">A</span> <span class="keyword1">{is</span> <span class="keyword1">commutative</span> <span class="keyword1">on}</span> <span class="free">R</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">x</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">x</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">d</span><span class="main">∈</span><span class="free">R</span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> Ring_ZF_1_L1 Ring_ZF_1_L4 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">`</span><span class="main">⟨</span><span class="free">A</span><span class="main">`</span><span class="main">⟨</span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">x</span><span class="main">,</span><span class="free">b</span><span class="main">⟩</span><span class="main">,</span><span class="free">A</span><span class="main">`</span><span class="main">⟨</span> <span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">x</span><span class="main">,</span><span class="free">d</span><span class="main">⟩</span><span class="main">⟩</span> <span class="main">=</span> <span class="free">A</span><span class="main">`</span><span class="main">⟨</span><span class="free">A</span><span class="main">`</span><span class="main">⟨</span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">x</span><span class="main">,</span><span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">x</span><span class="main">⟩</span><span class="main">,</span><span class="free">A</span><span class="main">`</span><span class="main">⟨</span> <span class="free">b</span><span class="main">,</span><span class="free">d</span><span class="main">⟩</span><span class="main">⟩</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> group0.group0_4_L8<span class="main">)</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword3"><span class="command">show</span></span> 
    <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">x</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">b</span><span class="main">)</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">x</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">d</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="free">a</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">c</span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="free">x</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="free">b</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">d</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> ring_oper_distr <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Rearrangement with three elements›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> ring0<span class="main">)</span> Ring_ZF_2_L4<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">M</span> <span class="keyword1">{is</span> <span class="keyword1">commutative</span> <span class="keyword1">on}</span> <span class="free">R</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">∈</span><span class="free">R</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms IsCommutative_def Ring_ZF_1_L11
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Some other rearrangements with three elements.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> ring0<span class="main">)</span> ring_rearr_3_elemA<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">M</span> <span class="keyword1">{is</span> <span class="keyword1">commutative</span> <span class="keyword1">on}</span> <span class="free">R</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> 
  A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">∈</span><span class="free">R</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main">)</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">a</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main">)</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main">)</span> <span class="main">=</span> <span class="main"><span class="free">𝟬</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A2 <span class="keyword1"><span class="command">have</span></span> T<span class="main">:</span> 
    <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">a</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main">)</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main">)</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span>  Ring_ZF_1_L4 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> A2 <span class="keyword3"><span class="command">show</span></span> 
    <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main">)</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">a</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Ring_ZF_1_L7 Ring_ZF_1_L3 Ring_ZF_1_L11 
      ring_oper_distr <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">from</span></span> A2 T <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main">)</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main">)</span><span class="main">)</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Ring_ZF_1_L7 Ring_ZF_1_L11 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> A1 A2 T <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main"><span class="free">𝟬</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> IsCommutative_def Ring_ZF_1_L11 Ring_ZF_1_L3
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">finally</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main">)</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main">)</span> <span class="main">=</span> <span class="main"><span class="free">𝟬</span></span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Some rearrangements with four elements. Properties of abelian groups.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> ring0<span class="main">)</span> Ring_ZF_2_L5<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">d</span><span class="main">∈</span><span class="free">R</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="free">b</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="free">c</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="free">d</span> <span class="main">=</span> <span class="free">a</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="free">d</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="free">b</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="free">c</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">b</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">c</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="free">d</span> <span class="main">=</span> <span class="free">a</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="free">d</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">b</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">c</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">b</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="free">c</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="free">d</span> <span class="main">=</span> <span class="free">a</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="free">c</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="free">b</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="free">d</span><span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">b</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">c</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">d</span> <span class="main">=</span> <span class="free">a</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">c</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="free">b</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">d</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms Ring_ZF_1_L1 group0.rearr_ab_gr_4_elemB
    group0.rearr_ab_gr_4_elemA <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Two big rearranegements with six elements, useful for
  proving properties of complex addition and multiplication.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> ring0<span class="main">)</span> Ring_ZF_2_L6<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">d</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">e</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">∈</span><span class="free">R</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">e</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="free">d</span><span class="main"><span class="free">⋅</span></span><span class="free">f</span><span class="main">)</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">f</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">d</span><span class="main"><span class="free">⋅</span></span><span class="free">e</span><span class="main">)</span> <span class="main">=</span>
  <span class="main">(</span><span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">d</span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="free">e</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="main">(</span><span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">d</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="free">f</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">f</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">d</span><span class="main"><span class="free">⋅</span></span><span class="free">e</span><span class="main">)</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">e</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="free">d</span><span class="main"><span class="free">⋅</span></span><span class="free">f</span><span class="main">)</span> <span class="main">=</span>
  <span class="main">(</span><span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">d</span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="free">f</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">d</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="free">e</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">c</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">e</span><span class="main">)</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">d</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">f</span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">d</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">e</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">f</span><span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">d</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">f</span><span class="main">)</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">c</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">e</span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">d</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">f</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">e</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> T<span class="main">:</span>
    <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">e</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">d</span><span class="main"><span class="free">⋅</span></span><span class="free">f</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">f</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">d</span><span class="main"><span class="free">⋅</span></span><span class="free">e</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">d</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">d</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">f</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">e</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">e</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">f</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">e</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">d</span><span class="main"><span class="free">⋅</span></span><span class="free">f</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">f</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">d</span><span class="main"><span class="free">⋅</span></span><span class="free">e</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">e</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">d</span><span class="main"><span class="free">⋅</span></span><span class="free">f</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">f</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">d</span><span class="main"><span class="free">⋅</span></span><span class="free">e</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">e</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">d</span><span class="main"><span class="free">⋅</span></span><span class="free">f</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">e</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">d</span><span class="main"><span class="free">⋅</span></span><span class="free">e</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">f</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">d</span><span class="main"><span class="free">⋅</span></span><span class="free">e</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">f</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">d</span><span class="main"><span class="free">⋅</span></span><span class="free">f</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">e</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">d</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">f</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Ring_ZF_1_L4 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">e</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="free">d</span><span class="main"><span class="free">⋅</span></span><span class="free">f</span><span class="main">)</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">f</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">d</span><span class="main"><span class="free">⋅</span></span><span class="free">e</span><span class="main">)</span> <span class="main">=</span>
    <span class="main">(</span><span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">d</span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="free">e</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="main">(</span><span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">d</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="free">f</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Ring_ZF_1_L8 ring_oper_distr Ring_ZF_1_L11
      Ring_ZF_1_L10 Ring_ZF_2_L5 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">from</span></span> A1 T <span class="keyword3"><span class="command">show</span></span> 
    <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">f</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">d</span><span class="main"><span class="free">⋅</span></span><span class="free">e</span><span class="main">)</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">e</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="free">d</span><span class="main"><span class="free">⋅</span></span><span class="free">f</span><span class="main">)</span> <span class="main">=</span>
    <span class="main">(</span><span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">d</span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="free">f</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">d</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="free">e</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Ring_ZF_1_L8 ring_oper_distr Ring_ZF_1_L11
    Ring_ZF_1_L10A Ring_ZF_2_L5 Ring_ZF_1_L10 
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">from</span></span> A1 T <span class="keyword3"><span class="command">show</span></span> 
    <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">c</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">e</span><span class="main">)</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">d</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">f</span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">d</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">e</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">f</span><span class="main">)</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">d</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">f</span><span class="main">)</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">c</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">e</span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">d</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">f</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">e</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> ring_oper_distr Ring_ZF_1_L10 Ring_ZF_2_L5
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword2"><span class="keyword">end</span></span>
</pre>
</body>

</html>