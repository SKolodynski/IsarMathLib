<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory UniformSpace_ZF_2</title>
</head>


<body>
<div class="head">
<h1>Theory UniformSpace_ZF_2</h1>
</div>

<pre class="source"><span class="comment1">(* 
    This file is a part of IsarMathLib - 
    a library of formalized mathematics written for Isabelle/Isar.

    Copyright (C) 2021 Slawomir Kolodynski

    This program is free software; Redistribution and use in source and binary forms, 
    with or without modification, are permitted provided that the following conditions are met:

   1. Redistributions of source code must retain the above copyright notice, 
   this list of conditions and the following disclaimer.
   2. Redistributions in binary form must reproduce the above copyright notice, 
   this list of conditions and the following disclaimer in the documentation and/or 
   other materials provided with the distribution.
   3. The name of the author may not be used to endorse or promote products 
   derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED 
WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF 
MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, 
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, 
PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; 
OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR 
OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, 
EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. *)</span>

<span class="keyword1"><span class="command">section</span></span> <span class="quoted"><span class="plain_text">‚Äπ Alternative definitions of uniformity ‚Ä∫</span></span>

<span class="keyword1"><span class="command">theory</span></span> UniformSpace_ZF_2 <span class="keyword2"><span class="keyword">imports</span></span> <a href="UniformSpace_ZF.html">UniformSpace_ZF</a>
<span class="keyword2"><span class="keyword">begin</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚Äπ The <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>UniformSpace_ZF‚Ä∫</span></span></span></span> theory defines uniform spaces based on entourages (also called surroundings 
  sometimes). In this theory we consider an alternative definition based of the 
  notion of uniform covers.
  ‚Ä∫</span></span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‚Äπ Uniform covers ‚Ä∫</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚Äπ Given a set $X$ we can consider collections of subsets of $X$ whose unions are equal to $X$. 
  Any such collection is called a cover of $X$. We can define relation on the set of covers
  of $X$, called "star refinement" (definition below). A collection of covers is a 
  "family of uniform covers" if it is a filter with respect to the start refinement ordering. 
  The members of such family are called a "uniform cover", but one has to remember that this notion 
  has meaning only in the contexts a the whole family of uniform covers. Looking at a specific cover
  in isolation we can not say whether it is a uniform cover or not.  ‚Ä∫</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚Äπ The set of all covers of $X$ is called <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>Covers(X)‚Ä∫</span></span></span></span>. ‚Ä∫</span></span>

<span class="keyword1"><span class="command">definition</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">Covers</span><span class="main">(</span><span class="free"><span class="bound"><span class="entity">X</span></span></span><span class="main">)</span> <span class="main">‚â°</span> <span class="main">{</span><span class="bound">A</span> <span class="main">‚àà</span> Pow<span class="main">(</span>Pow<span class="main">(</span><span class="free"><span class="bound"><span class="entity">X</span></span></span><span class="main">)</span><span class="main">)</span><span class="main">.</span> <span class="main">‚ãÉ</span><span class="bound">A</span> <span class="main">=</span> <span class="free"><span class="bound"><span class="entity">X</span></span></span><span class="main">}</span>"</span></span> 

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚Äπ A "star" of $R$ with respect to $\mathcal{R}$ is the union of all $S\in \mathcal{R}$ that
  intersect $R$. ‚Ä∫</span></span>

<span class="keyword1"><span class="command">definition</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">Star</span><span class="main">(</span><span class="free"><span class="bound"><span class="entity">R</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">‚Ñõ</span></span></span><span class="main">)</span> <span class="main">‚â°</span> <span class="main">‚ãÉ</span><span class="main">{</span><span class="bound">S</span><span class="main">‚àà</span><span class="free"><span class="bound"><span class="entity">‚Ñõ</span></span></span><span class="main">.</span> <span class="bound">S</span><span class="main">‚à©</span><span class="free"><span class="bound"><span class="entity">R</span></span></span> <span class="main">‚â†</span> <span class="main">0</span><span class="main">}</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπAn element of $\mathcal{R}$ is a subset of its star with respect to $\mathcal{R}$. ‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> element_subset_star<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">R</span><span class="main">‚àà</span><span class="free">‚Ñõ</span>"</span></span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">R</span> <span class="main">‚äÜ</span> Star<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">‚Ñõ</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms <span class="keyword1"><span class="command">unfolding</span></span> Star_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚Äπ A cover $\mathcal{R}$ is a "star refinement" of a cover $\mathcal{C}$  iff 
  for each $R\in \mathcal{R}$ there is a $C\in \mathcal{C}$ such that the star of $R$ with 
  respect to $\mathcal{R}$ is contained in $C$. ‚Ä∫</span></span>

<span class="keyword1"><span class="command">definition</span></span>
  <span class="entity">IsStarRefinement</span> <span class="main">(</span><span class="quoted">"_ <span class="keyword1">&lt;<span class="hidden">‚áß</span><sup>*</sup></span> _"</span> 90<span class="main">)</span>
  <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="free"><span class="bound"><span class="entity">‚Ñõ</span></span></span> <span class="main"><span class="free">&lt;<span class="hidden">‚áß</span><sup>*</sup></span></span> <span class="free"><span class="bound"><span class="entity">ùíû</span></span></span> <span class="main">‚â°</span> <span class="main">‚àÄ</span><span class="bound">R</span><span class="main">‚àà</span><span class="free"><span class="bound"><span class="entity">‚Ñõ</span></span></span><span class="main">.</span><span class="main">‚àÉ</span><span class="bound">C</span><span class="main">‚àà</span><span class="free"><span class="bound"><span class="entity">ùíû</span></span></span><span class="main">.</span> Star<span class="main">(</span><span class="bound">R</span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">‚Ñõ</span></span></span><span class="main">)</span> <span class="main">‚äÜ</span> <span class="bound">C</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπEvery cover star-refines the trivial cover $\{ X\}$. ‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> cover_stref_triv<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">ùíû</span> <span class="main">‚àà</span> Covers<span class="main">(</span><span class="free">X</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">ùíû</span> <span class="main">&lt;<span class="hidden">‚áß</span><sup>*</sup></span> <span class="main">{</span><span class="free">X</span><span class="main">}</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms <span class="keyword1"><span class="command">unfolding</span></span> Star_def IsStarRefinement_def Covers_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπThe notion of a filter defined in <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>Topology_ZF_4‚Ä∫</span></span></span></span> is not sufficiently general to use it to 
  define uniform covers, so we write the conditions directly. A nonempty 
  collection $\Theta$ of covers of $X$ is a family of uniform covers if  
  
  a) if $\mathcal{R} \in \Theta$ and $\mathcal{C}$ is any cover of $X$ such that $\mathcal{R}$ is 
  a star refinement of $\mathcal{C}$, then $\mathcal{C} \in \Theta$.
  
  b) For any $\mathcal{C},\mathcal{D} \in \Theta$ there is some $\mathcal{R}\in\Theta$ 
  such that $\mathcal{R}$ is a star refinement of both $\mathcal{C}$ and $\mathcal{R}$.

  This departs slightly from the definition in Wikipedia that requires that $\Theta$ contains the
  trivial cover $\{ X\}$. As we show in lemma <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>unicov_contains_trivial‚Ä∫</span></span></span></span> below we don't loose 
  anything by weakening the definition this way.
  ‚Ä∫</span></span>

<span class="keyword1"><span class="command">definition</span></span>
  <span class="entity">AreUniformCovers</span> <span class="main">(</span><span class="quoted">"_ <span class="keyword1">{are</span> <span class="keyword1">uniform</span> <span class="keyword1">covers</span> <span class="keyword1">of}</span> _"</span> 90<span class="main">)</span>
  <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="free"><span class="bound"><span class="entity">Œò</span></span></span> <span class="keyword1"><span class="free">{are</span></span> <span class="keyword1"><span class="free">uniform</span></span> <span class="keyword1"><span class="free">covers</span></span> <span class="keyword1"><span class="free">of}</span></span> <span class="free"><span class="bound"><span class="entity">X</span></span></span> <span class="main">‚â°</span>  <span class="free"><span class="bound"><span class="entity">Œò</span></span></span> <span class="main">‚äÜ</span> Covers<span class="main">(</span><span class="free"><span class="bound"><span class="entity">X</span></span></span><span class="main">)</span> <span class="main">‚àß</span> <span class="free"><span class="bound"><span class="entity">Œò</span></span></span><span class="main">‚â†</span><span class="main">0</span> <span class="main">‚àß</span> 
  <span class="main">(</span><span class="main">‚àÄ</span><span class="bound">‚Ñõ</span><span class="main">‚àà</span><span class="free"><span class="bound"><span class="entity">Œò</span></span></span><span class="main">.</span><span class="main">‚àÄ</span><span class="bound">ùíû</span><span class="main">‚àà</span>Covers<span class="main">(</span><span class="free"><span class="bound"><span class="entity">X</span></span></span><span class="main">)</span><span class="main">.</span> <span class="main">(</span><span class="main">(</span><span class="bound">‚Ñõ</span> <span class="main">&lt;<span class="hidden">‚áß</span><sup>*</sup></span> <span class="bound">ùíû</span><span class="main">)</span> <span class="main">‚ü∂</span> <span class="bound">ùíû</span><span class="main">‚àà</span><span class="free"><span class="bound"><span class="entity">Œò</span></span></span><span class="main">)</span><span class="main">)</span> <span class="main">‚àß</span>
  <span class="main">(</span><span class="main">‚àÄ</span><span class="bound">ùíû</span><span class="main">‚àà</span><span class="free"><span class="bound"><span class="entity">Œò</span></span></span><span class="main">.</span><span class="main">‚àÄ</span><span class="bound">ùíü</span><span class="main">‚àà</span><span class="free"><span class="bound"><span class="entity">Œò</span></span></span><span class="main">.</span><span class="main">‚àÉ</span><span class="bound">‚Ñõ</span><span class="main">‚àà</span><span class="free"><span class="bound"><span class="entity">Œò</span></span></span><span class="main">.</span><span class="main">(</span><span class="bound">‚Ñõ</span> <span class="main">&lt;<span class="hidden">‚áß</span><sup>*</sup></span> <span class="bound">ùíû</span><span class="main">)</span> <span class="main">‚àß</span> <span class="main">(</span><span class="bound">‚Ñõ</span> <span class="main">&lt;<span class="hidden">‚áß</span><sup>*</sup></span> <span class="bound">ùíü</span><span class="main">)</span><span class="main">)</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπA family of uniform covers contain the trivial cover $\{ X\}$.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> unicov_contains_triv<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">Œò</span> <span class="keyword1">{are</span> <span class="keyword1">uniform</span> <span class="keyword1">covers</span> <span class="keyword1">of}</span> <span class="free">X</span>"</span></span> 
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="free">X</span><span class="main">}</span> <span class="main">‚àà</span> <span class="free">Œò</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">‚Ñõ</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">‚Ñõ</span><span class="main">‚àà</span><span class="free">Œò</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> AreUniformCovers_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">with</span></span> assms <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> cover_stref_triv 
    <span class="keyword1"><span class="command">unfolding</span></span> AreUniformCovers_def Covers_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπIf $\Theta$ are uniform covers of $X$ then we can recover $X$ from $\Theta$ by taking 
  $\bigcup\bigcup \Theta$. ‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> space_from_unicov<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">Œò</span> <span class="keyword1">{are</span> <span class="keyword1">uniform</span> <span class="keyword1">covers</span> <span class="keyword1">of}</span> <span class="free">X</span>"</span></span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span> <span class="main">=</span> <span class="main">‚ãÉ</span><span class="main">‚ãÉ</span><span class="free">Œò</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span>
  <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span> <span class="main">‚äÜ</span> <span class="main">‚ãÉ</span><span class="main">‚ãÉ</span><span class="free">Œò</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> unicov_contains_triv 
    <span class="keyword1"><span class="command">unfolding</span></span> AreUniformCovers_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚ãÉ</span><span class="main">‚ãÉ</span><span class="free">Œò</span> <span class="main">‚äÜ</span> <span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> AreUniformCovers_def Covers_def 
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚Äπ Every uniform cover has a star refinement. ‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> unicov_has_star_ref<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">Œò</span> <span class="keyword1">{are</span> <span class="keyword1">uniform</span> <span class="keyword1">covers</span> <span class="keyword1">of}</span> <span class="free">X</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">P</span><span class="main">‚àà</span><span class="free">Œò</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚àÉ</span><span class="bound">Q</span><span class="main">‚àà</span><span class="free">Œò</span><span class="main">.</span> <span class="main">(</span><span class="bound">Q</span> <span class="main">&lt;<span class="hidden">‚áß</span><sup>*</sup></span> <span class="free">P</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms <span class="keyword1"><span class="command">unfolding</span></span> AreUniformCovers_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚Äπ A technical lemma to simplify proof of the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span> uniformity_from_unicov ‚Ä∫</span></span></span></span> theorem. ‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> star_ref_mem<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">U</span><span class="main">‚àà</span><span class="free">P</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">P</span><span class="main">&lt;<span class="hidden">‚áß</span><sup>*</sup></span><span class="free">Q</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚ãÉ</span><span class="main">{</span><span class="bound">W</span><span class="main">√ó</span><span class="bound">W</span><span class="main">.</span> <span class="bound">W</span><span class="main">‚àà</span><span class="free">Q</span><span class="main">}</span> <span class="main">‚äÜ</span> <span class="free">A</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">U</span><span class="main">√ó</span><span class="free">U</span> <span class="main">‚äÜ</span> <span class="free">A</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>1<span class="main">,</span>2<span class="main">)</span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">W</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">W</span><span class="main">‚àà</span><span class="free">Q</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚ãÉ</span><span class="main">{</span><span class="bound">S</span><span class="main">‚àà</span><span class="free">P</span><span class="main">.</span> <span class="bound">S</span><span class="main">‚à©</span><span class="free">U</span> <span class="main">‚â†</span> <span class="main">0</span><span class="main">}</span> <span class="main">‚äÜ</span> <span class="skolem">W</span>"</span></span>
    <span class="keyword1"><span class="command">unfolding</span></span> IsStarRefinement_def Star_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>1<span class="main">,</span>3<span class="main">)</span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">U</span><span class="main">√ó</span><span class="free">U</span> <span class="main">‚äÜ</span> <span class="free">A</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπAn identity related to square (in the sense of composition) of a relation of the 
  form $\bigcup \{U\times U : U\in P\}$. 
  I am amazed that Isabelle can see that this is true without an explicit proof, I can't. ‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> rel_square_starr<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">‚ãÉ</span><span class="main">{</span><span class="bound">U</span><span class="main">√ó</span><span class="bound">U</span><span class="main">.</span> <span class="bound">U</span><span class="main">‚àà</span><span class="free">P</span><span class="main">}</span><span class="main">)</span> <span class="keyword1">O</span> <span class="main">(</span><span class="main">‚ãÉ</span><span class="main">{</span><span class="bound">U</span><span class="main">√ó</span><span class="bound">U</span><span class="main">.</span> <span class="bound">U</span><span class="main">‚àà</span><span class="free">P</span><span class="main">}</span><span class="main">)</span> <span class="main">=</span> <span class="main">‚ãÉ</span><span class="main">{</span><span class="bound">U</span><span class="main">√ó</span>Star<span class="main">(</span><span class="bound">U</span><span class="main">,</span><span class="free">P</span><span class="main">)</span><span class="main">.</span> <span class="bound">U</span><span class="main">‚àà</span><span class="free">P</span><span class="main">}</span>"</span></span>
  <span class="keyword1"><span class="command">unfolding</span></span> Star_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚Äπ An identity similar to <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>rel_square_starr‚Ä∫</span></span></span></span> but with <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>Star‚Ä∫</span></span></span></span> on the left side of the Cartesian 
  product: ‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> rel_square_starl<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">‚ãÉ</span><span class="main">{</span><span class="bound">U</span><span class="main">√ó</span><span class="bound">U</span><span class="main">.</span> <span class="bound">U</span><span class="main">‚àà</span><span class="free">P</span><span class="main">}</span><span class="main">)</span> <span class="keyword1">O</span> <span class="main">(</span><span class="main">‚ãÉ</span><span class="main">{</span><span class="bound">U</span><span class="main">√ó</span><span class="bound">U</span><span class="main">.</span> <span class="bound">U</span><span class="main">‚àà</span><span class="free">P</span><span class="main">}</span><span class="main">)</span> <span class="main">=</span> <span class="main">‚ãÉ</span><span class="main">{</span>Star<span class="main">(</span><span class="bound">U</span><span class="main">,</span><span class="free">P</span><span class="main">)</span><span class="main">√ó</span><span class="bound">U</span><span class="main">.</span> <span class="bound">U</span><span class="main">‚àà</span><span class="free">P</span><span class="main">}</span>"</span></span>
  <span class="keyword1"><span class="command">unfolding</span></span> Star_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚Äπ Given a family of uniform covers of $X$ we can create a uniformity on $X$ by taking the supersets
  of $\bigcup \{A\times A: A\in P \}$ as $P$ ranges over the uniform covers. The next definition
  specifies the operation creating entourages from unform covers. ‚Ä∫</span></span>

<span class="keyword1"><span class="command">definition</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">UniformityFromUniCov</span><span class="main">(</span><span class="free"><span class="bound"><span class="entity">X</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">Œò</span></span></span><span class="main">)</span> <span class="main">‚â°</span> Supersets<span class="main">(</span><span class="free"><span class="bound"><span class="entity">X</span></span></span><span class="main">√ó</span><span class="free"><span class="bound"><span class="entity">X</span></span></span><span class="main">,</span><span class="main">{</span><span class="main">‚ãÉ</span><span class="main">{</span><span class="bound">U</span><span class="main">√ó</span><span class="bound">U</span><span class="main">.</span> <span class="bound">U</span><span class="main">‚àà</span><span class="bound">P</span><span class="main">}</span><span class="main">.</span> <span class="bound">P</span><span class="main">‚àà</span><span class="free"><span class="bound"><span class="entity">Œò</span></span></span><span class="main">}</span><span class="main">)</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπIf $\Theta$ is a family of uniform covers of $X$ then 
  <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>UniformityFromUniCov(X,Œò)‚Ä∫</span></span></span></span> is a unformity on $X$ ‚Ä∫</span></span> 

<span class="keyword1"><span class="command">theorem</span></span> uniformity_from_unicov<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">‚â†</span><span class="main">0</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">Œò</span> <span class="keyword1">{are</span> <span class="keyword1">uniform</span> <span class="keyword1">covers</span> <span class="keyword1">of}</span> <span class="free">X</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"UniformityFromUniCov<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">Œò</span><span class="main">)</span> <span class="keyword1">{is</span> <span class="keyword1">a</span> <span class="keyword1">uniformity</span> <span class="keyword1">on}</span> <span class="free">X</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?Œ¶</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"UniformityFromUniCov<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">Œò</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?Œ¶</span> <span class="keyword1">{is</span> <span class="keyword1">a</span> <span class="keyword1">filter</span> <span class="keyword1">on}</span> <span class="main">(</span><span class="free">X</span><span class="main">√ó</span><span class="free">X</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">0</span> <span class="main">‚àâ</span> <span class="var">?Œ¶</span>"</span></span>
    <span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
      <span class="keyword1"><span class="command">{</span></span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="main">0</span> <span class="main">‚àà</span> <span class="var">?Œ¶</span>"</span></span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">P</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">P</span><span class="main">‚àà</span><span class="free">Œò</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="main">0</span> <span class="main">=</span> <span class="main">‚ãÉ</span><span class="main">{</span><span class="bound">U</span><span class="main">√ó</span><span class="bound">U</span><span class="main">.</span> <span class="bound">U</span><span class="main">‚àà</span><span class="skolem">P</span><span class="main">}</span>"</span></span>
          <span class="keyword1"><span class="command">unfolding</span></span> UniformityFromUniCov_def Supersets_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚ãÉ</span><span class="skolem">P</span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">with</span></span> assms <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">P</span><span class="main">‚àà</span><span class="free">Œò</span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted">False</span> <span class="keyword1"><span class="command">unfolding</span></span> AreUniformCovers_def Covers_def
          <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">}</span></span> <span class="keyword3"><span class="command">thus</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">√ó</span><span class="free">X</span> <span class="main">‚àà</span> <span class="var">?Œ¶</span>"</span></span>
    <span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
      <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">√ó</span><span class="free">X</span> <span class="main">‚àà</span> <span class="main">{</span><span class="main">‚ãÉ</span><span class="main">{</span><span class="bound">U</span><span class="main">√ó</span><span class="bound">U</span><span class="main">.</span> <span class="bound">U</span><span class="main">‚àà</span><span class="bound">P</span><span class="main">}</span><span class="main">.</span> <span class="bound">P</span><span class="main">‚àà</span><span class="free">Œò</span><span class="main">}</span>"</span></span> 
        <span class="keyword1"><span class="command">using</span></span> unicov_contains_triv <span class="keyword1"><span class="command">unfolding</span></span> AreUniformCovers_def 
        <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">unfolding</span></span> Supersets_def UniformityFromUniCov_def 
        <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?Œ¶</span> <span class="main">‚äÜ</span> Pow<span class="main">(</span><span class="free">X</span><span class="main">√ó</span><span class="free">X</span><span class="main">)</span>"</span></span> 
      <span class="keyword1"><span class="command">unfolding</span></span> UniformityFromUniCov_def Supersets_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚àÄ</span><span class="bound">A</span><span class="main">‚àà</span><span class="var">?Œ¶</span><span class="main">.</span><span class="main">‚àÄ</span><span class="bound">B</span><span class="main">‚àà</span><span class="var">?Œ¶</span><span class="main">.</span> <span class="bound">A</span><span class="main">‚à©</span><span class="bound">B</span> <span class="main">‚àà</span> <span class="var">?Œ¶</span>"</span></span>
    <span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
      <span class="keyword1"><span class="command">{</span></span> <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">A</span> <span class="skolem">B</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">A</span><span class="main">‚àà</span><span class="var">?Œ¶</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">B</span><span class="main">‚àà</span><span class="var">?Œ¶</span>"</span></span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">A</span><span class="main">‚à©</span><span class="skolem">B</span> <span class="main">‚äÜ</span> <span class="free">X</span><span class="main">√ó</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> UniformityFromUniCov_def Supersets_def
          <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">from</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">A</span><span class="main">‚àà</span><span class="var">?Œ¶</span>‚Ä∫</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">B</span><span class="main">‚àà</span><span class="var">?Œ¶</span>‚Ä∫</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">P<span class="hidden">‚á©</span><sub>A</sub></span></span> <span class="skolem"><span class="skolem">P<span class="hidden">‚á©</span><sub>B</sub></span></span> <span class="keyword2"><span class="keyword">where</span></span> 
          <span class="quoted"><span class="quoted">"<span class="skolem">P<span class="hidden">‚á©</span><sub>A</sub></span><span class="main">‚àà</span><span class="free">Œò</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">P<span class="hidden">‚á©</span><sub>B</sub></span><span class="main">‚àà</span><span class="free">Œò</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> I<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">‚ãÉ</span><span class="main">{</span><span class="bound">U</span><span class="main">√ó</span><span class="bound">U</span><span class="main">.</span> <span class="bound">U</span><span class="main">‚àà</span><span class="skolem">P<span class="hidden">‚á©</span><sub>A</sub></span><span class="main">}</span> <span class="main">‚äÜ</span> <span class="skolem">A</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="main">‚ãÉ</span><span class="main">{</span><span class="bound">U</span><span class="main">√ó</span><span class="bound">U</span><span class="main">.</span> <span class="bound">U</span><span class="main">‚àà</span><span class="skolem">P<span class="hidden">‚á©</span><sub>B</sub></span><span class="main">}</span> <span class="main">‚äÜ</span> <span class="skolem">B</span>"</span></span> 
          <span class="keyword1"><span class="command">unfolding</span></span> UniformityFromUniCov_def Supersets_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>2<span class="main">)</span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">P<span class="hidden">‚á©</span><sub>A</sub></span><span class="main">‚àà</span><span class="free">Œò</span>‚Ä∫</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">P<span class="hidden">‚á©</span><sub>B</sub></span><span class="main">‚àà</span><span class="free">Œò</span>‚Ä∫</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">P</span></span> 
          <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">P</span><span class="main">‚àà</span><span class="free">Œò</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">P</span><span class="main">&lt;<span class="hidden">‚áß</span><sup>*</sup></span><span class="skolem">P<span class="hidden">‚á©</span><sub>A</sub></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">P</span><span class="main">&lt;<span class="hidden">‚áß</span><sup>*</sup></span><span class="skolem">P<span class="hidden">‚á©</span><sub>B</sub></span>"</span></span>
          <span class="keyword1"><span class="command">unfolding</span></span> AreUniformCovers_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚ãÉ</span><span class="main">{</span><span class="bound">U</span><span class="main">√ó</span><span class="bound">U</span><span class="main">.</span> <span class="bound">U</span><span class="main">‚àà</span><span class="skolem">P</span><span class="main">}</span> <span class="main">‚äÜ</span> <span class="skolem">A</span><span class="main">‚à©</span><span class="skolem">B</span>"</span></span>
        <span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
          <span class="keyword1"><span class="command">{</span></span> <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">U</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">‚àà</span><span class="skolem">P</span>"</span></span> 
            <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">P</span><span class="main">&lt;<span class="hidden">‚áß</span><sup>*</sup></span><span class="skolem">P<span class="hidden">‚á©</span><sub>A</sub></span>‚Ä∫</span></span>  <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">P</span><span class="main">&lt;<span class="hidden">‚áß</span><sup>*</sup></span><span class="skolem">P<span class="hidden">‚á©</span><sub>B</sub></span>‚Ä∫</span></span> I <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">√ó</span><span class="skolem">U</span> <span class="main">‚äÜ</span> <span class="skolem">A</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">√ó</span><span class="skolem">U</span> <span class="main">‚äÜ</span> <span class="skolem">B</span>"</span></span> 
              <span class="keyword1"><span class="command">using</span></span> star_ref_mem <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">}</span></span> <span class="keyword3"><span class="command">thus</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">qed</span></span>
        <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">A</span><span class="main">‚à©</span><span class="skolem">B</span> <span class="main">‚äÜ</span> <span class="free">X</span><span class="main">√ó</span><span class="free">X</span>‚Ä∫</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">P</span><span class="main">‚àà</span><span class="free">Œò</span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">A</span><span class="main">‚à©</span><span class="skolem">B</span> <span class="main">‚àà</span> <span class="var">?Œ¶</span>"</span></span> 
          <span class="keyword1"><span class="command">unfolding</span></span> Supersets_def UniformityFromUniCov_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">}</span></span> <span class="keyword3"><span class="command">thus</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> 
      <span class="quoted"><span class="quoted">"<span class="main">‚àÄ</span><span class="bound">B</span><span class="main">‚àà</span><span class="var">?Œ¶</span><span class="main">.</span><span class="main">‚àÄ</span><span class="bound">C</span><span class="main">‚àà</span>Pow<span class="main">(</span><span class="free">X</span><span class="main">√ó</span><span class="free">X</span><span class="main">)</span><span class="main">.</span> <span class="bound">B</span><span class="main">‚äÜ</span><span class="bound">C</span> <span class="main">‚ü∂</span> <span class="bound">C</span><span class="main">‚àà</span><span class="var">?Œ¶</span>"</span></span>
    <span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
      <span class="keyword1"><span class="command">{</span></span> <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">B</span> <span class="skolem">C</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">B</span><span class="main">‚àà</span><span class="var">?Œ¶</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">C</span><span class="main">‚àà</span>Pow<span class="main">(</span><span class="free">X</span><span class="main">√ó</span><span class="free">X</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">B</span><span class="main">‚äÜ</span><span class="skolem">C</span>"</span></span>
        <span class="keyword1"><span class="command">from</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">B</span><span class="main">‚àà</span><span class="var">?Œ¶</span>‚Ä∫</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">P<span class="hidden">‚á©</span><sub>B</sub></span></span> <span class="keyword2"><span class="keyword">where</span></span>  <span class="quoted"><span class="quoted">"<span class="main">‚ãÉ</span><span class="main">{</span><span class="bound">U</span><span class="main">√ó</span><span class="bound">U</span><span class="main">.</span> <span class="bound">U</span><span class="main">‚àà</span><span class="skolem">P<span class="hidden">‚á©</span><sub>B</sub></span><span class="main">}</span> <span class="main">‚äÜ</span> <span class="skolem">B</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">P<span class="hidden">‚á©</span><sub>B</sub></span><span class="main">‚àà</span><span class="free">Œò</span>"</span></span>
          <span class="keyword1"><span class="command">unfolding</span></span> UniformityFromUniCov_def Supersets_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">C</span><span class="main">‚àà</span>Pow<span class="main">(</span><span class="free">X</span><span class="main">√ó</span><span class="free">X</span><span class="main">)</span>‚Ä∫</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">B</span><span class="main">‚äÜ</span><span class="skolem">C</span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">C</span><span class="main">‚àà</span><span class="var">?Œ¶</span>"</span></span>
          <span class="keyword1"><span class="command">unfolding</span></span> UniformityFromUniCov_def Supersets_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">}</span></span> <span class="keyword3"><span class="command">thus</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsFilter_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚àÄ</span><span class="bound">A</span><span class="main">‚àà</span><span class="var">?Œ¶</span><span class="main">.</span> id<span class="main">(</span><span class="free">X</span><span class="main">)</span> <span class="main">‚äÜ</span> <span class="bound">A</span> <span class="main">‚àß</span> <span class="main">(</span><span class="main">‚àÉ</span><span class="bound">B</span><span class="main">‚àà</span><span class="var">?Œ¶</span><span class="main">.</span> <span class="bound">B</span> <span class="keyword1">O</span> <span class="bound">B</span> <span class="main">‚äÜ</span> <span class="bound">A</span><span class="main">)</span> <span class="main">‚àß</span> converse<span class="main">(</span><span class="bound">A</span><span class="main">)</span> <span class="main">‚àà</span> <span class="var">?Œ¶</span>"</span></span>
  <span class="keyword1"><span class="command">proof</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">A</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">A</span><span class="main">‚àà</span><span class="var">?Œ¶</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">P</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚ãÉ</span><span class="main">{</span><span class="bound">U</span><span class="main">√ó</span><span class="bound">U</span><span class="main">.</span> <span class="bound">U</span><span class="main">‚àà</span><span class="skolem">P</span><span class="main">}</span> <span class="main">‚äÜ</span> <span class="skolem">A</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">P</span><span class="main">‚àà</span><span class="free">Œò</span>"</span></span> 
      <span class="keyword1"><span class="command">unfolding</span></span> UniformityFromUniCov_def Supersets_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"id<span class="main">(</span><span class="free">X</span><span class="main">)</span><span class="main">‚äÜ</span><span class="skolem">A</span>"</span></span>
    <span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
      <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>2<span class="main">)</span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">P</span><span class="main">‚àà</span><span class="free">Œò</span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚ãÉ</span><span class="skolem">P</span> <span class="main">=</span> <span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> AreUniformCovers_def Covers_def
        <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="main">‚ãÉ</span><span class="main">{</span><span class="bound">U</span><span class="main">√ó</span><span class="bound">U</span><span class="main">.</span> <span class="bound">U</span><span class="main">‚àà</span><span class="skolem">P</span><span class="main">}</span> <span class="main">‚äÜ</span> <span class="skolem">A</span>‚Ä∫</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚àÉ</span><span class="bound">B</span><span class="main">‚àà</span><span class="var">?Œ¶</span><span class="main">.</span> <span class="bound">B</span> <span class="keyword1">O</span> <span class="bound">B</span> <span class="main">‚äÜ</span> <span class="skolem">A</span>"</span></span>
    <span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
      <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>2<span class="main">)</span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">P</span><span class="main">‚àà</span><span class="free">Œò</span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚ãÉ</span><span class="main">{</span><span class="bound">U</span><span class="main">√ó</span><span class="bound">U</span><span class="main">.</span> <span class="bound">U</span><span class="main">‚àà</span><span class="skolem">P</span><span class="main">}</span> <span class="main">‚àà</span> <span class="var">?Œ¶</span>"</span></span> 
        <span class="keyword1"><span class="command">unfolding</span></span> AreUniformCovers_def Covers_def UniformityFromUniCov_def Supersets_def
        <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>2<span class="main">)</span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">P</span><span class="main">‚àà</span><span class="free">Œò</span>‚Ä∫</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">Q</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">Q</span><span class="main">‚àà</span><span class="free">Œò</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span>  <span class="quoted"><span class="quoted">"<span class="skolem">Q</span> <span class="main">&lt;<span class="hidden">‚áß</span><sup>*</sup></span> <span class="skolem">P</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> unicov_has_star_ref
        <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?B</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="main">‚ãÉ</span><span class="main">{</span><span class="bound">U</span><span class="main">√ó</span><span class="bound">U</span><span class="main">.</span> <span class="bound">U</span><span class="main">‚àà</span><span class="skolem">Q</span><span class="main">}</span>"</span></span>
      <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>2<span class="main">)</span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">Q</span><span class="main">‚àà</span><span class="free">Œò</span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?B</span> <span class="main">‚àà</span> <span class="var">?Œ¶</span>"</span></span> 
        <span class="keyword1"><span class="command">unfolding</span></span> AreUniformCovers_def Covers_def UniformityFromUniCov_def Supersets_def
        <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?B</span> <span class="keyword1">O</span> <span class="var">?B</span> <span class="main">‚äÜ</span> <span class="skolem">A</span>"</span></span>
      <span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
        <span class="keyword1"><span class="command">have</span></span> II<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="var">?B</span> <span class="keyword1">O</span> <span class="var">?B</span> <span class="main">=</span> <span class="main">‚ãÉ</span><span class="main">{</span><span class="bound">U</span><span class="main">√ó</span>Star<span class="main">(</span><span class="bound">U</span><span class="main">,</span><span class="skolem">Q</span><span class="main">)</span><span class="main">.</span> <span class="bound">U</span><span class="main">‚àà</span><span class="skolem">Q</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> rel_square_starr 
          <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
        <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚àÄ</span><span class="bound">U</span><span class="main">‚àà</span><span class="skolem">Q</span><span class="main">.</span> <span class="main">‚àÉ</span><span class="bound">V</span><span class="main">‚àà</span><span class="skolem">P</span><span class="main">.</span> <span class="bound">U</span><span class="main">√ó</span>Star<span class="main">(</span><span class="bound">U</span><span class="main">,</span><span class="skolem">Q</span><span class="main">)</span> <span class="main">‚äÜ</span> <span class="bound">V</span><span class="main">√ó</span><span class="bound">V</span>"</span></span>
        <span class="keyword1"><span class="command">proof</span></span>
          <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">U</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">‚àà</span><span class="skolem">Q</span>"</span></span>
          <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">Q</span> <span class="main">&lt;<span class="hidden">‚áß</span><sup>*</sup></span> <span class="skolem">P</span>‚Ä∫</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">V</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">‚àà</span><span class="skolem">P</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"Star<span class="main">(</span><span class="skolem">U</span><span class="main">,</span><span class="skolem">Q</span><span class="main">)</span> <span class="main">‚äÜ</span> <span class="skolem">V</span>"</span></span>
            <span class="keyword1"><span class="command">unfolding</span></span> IsStarRefinement_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">U</span><span class="main">‚àà</span><span class="skolem">Q</span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">‚àà</span><span class="skolem">P</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">√ó</span>Star<span class="main">(</span><span class="skolem">U</span><span class="main">,</span><span class="skolem">Q</span><span class="main">)</span> <span class="main">‚äÜ</span> <span class="skolem">V</span><span class="main">√ó</span><span class="skolem">V</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> element_subset_star
            <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword3"><span class="command">thus</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚àÉ</span><span class="bound">V</span><span class="main">‚àà</span><span class="skolem">P</span><span class="main">.</span> <span class="skolem">U</span><span class="main">√ó</span>Star<span class="main">(</span><span class="skolem">U</span><span class="main">,</span><span class="skolem">Q</span><span class="main">)</span> <span class="main">‚äÜ</span> <span class="bound">V</span><span class="main">√ó</span><span class="bound">V</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">qed</span></span>
        <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚ãÉ</span><span class="main">{</span><span class="bound">U</span><span class="main">√ó</span>Star<span class="main">(</span><span class="bound">U</span><span class="main">,</span><span class="skolem">Q</span><span class="main">)</span><span class="main">.</span> <span class="bound">U</span><span class="main">‚àà</span><span class="skolem">Q</span><span class="main">}</span> <span class="main">‚äÜ</span> <span class="main">‚ãÉ</span><span class="main">{</span><span class="bound">V</span><span class="main">√ó</span><span class="bound">V</span><span class="main">.</span> <span class="bound">V</span><span class="main">‚àà</span><span class="skolem">P</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span> 
        <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="main">‚ãÉ</span><span class="main">{</span><span class="bound">V</span><span class="main">√ó</span><span class="bound">V</span><span class="main">.</span> <span class="bound">V</span><span class="main">‚àà</span><span class="skolem">P</span><span class="main">}</span> <span class="main">‚äÜ</span> <span class="skolem">A</span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚ãÉ</span><span class="main">{</span><span class="bound">U</span><span class="main">√ó</span>Star<span class="main">(</span><span class="bound">U</span><span class="main">,</span><span class="skolem">Q</span><span class="main">)</span><span class="main">.</span> <span class="bound">U</span><span class="main">‚àà</span><span class="skolem">Q</span><span class="main">}</span> <span class="main">‚äÜ</span> <span class="skolem">A</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">with</span></span> II <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
      <span class="keyword1"><span class="command">qed</span></span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>2<span class="main">)</span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">A</span><span class="main">‚àà</span><span class="var">?Œ¶</span>‚Ä∫</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">P</span><span class="main">‚àà</span><span class="free">Œò</span>‚Ä∫</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="main">‚ãÉ</span><span class="main">{</span><span class="bound">U</span><span class="main">√ó</span><span class="bound">U</span><span class="main">.</span> <span class="bound">U</span><span class="main">‚àà</span><span class="skolem">P</span><span class="main">}</span> <span class="main">‚äÜ</span> <span class="skolem">A</span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"converse<span class="main">(</span><span class="skolem">A</span><span class="main">)</span> <span class="main">‚àà</span> <span class="var">?Œ¶</span>"</span></span>
      <span class="keyword1"><span class="command">unfolding</span></span> AreUniformCovers_def UniformityFromUniCov_def Supersets_def 
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"id<span class="main">(</span><span class="free">X</span><span class="main">)</span> <span class="main">‚äÜ</span> <span class="skolem">A</span> <span class="main">‚àß</span> <span class="main">(</span><span class="main">‚àÉ</span><span class="bound">B</span><span class="main">‚àà</span><span class="var">?Œ¶</span><span class="main">.</span> <span class="bound">B</span> <span class="keyword1">O</span> <span class="bound">B</span> <span class="main">‚äÜ</span> <span class="skolem">A</span><span class="main">)</span> <span class="main">‚àß</span> converse<span class="main">(</span><span class="skolem">A</span><span class="main">)</span> <span class="main">‚àà</span> <span class="var">?Œ¶</span>"</span></span> 
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="var">?Œ¶</span>  <span class="keyword1">{is</span> <span class="keyword1">a</span> <span class="keyword1">uniformity</span> <span class="keyword1">on}</span> <span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsUniformity_def 
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword2"><span class="keyword">end</span></span>
</pre>
</body>

</html>