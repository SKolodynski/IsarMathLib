<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory Topology_ZF_9</title>
</head>


<body>
<div class="head">
<h1>Theory Topology_ZF_9</h1>
</div>

<pre class="source"><span class="comment1">(* 
    This file is a part of IsarMathLib - 
    a library of formalized mathematics written for Isabelle/Isar.

    Copyright (C) 2013 Daniel de la Concepcion

    This program is free software; Redistribution and use in source and binary forms, 
    with or without modification, are permitted provided that the following conditions are met:

   1. Redistributions of source code must retain the above copyright notice, 
   this list of conditions and the following disclaimer.
   2. Redistributions in binary form must reproduce the above copyright notice, 
   this list of conditions and the following disclaimer in the documentation and/or 
   other materials provided with the distribution.
   3. The name of the author may not be used to endorse or promote products 
   derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED 
WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF 
MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, 
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, 
PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; 
OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR 
OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, 
EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. *)</span>

<span class="keyword1"><span class="command">section</span></span> <span class="quoted"><span class="plain_text">‹Topology 9›</span></span>

<span class="keyword1"><span class="command">theory</span></span> Topology_ZF_9
<span class="keyword2"><span class="keyword">imports</span></span> <a href="Topology_ZF_2.html">Topology_ZF_2</a> <a href="Group_ZF_2.html">Group_ZF_2</a> <a href="Topology_ZF_7.html">Topology_ZF_7</a> <a href="Topology_ZF_8.html">Topology_ZF_8</a>
<span class="keyword2"><span class="keyword">begin</span></span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‹Group of homeomorphisms›</span></span>
<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹This theory file deals with the fact the set homeomorphisms of a topological space into itself
 forms a group.›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹First, we define the set of homeomorphisms.›</span></span>

<span class="keyword1"><span class="command">definition</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">HomeoG</span><span class="main">(</span><span class="free"><span class="bound"><span class="entity">T</span></span></span><span class="main">)</span> <span class="main">≡</span> <span class="main">{</span><span class="bound">f</span><span class="main">:</span><span class="main">⋃</span><span class="free"><span class="bound"><span class="entity">T</span></span></span><span class="main">→</span><span class="main">⋃</span><span class="free"><span class="bound"><span class="entity">T</span></span></span><span class="main">.</span> IsAhomeomorphism<span class="main">(</span><span class="free"><span class="bound"><span class="entity">T</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">T</span></span></span><span class="main">,</span><span class="bound">f</span><span class="main">)</span><span class="main">}</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The homeomorphisms are closed by composition.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topology0<span class="main">)</span> homeo_composition<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">∈</span>HomeoG<span class="main">(</span><span class="free">T</span><span class="main">)</span>"</span></span><span class="quoted"><span class="quoted">"<span class="free">g</span><span class="main">∈</span>HomeoG<span class="main">(</span><span class="free">T</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"Composition<span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">)</span><span class="main">`</span><span class="main">⟨</span><span class="free">f</span><span class="main">,</span> <span class="free">g</span><span class="main">⟩</span><span class="main">∈</span>HomeoG<span class="main">(</span><span class="free">T</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword1"><span class="command">have</span></span> fun<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">∈</span><span class="main">⋃</span><span class="free">T</span><span class="main">→</span><span class="main">⋃</span><span class="free">T</span>"</span></span><span class="quoted"><span class="quoted">"<span class="free">g</span><span class="main">∈</span><span class="main">⋃</span><span class="free">T</span><span class="main">→</span><span class="main">⋃</span><span class="free">T</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> homeo<span class="main">:</span><span class="quoted"><span class="quoted">"IsAhomeomorphism<span class="main">(</span><span class="free">T</span><span class="main">,</span><span class="free">T</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span><span class="quoted"><span class="quoted">"IsAhomeomorphism<span class="main">(</span><span class="free">T</span><span class="main">,</span><span class="free">T</span><span class="main">,</span><span class="free">g</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> HomeoG_def
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">from</span></span> fun <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span> <span class="keyword1">O</span> <span class="free">g</span><span class="main">∈</span><span class="main">⋃</span><span class="free">T</span><span class="main">→</span><span class="main">⋃</span><span class="free">T</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> comp_fun <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">from</span></span> homeo <span class="keyword1"><span class="command">have</span></span> bij<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">∈</span>bij<span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">,</span><span class="main">⋃</span><span class="free">T</span><span class="main">)</span>"</span></span><span class="quoted"><span class="quoted">"<span class="free">g</span><span class="main">∈</span>bij<span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">,</span><span class="main">⋃</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> cont<span class="main">:</span><span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span><span class="free">T</span><span class="main">,</span><span class="free">T</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span><span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span><span class="free">T</span><span class="main">,</span><span class="free">T</span><span class="main">,</span><span class="free">g</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> contconv<span class="main">:</span>
    <span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span><span class="free">T</span><span class="main">,</span><span class="free">T</span><span class="main">,</span>converse<span class="main">(</span><span class="free">f</span><span class="main">)</span><span class="main">)</span>"</span></span><span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span><span class="free">T</span><span class="main">,</span><span class="free">T</span><span class="main">,</span>converse<span class="main">(</span><span class="free">g</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsAhomeomorphism_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">from</span></span> bij <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span> <span class="keyword1">O</span> <span class="free">g</span><span class="main">∈</span>bij<span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">,</span><span class="main">⋃</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> comp_bij <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">from</span></span> cont <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span><span class="free">T</span><span class="main">,</span><span class="free">T</span><span class="main">,</span><span class="free">f</span> <span class="keyword1">O</span> <span class="free">g</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> comp_cont <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"converse<span class="main">(</span><span class="free">f</span> <span class="keyword1">O</span> <span class="free">g</span><span class="main">)</span><span class="main">=</span>converse<span class="main">(</span><span class="free">g</span><span class="main">)</span> <span class="keyword1">O</span> converse<span class="main">(</span><span class="free">f</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> converse_comp <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> contconv <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span><span class="free">T</span><span class="main">,</span><span class="free">T</span><span class="main">,</span>converse<span class="main">(</span><span class="free">f</span> <span class="keyword1">O</span> <span class="free">g</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> comp_cont <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">ultimately</span></span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span> <span class="keyword1">O</span> <span class="free">g</span><span class="main">∈</span>HomeoG<span class="main">(</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> HomeoG_def IsAhomeomorphism_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> func_ZF_5_L2 fun <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The identity function is a homeomorphism.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topology0<span class="main">)</span> homeo_id<span class="main">:</span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"id<span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">)</span><span class="main">∈</span>HomeoG<span class="main">(</span><span class="free">T</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"converse<span class="main">(</span>id<span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">)</span><span class="main">)</span> <span class="keyword1">O</span> id<span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">)</span><span class="main">=</span>id<span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> left_comp_inverse id_bij <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"converse<span class="main">(</span>id<span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">=</span>id<span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> right_comp_id <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">unfolding</span></span> HomeoG_def IsAhomeomorphism_def <span class="keyword1"><span class="command">using</span></span> id_cont id_type id_bij
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The homeomorphisms form a monoid and its neutral element is the identity.›</span></span>

<span class="keyword1"><span class="command">theorem</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topology0<span class="main">)</span> homeo_submonoid<span class="main">:</span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"IsAmonoid<span class="main">(</span>HomeoG<span class="main">(</span><span class="free">T</span><span class="main">)</span><span class="main">,</span>restrict<span class="main">(</span>Composition<span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">)</span><span class="main">,</span>HomeoG<span class="main">(</span><span class="free">T</span><span class="main">)</span><span class="main">×</span>HomeoG<span class="main">(</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span> 
  <span class="quoted"><span class="quoted">"TheNeutralElement<span class="main">(</span>HomeoG<span class="main">(</span><span class="free">T</span><span class="main">)</span><span class="main">,</span>restrict<span class="main">(</span>Composition<span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">)</span><span class="main">,</span>HomeoG<span class="main">(</span><span class="free">T</span><span class="main">)</span><span class="main">×</span>HomeoG<span class="main">(</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">=</span>id<span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">have</span></span> cl<span class="main">:</span><span class="quoted"><span class="quoted">"HomeoG<span class="main">(</span><span class="free">T</span><span class="main">)</span> <span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">under}</span> Composition<span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsOpClosed_def <span class="keyword1"><span class="command">using</span></span> homeo_composition <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> sub<span class="main">:</span><span class="quoted"><span class="quoted">"HomeoG<span class="main">(</span><span class="free">T</span><span class="main">)</span><span class="main">⊆</span><span class="main">⋃</span><span class="free">T</span><span class="main">→</span><span class="main">⋃</span><span class="free">T</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> HomeoG_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">have</span></span> ne<span class="main">:</span><span class="quoted"><span class="quoted">"TheNeutralElement<span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">→</span><span class="main">⋃</span><span class="free">T</span><span class="main">,</span> Composition<span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">∈</span>HomeoG<span class="main">(</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> homeo_id Group_ZF_2_5_L2<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"IsAmonoid<span class="main">(</span>HomeoG<span class="main">(</span><span class="free">T</span><span class="main">)</span><span class="main">,</span>restrict<span class="main">(</span>Composition<span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">)</span><span class="main">,</span>HomeoG<span class="main">(</span><span class="free">T</span><span class="main">)</span><span class="main">×</span>HomeoG<span class="main">(</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Group_ZF_2_5_L2<span class="main">(</span>1<span class="main">)</span>
    monoid0.group0_1_T1 <span class="keyword1"><span class="command">unfolding</span></span> monoid0_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">force</span>
  <span class="keyword1"><span class="command">from</span></span> cl sub ne <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"TheNeutralElement<span class="main">(</span>HomeoG<span class="main">(</span><span class="free">T</span><span class="main">)</span><span class="main">,</span>restrict<span class="main">(</span>Composition<span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">)</span><span class="main">,</span>HomeoG<span class="main">(</span><span class="free">T</span><span class="main">)</span><span class="main">×</span>HomeoG<span class="main">(</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">=</span>TheNeutralElement<span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">→</span><span class="main">⋃</span><span class="free">T</span><span class="main">,</span> Composition<span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> Group_ZF_2_5_L2<span class="main">(</span>1<span class="main">)</span> group0_1_L6 <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span> <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"id<span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">)</span><span class="main">=</span>TheNeutralElement<span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">→</span><span class="main">⋃</span><span class="free">T</span><span class="main">,</span> Composition<span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Group_ZF_2_5_L2<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"TheNeutralElement<span class="main">(</span>HomeoG<span class="main">(</span><span class="free">T</span><span class="main">)</span><span class="main">,</span>restrict<span class="main">(</span>Composition<span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">)</span><span class="main">,</span>HomeoG<span class="main">(</span><span class="free">T</span><span class="main">)</span><span class="main">×</span>HomeoG<span class="main">(</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">=</span>id<span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The homeomorphisms form a group, with the composition.›</span></span>

<span class="keyword1"><span class="command">theorem</span></span><span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topology0<span class="main">)</span> homeo_group<span class="main">:</span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"IsAgroup<span class="main">(</span>HomeoG<span class="main">(</span><span class="free">T</span><span class="main">)</span><span class="main">,</span>restrict<span class="main">(</span>Composition<span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">)</span><span class="main">,</span>HomeoG<span class="main">(</span><span class="free">T</span><span class="main">)</span><span class="main">×</span>HomeoG<span class="main">(</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="keyword3"><span class="command">assume</span></span> AS<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span>HomeoG<span class="main">(</span><span class="free">T</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> surj<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span>surj<span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">,</span><span class="main">⋃</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> bij<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span>bij<span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">,</span><span class="main">⋃</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> HomeoG_def IsAhomeomorphism_def bij_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">from</span></span> bij <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"converse<span class="main">(</span><span class="skolem">x</span><span class="main">)</span><span class="main">∈</span>bij<span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">,</span><span class="main">⋃</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> bij_converse_bij <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> bij <span class="keyword1"><span class="command">have</span></span> conx_fun<span class="main">:</span><span class="quoted"><span class="quoted">"converse<span class="main">(</span><span class="skolem">x</span><span class="main">)</span><span class="main">∈</span><span class="main">⋃</span><span class="free">T</span><span class="main">→</span><span class="main">⋃</span><span class="free">T</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="main">⋃</span><span class="free">T</span><span class="main">→</span><span class="main">⋃</span><span class="free">T</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> bij_def inj_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">from</span></span> surj <span class="keyword1"><span class="command">have</span></span> id<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">x</span> <span class="keyword1">O</span> converse<span class="main">(</span><span class="skolem">x</span><span class="main">)</span><span class="main">=</span>id<span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> right_comp_inverse <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">from</span></span> conx_fun <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Composition<span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">)</span><span class="main">`</span><span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span>converse<span class="main">(</span><span class="skolem">x</span><span class="main">)</span><span class="main">⟩</span><span class="main">=</span><span class="skolem">x</span> <span class="keyword1">O</span> converse<span class="main">(</span><span class="skolem">x</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> func_ZF_5_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> id <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Composition<span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">)</span><span class="main">`</span><span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span>converse<span class="main">(</span><span class="skolem">x</span><span class="main">)</span><span class="main">⟩</span><span class="main">=</span>id<span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"converse<span class="main">(</span><span class="skolem">x</span><span class="main">)</span><span class="main">∈</span>HomeoG<span class="main">(</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> HomeoG_def <span class="keyword1"><span class="command">using</span></span> conx_fun<span class="main">(</span>1<span class="main">)</span> homeo_inv AS <span class="keyword1"><span class="command">unfolding</span></span> HomeoG_def
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">M</span><span class="main">∈</span>HomeoG<span class="main">(</span><span class="free">T</span><span class="main">)</span><span class="main">.</span> Composition<span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">)</span><span class="main">`</span><span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="bound">M</span><span class="main">⟩</span><span class="main">=</span>id<span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">x</span><span class="main">∈</span>HomeoG<span class="main">(</span><span class="free">T</span><span class="main">)</span><span class="main">.</span> <span class="main">∃</span><span class="bound">M</span><span class="main">∈</span>HomeoG<span class="main">(</span><span class="free">T</span><span class="main">)</span><span class="main">.</span> Composition<span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">)</span><span class="main">`</span><span class="main">⟨</span><span class="bound">x</span><span class="main">,</span><span class="bound">M</span><span class="main">⟩</span><span class="main">=</span>id<span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> homeo_submonoid definition_of_group <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‹Examples computed›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹As a first example, we show that the group of homeomorphisms of the cocardinal
topology is the group of bijective functions.›</span></span>

<span class="keyword1"><span class="command">theorem</span></span> homeo_cocardinal<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"InfCard<span class="main">(</span><span class="free">Q</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"HomeoG<span class="main">(</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">Q</span><span class="main">)</span><span class="main">)</span><span class="main">=</span>bij<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">X</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span>
  <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword1"><span class="command">have</span></span> n<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="free">Q</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> InfCard_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"HomeoG<span class="main">(</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">Q</span><span class="main">)</span><span class="main">)</span> <span class="main">⊆</span> bij<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">X</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> HomeoG_def IsAhomeomorphism_def
    <span class="keyword1"><span class="command">using</span></span> union_cocardinal <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">f</span> <span class="keyword3"><span class="command">assume</span></span> a<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">∈</span>bij<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">X</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"converse<span class="main">(</span><span class="skolem">f</span><span class="main">)</span><span class="main">∈</span>bij<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">X</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> bij_converse_bij <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> cinj<span class="main">:</span><span class="quoted"><span class="quoted">"converse<span class="main">(</span><span class="skolem">f</span><span class="main">)</span><span class="main">∈</span>inj<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">X</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> bij_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">from</span></span> a <span class="keyword1"><span class="command">have</span></span> fun<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">∈</span><span class="free">X</span><span class="main">→</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> bij_def inj_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> two<span class="main">:</span><span class="quoted"><span class="quoted">"two_top_spaces0<span class="main">(</span><span class="main">(</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">Q</span><span class="main">)</span><span class="main">)</span><span class="main">,</span><span class="main">(</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">Q</span><span class="main">)</span><span class="main">)</span><span class="main">,</span><span class="skolem">f</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> two_top_spaces0_def
      <span class="keyword1"><span class="command">using</span></span> union_cocardinal assms n CoCar_is_topology <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">N</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">N</span><span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">in}</span><span class="main">(</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">Q</span><span class="main">)</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> N_def<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">N</span><span class="main">=</span><span class="free">X</span> <span class="main">∨</span> <span class="main">(</span><span class="skolem">N</span><span class="main">∈</span>Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span> <span class="main">∧</span> <span class="skolem">N</span><span class="main">≺</span><span class="free">Q</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> closed_sets_cocardinal n <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"restrict<span class="main">(</span>converse<span class="main">(</span><span class="skolem">f</span><span class="main">)</span><span class="main">,</span><span class="skolem">N</span><span class="main">)</span><span class="main">∈</span>bij<span class="main">(</span><span class="skolem">N</span><span class="main">,</span>converse<span class="main">(</span><span class="skolem">f</span><span class="main">)</span><span class="main">``</span><span class="skolem">N</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> cinj restrict_bij <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">N</span><span class="main">≈</span><span class="skolem">f</span><span class="main">-``</span><span class="skolem">N</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> vimage_def eqpoll_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">-``</span><span class="skolem">N</span><span class="main">≈</span><span class="skolem">N</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> eqpoll_sym <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> N_def <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">N</span><span class="main">=</span><span class="free">X</span> <span class="main">∨</span> <span class="main">(</span><span class="skolem">f</span><span class="main">-``</span><span class="skolem">N</span><span class="main">≺</span><span class="free">Q</span> <span class="main">∧</span> <span class="skolem">N</span><span class="main">∈</span>Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> eq_lesspoll_trans <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> fun <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">-``</span><span class="skolem">N</span><span class="main">=</span><span class="free">X</span> <span class="main">∨</span> <span class="main">(</span><span class="skolem">f</span><span class="main">-``</span><span class="skolem">N</span><span class="main">≺</span><span class="free">Q</span> <span class="main">∧</span> <span class="main">(</span><span class="skolem">f</span><span class="main">-``</span><span class="skolem">N</span><span class="main">)</span><span class="main">∈</span>Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> func1_1_L3 func1_1_L4 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">-``</span><span class="skolem">N</span> <span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">in}</span><span class="main">(</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">Q</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> closed_sets_cocardinal n <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">N</span><span class="main">.</span> <span class="bound">N</span><span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">in}</span><span class="main">(</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">Q</span><span class="main">)</span><span class="main">)</span> <span class="main">⟶</span> <span class="skolem">f</span><span class="main">-``</span><span class="bound">N</span> <span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">in}</span><span class="main">(</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">Q</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span><span class="main">(</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">Q</span><span class="main">)</span><span class="main">)</span><span class="main">,</span><span class="main">(</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">Q</span><span class="main">)</span><span class="main">)</span><span class="main">,</span><span class="skolem">f</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> two_top_spaces0.Top_ZF_2_1_L4 
      two_top_spaces0.Top_ZF_2_1_L3 two_top_spaces0.Top_ZF_2_1_L2 two <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">f</span><span class="main">∈</span>bij<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">.</span> IsContinuous<span class="main">(</span><span class="main">(</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">Q</span><span class="main">)</span><span class="main">)</span><span class="main">,</span><span class="main">(</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">Q</span><span class="main">)</span><span class="main">)</span><span class="main">,</span><span class="bound">f</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">f</span><span class="main">∈</span>bij<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">.</span> IsContinuous<span class="main">(</span><span class="main">(</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">Q</span><span class="main">)</span><span class="main">)</span><span class="main">,</span><span class="main">(</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">Q</span><span class="main">)</span><span class="main">)</span><span class="main">,</span><span class="bound">f</span><span class="main">)</span> <span class="main">∧</span> IsContinuous<span class="main">(</span><span class="main">(</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">Q</span><span class="main">)</span><span class="main">)</span><span class="main">,</span><span class="main">(</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">Q</span><span class="main">)</span><span class="main">)</span><span class="main">,</span>converse<span class="main">(</span><span class="bound">f</span><span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> bij_converse_bij <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">f</span><span class="main">∈</span>bij<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">.</span> IsAhomeomorphism<span class="main">(</span><span class="main">(</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">Q</span><span class="main">)</span><span class="main">)</span><span class="main">,</span><span class="main">(</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">Q</span><span class="main">)</span><span class="main">)</span><span class="main">,</span><span class="bound">f</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsAhomeomorphism_def
    <span class="keyword1"><span class="command">using</span></span> n union_cocardinal <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"bij<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">⊆</span>HomeoG<span class="main">(</span><span class="main">(</span>CoCardinal<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">Q</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> HomeoG_def bij_def inj_def <span class="keyword1"><span class="command">using</span></span> n union_cocardinal
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The group of homeomorphism of the excluded set is a direct product of the bijections on $X\setminus T$
  and the bijections on $X\cap T$.›</span></span>

<span class="keyword1"><span class="command">theorem</span></span> homeo_excluded<span class="main">:</span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"HomeoG<span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">=</span><span class="main">{</span><span class="bound">f</span><span class="main">∈</span>bij<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">.</span> <span class="bound">f</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">=</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">}</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span>
  <span class="keyword1"><span class="command">have</span></span> sub1<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">⊆</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">g</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">g</span><span class="main">∈</span>HomeoG<span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> fun<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">g</span><span class="main">:</span><span class="free">X</span><span class="main">→</span><span class="free">X</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> bij<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">g</span><span class="main">∈</span>bij<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">X</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> hom<span class="main">:</span><span class="quoted"><span class="quoted">"IsAhomeomorphism<span class="main">(</span><span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">,</span><span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">,</span><span class="skolem">g</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> HomeoG_def
      <span class="keyword1"><span class="command">using</span></span> union_excludedset <span class="keyword1"><span class="command">unfolding</span></span> IsAhomeomorphism_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">assume</span></span> A<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">g</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">=</span><span class="free">X</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> B<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">∩</span><span class="free">T</span><span class="main">≠</span><span class="main">0</span>"</span></span>
      <span class="keyword1"><span class="command">have</span></span> rfun<span class="main">:</span><span class="quoted"><span class="quoted">"restrict<span class="main">(</span><span class="skolem">g</span><span class="main">,</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">:</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">→</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> fun restrict_fun sub1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">from</span></span> A fun <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="skolem">g</span><span class="main">`</span><span class="bound">aa</span><span class="main">.</span> <span class="bound">aa</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">}</span><span class="main">=</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> func_imagedef sub1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">x</span><span class="main">∈</span><span class="free">X</span><span class="main">.</span> <span class="bound">x</span><span class="main">∈</span><span class="main">{</span><span class="skolem">g</span><span class="main">`</span><span class="bound">aa</span><span class="main">.</span> <span class="bound">aa</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">x</span><span class="main">∈</span><span class="free">X</span><span class="main">.</span> <span class="main">∃</span><span class="bound">aa</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">.</span> <span class="bound">x</span><span class="main">=</span><span class="skolem">g</span><span class="main">`</span><span class="bound">aa</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">x</span><span class="main">∈</span><span class="free">X</span><span class="main">.</span> <span class="main">∃</span><span class="bound">aa</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">.</span> <span class="bound">x</span><span class="main">=</span>restrict<span class="main">(</span><span class="skolem">g</span><span class="main">,</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">`</span><span class="bound">aa</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> A <span class="keyword1"><span class="command">have</span></span> surj<span class="main">:</span><span class="quoted"><span class="quoted">"restrict<span class="main">(</span><span class="skolem">g</span><span class="main">,</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">∈</span>surj<span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">,</span><span class="free">X</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> rfun <span class="keyword1"><span class="command">unfolding</span></span> surj_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">from</span></span> B <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">d</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">d</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">d</span><span class="main">∈</span><span class="free">T</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> bij <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">g</span><span class="main">`</span><span class="skolem">d</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> apply_funtype <span class="keyword1"><span class="command">unfolding</span></span> bij_def inj_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">s</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"restrict<span class="main">(</span><span class="skolem">g</span><span class="main">,</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">`</span><span class="skolem">s</span><span class="main">=</span><span class="skolem">g</span><span class="main">`</span><span class="skolem">d</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">s</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="free">T</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> surj <span class="keyword1"><span class="command">unfolding</span></span> surj_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">g</span><span class="main">`</span><span class="skolem">s</span><span class="main">=</span><span class="skolem">g</span><span class="main">`</span><span class="skolem">d</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">d</span><span class="main">∈</span><span class="free">X</span>›</span></span><span class="quoted"><span class="quoted">‹<span class="skolem">s</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="free">T</span>›</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">s</span><span class="main">=</span><span class="skolem">d</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> bij <span class="keyword1"><span class="command">unfolding</span></span> bij_def inj_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">s</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="free">T</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">d</span><span class="main">∈</span><span class="free">T</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">g</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">=</span><span class="free">X</span> <span class="main">⟶</span> <span class="free">X</span><span class="main">∩</span><span class="free">T</span><span class="main">=</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> reg<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">g</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">=</span><span class="free">X</span> <span class="main">⟶</span> <span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">=</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">g</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">=</span><span class="free">X</span> <span class="main">⟶</span> <span class="skolem">g</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">=</span><span class="free">X</span><span class="main">-</span><span class="free">T</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">g</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">=</span><span class="free">X</span> <span class="main">⟶</span> <span class="skolem">g</span><span class="main">∈</span><span class="main">{</span><span class="bound">f</span><span class="main">∈</span>bij<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">.</span> <span class="bound">f</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">=</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> bij <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">gg</span>
      <span class="keyword3"><span class="command">assume</span></span> A<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">gg</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">≠</span><span class="free">X</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> hom2<span class="main">:</span><span class="quoted"><span class="quoted">"IsAhomeomorphism<span class="main">(</span><span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">,</span><span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">,</span><span class="skolem">gg</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">from</span></span> hom2 <span class="keyword1"><span class="command">have</span></span> fun<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">gg</span><span class="main">∈</span><span class="free">X</span><span class="main">→</span><span class="free">X</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> bij<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">gg</span><span class="main">∈</span>bij<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">X</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsAhomeomorphism_def bij_def inj_def <span class="keyword1"><span class="command">using</span></span> union_excludedset <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">have</span></span> sub<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">⊆</span><span class="main">⋃</span><span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> union_excludedset <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> hom2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">gg</span><span class="main">``</span><span class="main">(</span>Interior<span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">,</span><span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">=</span>Interior<span class="main">(</span><span class="skolem">gg</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">,</span><span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span>
        <span class="keyword1"><span class="command">using</span></span> int_top_invariant <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">from</span></span> sub1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Interior<span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">,</span><span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">=</span><span class="free">X</span><span class="main">-</span><span class="free">T</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> interior_set_excludedset <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">gg</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">=</span>Interior<span class="main">(</span><span class="skolem">gg</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">,</span><span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">have</span></span> ss<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">gg</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">⊆</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> fun func1_1_L6<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Interior<span class="main">(</span><span class="skolem">gg</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">,</span><span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="skolem">gg</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">-</span><span class="free">T</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> interior_set_excludedset A
        <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> eq<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">gg</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">=</span><span class="main">(</span><span class="skolem">gg</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">-</span><span class="free">T</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="skolem">gg</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">∩</span><span class="free">T</span><span class="main">≠</span><span class="main">0</span>"</span></span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">t</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">t</span><span class="main">∈</span><span class="free">T</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> im<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">t</span><span class="main">∈</span><span class="skolem">gg</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">t</span><span class="main">∉</span><span class="main">(</span><span class="skolem">gg</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">-</span><span class="free">T</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">using</span></span> eq im <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> 
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="skolem">gg</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">∩</span><span class="free">T</span><span class="main">=</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">gg</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">⊆</span><span class="free">X</span><span class="main">-</span><span class="free">T</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> ss <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">gg</span><span class="main">.</span> <span class="bound">gg</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">≠</span><span class="free">X</span> <span class="main">∧</span> IsAhomeomorphism<span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span><span class="bound">gg</span><span class="main">)</span><span class="main">⟶</span> <span class="bound">gg</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">⊆</span><span class="free">X</span><span class="main">-</span><span class="free">T</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">from</span></span> bij <span class="keyword1"><span class="command">have</span></span> conbij<span class="main">:</span><span class="quoted"><span class="quoted">"converse<span class="main">(</span><span class="skolem">g</span><span class="main">)</span><span class="main">∈</span>bij<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">X</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> bij_converse_bij <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> confun<span class="main">:</span><span class="quoted"><span class="quoted">"converse<span class="main">(</span><span class="skolem">g</span><span class="main">)</span><span class="main">∈</span><span class="free">X</span><span class="main">→</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> bij_def inj_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">assume</span></span> A<span class="main">:</span><span class="quoted"><span class="quoted">"converse<span class="main">(</span><span class="skolem">g</span><span class="main">)</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">=</span><span class="free">X</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> B<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">∩</span><span class="free">T</span><span class="main">≠</span><span class="main">0</span>"</span></span>
      <span class="keyword1"><span class="command">have</span></span> rfun<span class="main">:</span><span class="quoted"><span class="quoted">"restrict<span class="main">(</span>converse<span class="main">(</span><span class="skolem">g</span><span class="main">)</span><span class="main">,</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">:</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">→</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> confun restrict_fun sub1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">from</span></span> A confun <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">{</span>converse<span class="main">(</span><span class="skolem">g</span><span class="main">)</span><span class="main">`</span><span class="bound">aa</span><span class="main">.</span> <span class="bound">aa</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">}</span><span class="main">=</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> func_imagedef sub1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">x</span><span class="main">∈</span><span class="free">X</span><span class="main">.</span> <span class="bound">x</span><span class="main">∈</span><span class="main">{</span>converse<span class="main">(</span><span class="skolem">g</span><span class="main">)</span><span class="main">`</span><span class="bound">aa</span><span class="main">.</span> <span class="bound">aa</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">x</span><span class="main">∈</span><span class="free">X</span><span class="main">.</span> <span class="main">∃</span><span class="bound">aa</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">.</span> <span class="bound">x</span><span class="main">=</span>converse<span class="main">(</span><span class="skolem">g</span><span class="main">)</span><span class="main">`</span><span class="bound">aa</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">x</span><span class="main">∈</span><span class="free">X</span><span class="main">.</span> <span class="main">∃</span><span class="bound">aa</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">.</span> <span class="bound">x</span><span class="main">=</span>restrict<span class="main">(</span>converse<span class="main">(</span><span class="skolem">g</span><span class="main">)</span><span class="main">,</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">`</span><span class="bound">aa</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> A <span class="keyword1"><span class="command">have</span></span> surj<span class="main">:</span><span class="quoted"><span class="quoted">"restrict<span class="main">(</span>converse<span class="main">(</span><span class="skolem">g</span><span class="main">)</span><span class="main">,</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">∈</span>surj<span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">,</span><span class="free">X</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> rfun <span class="keyword1"><span class="command">unfolding</span></span> surj_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">from</span></span> B <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">d</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">d</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">d</span><span class="main">∈</span><span class="free">T</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> conbij <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"converse<span class="main">(</span><span class="skolem">g</span><span class="main">)</span><span class="main">`</span><span class="skolem">d</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> apply_funtype <span class="keyword1"><span class="command">unfolding</span></span> bij_def inj_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">s</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"restrict<span class="main">(</span>converse<span class="main">(</span><span class="skolem">g</span><span class="main">)</span><span class="main">,</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">`</span><span class="skolem">s</span><span class="main">=</span>converse<span class="main">(</span><span class="skolem">g</span><span class="main">)</span><span class="main">`</span><span class="skolem">d</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">s</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="free">T</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> surj <span class="keyword1"><span class="command">unfolding</span></span> surj_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"converse<span class="main">(</span><span class="skolem">g</span><span class="main">)</span><span class="main">`</span><span class="skolem">s</span><span class="main">=</span>converse<span class="main">(</span><span class="skolem">g</span><span class="main">)</span><span class="main">`</span><span class="skolem">d</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">d</span><span class="main">∈</span><span class="free">X</span>›</span></span><span class="quoted"><span class="quoted">‹<span class="skolem">s</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="free">T</span>›</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">s</span><span class="main">=</span><span class="skolem">d</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> conbij <span class="keyword1"><span class="command">unfolding</span></span> bij_def inj_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">s</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="free">T</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">d</span><span class="main">∈</span><span class="free">T</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"converse<span class="main">(</span><span class="skolem">g</span><span class="main">)</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">=</span><span class="free">X</span> <span class="main">⟶</span> <span class="free">X</span><span class="main">∩</span><span class="free">T</span><span class="main">=</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"converse<span class="main">(</span><span class="skolem">g</span><span class="main">)</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">=</span><span class="free">X</span> <span class="main">⟶</span> <span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">=</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"converse<span class="main">(</span><span class="skolem">g</span><span class="main">)</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">=</span><span class="free">X</span> <span class="main">⟶</span> <span class="skolem">g</span><span class="main">-``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">=</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> vimage_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> G<span class="main">:</span><span class="quoted"><span class="quoted">"converse<span class="main">(</span><span class="skolem">g</span><span class="main">)</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">=</span><span class="free">X</span> <span class="main">⟶</span> <span class="skolem">g</span><span class="main">``</span><span class="main">(</span><span class="skolem">g</span><span class="main">-``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">=</span><span class="skolem">g</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">have</span></span> GG<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">g</span><span class="main">``</span><span class="main">(</span><span class="skolem">g</span><span class="main">-``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">=</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> sub1 surj_image_vimage bij <span class="keyword1"><span class="command">unfolding</span></span> bij_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> G <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"converse<span class="main">(</span><span class="skolem">g</span><span class="main">)</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">=</span><span class="free">X</span> <span class="main">⟶</span> <span class="skolem">g</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">=</span><span class="free">X</span><span class="main">-</span><span class="free">T</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"converse<span class="main">(</span><span class="skolem">g</span><span class="main">)</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">=</span><span class="free">X</span> <span class="main">⟶</span> <span class="skolem">g</span><span class="main">∈</span><span class="main">{</span><span class="bound">f</span><span class="main">∈</span>bij<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">.</span> <span class="bound">f</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">=</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> bij <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">from</span></span> hom <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IsAhomeomorphism<span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span> ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span> converse<span class="main">(</span><span class="skolem">g</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> homeo_inv <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">note</span></span> hom <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">g</span><span class="main">∈</span><span class="main">{</span><span class="bound">f</span><span class="main">∈</span>bij<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">.</span> <span class="bound">f</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">=</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">}</span> <span class="main">∨</span> <span class="main">(</span><span class="skolem">g</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">⊆</span><span class="free">X</span><span class="main">-</span><span class="free">T</span> <span class="main">∧</span> converse<span class="main">(</span><span class="skolem">g</span><span class="main">)</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">⊆</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">force</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">g</span><span class="main">∈</span><span class="main">{</span><span class="bound">f</span><span class="main">∈</span>bij<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">.</span> <span class="bound">f</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">=</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">}</span> <span class="main">∨</span> <span class="main">(</span><span class="skolem">g</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">⊆</span><span class="free">X</span><span class="main">-</span><span class="free">T</span> <span class="main">∧</span> <span class="skolem">g</span><span class="main">-``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">⊆</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> vimage_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">g</span><span class="main">-``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">⊆</span><span class="free">X</span><span class="main">-</span><span class="free">T</span> <span class="main">⟶</span> <span class="skolem">g</span><span class="main">``</span><span class="main">(</span><span class="skolem">g</span><span class="main">-``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">⊆</span><span class="skolem">g</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> func1_1_L8 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> GG <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">g</span><span class="main">-``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">⊆</span><span class="free">X</span><span class="main">-</span><span class="free">T</span> <span class="main">⟶</span> <span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">⊆</span><span class="skolem">g</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">force</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">g</span><span class="main">∈</span><span class="main">{</span><span class="bound">f</span><span class="main">∈</span>bij<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">.</span> <span class="bound">f</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">=</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">}</span> <span class="main">∨</span> <span class="main">(</span><span class="skolem">g</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">⊆</span><span class="free">X</span><span class="main">-</span><span class="free">T</span> <span class="main">∧</span> <span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">⊆</span><span class="skolem">g</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">g</span><span class="main">∈</span><span class="main">{</span><span class="bound">f</span><span class="main">∈</span>bij<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">.</span> <span class="bound">f</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">=</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> bij <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"HomeoG<span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">⊆</span><span class="main">{</span><span class="bound">f</span><span class="main">∈</span>bij<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">.</span> <span class="bound">f</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">=</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">g</span> <span class="keyword3"><span class="command">assume</span></span> as<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">g</span><span class="main">∈</span>bij<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">X</span><span class="main">)</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">g</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">=</span><span class="free">X</span><span class="main">-</span><span class="free">T</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> inj<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">g</span><span class="main">∈</span>inj<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">X</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> im<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">g</span><span class="main">-``</span><span class="main">(</span><span class="skolem">g</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">=</span><span class="skolem">g</span><span class="main">-``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> bij_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">from</span></span> inj <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">g</span><span class="main">-``</span><span class="main">(</span><span class="skolem">g</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">=</span><span class="free">X</span><span class="main">-</span><span class="free">T</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> inj_vimage_image sub1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">force</span>
    <span class="keyword1"><span class="command">with</span></span> im <span class="keyword1"><span class="command">have</span></span> as_3<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">g</span><span class="main">-``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span><span class="main">=</span><span class="free">X</span><span class="main">-</span><span class="free">T</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">A</span>
      <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">A</span><span class="main">∈</span><span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">A</span><span class="main">=</span><span class="free">X</span><span class="main">∨</span><span class="skolem">A</span><span class="main">∩</span><span class="free">T</span><span class="main">=</span><span class="main">0</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">A</span><span class="main">⊆</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> ExcludedSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">A</span><span class="main">⊆</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">∨</span><span class="skolem">A</span><span class="main">=</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">A</span><span class="main">=</span><span class="free">X</span>"</span></span>
        <span class="keyword1"><span class="command">with</span></span> as<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">g</span><span class="main">``</span><span class="skolem">A</span><span class="main">=</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> surj_range_image_domain <span class="keyword1"><span class="command">unfolding</span></span> bij_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">A</span><span class="main">⊆</span><span class="free">X</span><span class="main">-</span><span class="free">T</span>"</span></span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">g</span><span class="main">``</span><span class="skolem">A</span><span class="main">⊆</span><span class="skolem">g</span><span class="main">``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> func1_1_L8 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">g</span><span class="main">``</span><span class="skolem">A</span><span class="main">⊆</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> as<span class="main">(</span>2<span class="main">)</span>  <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">g</span><span class="main">``</span><span class="skolem">A</span><span class="main">⊆</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span> <span class="main">∨</span> <span class="skolem">g</span><span class="main">``</span><span class="skolem">A</span><span class="main">=</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">g</span><span class="main">``</span><span class="skolem">A</span><span class="main">∈</span><span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> ExcludedSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">A</span><span class="main">∈</span><span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">.</span> <span class="skolem">g</span><span class="main">``</span><span class="bound">A</span><span class="main">∈</span><span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">A</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">A</span><span class="main">∈</span><span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">A</span><span class="main">=</span><span class="free">X</span><span class="main">∨</span><span class="skolem">A</span><span class="main">∩</span><span class="free">T</span><span class="main">=</span><span class="main">0</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">A</span><span class="main">⊆</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> ExcludedSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">A</span><span class="main">⊆</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">∨</span><span class="skolem">A</span><span class="main">=</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">A</span><span class="main">=</span><span class="free">X</span>"</span></span>
        <span class="keyword1"><span class="command">with</span></span> as<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">g</span><span class="main">-``</span><span class="skolem">A</span><span class="main">=</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> func1_1_L4 <span class="keyword1"><span class="command">unfolding</span></span> bij_def inj_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">A</span><span class="main">⊆</span><span class="free">X</span><span class="main">-</span><span class="free">T</span>"</span></span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">g</span><span class="main">-``</span><span class="skolem">A</span><span class="main">⊆</span><span class="skolem">g</span><span class="main">-``</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> func1_1_L8 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">g</span><span class="main">-``</span><span class="skolem">A</span><span class="main">⊆</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> as_3 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">g</span><span class="main">-``</span><span class="skolem">A</span><span class="main">⊆</span><span class="main">(</span><span class="free">X</span><span class="main">-</span><span class="free">T</span><span class="main">)</span> <span class="main">∨</span> <span class="skolem">g</span><span class="main">-``</span><span class="skolem">A</span><span class="main">=</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">g</span><span class="main">-``</span><span class="skolem">A</span><span class="main">∈</span><span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> ExcludedSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span><span class="skolem">g</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsContinuous_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">note</span></span> as<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IsAhomeomorphism<span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span><span class="skolem">g</span><span class="main">)</span>"</span></span> 
      <span class="keyword1"><span class="command">using</span></span> union_excludedset bij_cont_open_homeo <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> as<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">g</span><span class="main">∈</span>HomeoG<span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> bij_def inj_def HomeoG_def <span class="keyword1"><span class="command">using</span></span> union_excludedset <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="bound">f</span> <span class="main">∈</span> bij<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">X</span><span class="main">)</span> <span class="main">.</span> <span class="bound">f</span> <span class="main">``</span> <span class="main">(</span><span class="free">X</span> <span class="main">-</span> <span class="free">T</span><span class="main">)</span> <span class="main">=</span> <span class="free">X</span> <span class="main">-</span> <span class="free">T</span><span class="main">}</span> <span class="main">⊆</span> HomeoG<span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹We now give some lemmas that will help us compute <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>HomeoG(IncludedSet(X,T))›</span></span></span></span>.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> cont_in_cont_ex<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">:</span><span class="free">X</span><span class="main">→</span><span class="free">X</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">T</span><span class="main">⊆</span><span class="free">X</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>2<span class="main">,</span>3<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> two<span class="main">:</span><span class="quoted"><span class="quoted">"two_top_spaces0<span class="main">(</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> union_includedset includedset_is_topology 
    <span class="keyword1"><span class="command">unfolding</span></span> two_top_spaces0_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">A</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">A</span><span class="main">∈</span><span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">A</span><span class="main">∩</span><span class="free">T</span><span class="main">=</span><span class="main">0</span> <span class="main">∨</span> <span class="skolem">A</span><span class="main">=</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">A</span><span class="main">⊆</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> ExcludedSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">A</span><span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">in}</span><span class="main">(</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> closed_sets_includedset assms <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">-``</span><span class="skolem">A</span><span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">in}</span><span class="main">(</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> two_top_spaces0.TopZF_2_1_L1 assms<span class="main">(</span>1<span class="main">)</span>
      two assms includedset_is_topology <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">f</span><span class="main">-``</span><span class="skolem">A</span><span class="main">)</span><span class="main">∩</span><span class="free">T</span><span class="main">=</span><span class="main">0</span> <span class="main">∨</span> <span class="free">f</span><span class="main">-``</span><span class="skolem">A</span><span class="main">=</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">-``</span><span class="skolem">A</span><span class="main">⊆</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> closed_sets_includedset assms<span class="main">(</span>1<span class="main">,</span>3<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">-``</span><span class="skolem">A</span><span class="main">∈</span><span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> ExcludedSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsContinuous_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">lemma</span></span> cont_ex_cont_in<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">:</span><span class="free">X</span><span class="main">→</span><span class="free">X</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">T</span><span class="main">⊆</span><span class="free">X</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> two<span class="main">:</span><span class="quoted"><span class="quoted">"two_top_spaces0<span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> union_excludedset excludedset_is_topology 
    <span class="keyword1"><span class="command">unfolding</span></span> two_top_spaces0_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">A</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">A</span><span class="main">∈</span><span class="main">(</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">T</span><span class="main">⊆</span><span class="skolem">A</span> <span class="main">∨</span> <span class="skolem">A</span><span class="main">=</span><span class="main">0</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">A</span><span class="main">⊆</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IncludedSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">A</span><span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">in}</span><span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> closed_sets_excludedset assms <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">-``</span><span class="skolem">A</span><span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">in}</span><span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> two_top_spaces0.TopZF_2_1_L1 assms<span class="main">(</span>1<span class="main">)</span>
      two assms excludedset_is_topology <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">T</span><span class="main">⊆</span><span class="main">(</span><span class="free">f</span><span class="main">-``</span><span class="skolem">A</span><span class="main">)</span> <span class="main">∨</span> <span class="free">f</span><span class="main">-``</span><span class="skolem">A</span><span class="main">=</span><span class="main">0</span>"</span></span><span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">-``</span><span class="skolem">A</span><span class="main">⊆</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> closed_sets_excludedset assms<span class="main">(</span>1<span class="main">,</span>3<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">-``</span><span class="skolem">A</span><span class="main">∈</span><span class="main">(</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IncludedSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsContinuous_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The previous lemmas imply that the group of homeomorphisms of the included set topology
is the same as the one of the excluded set topology.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> homeo_included<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">T</span><span class="main">⊆</span><span class="free">X</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"HomeoG<span class="main">(</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">=</span><span class="main">{</span><span class="bound">f</span> <span class="main">∈</span> bij<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">X</span><span class="main">)</span> <span class="main">.</span> <span class="bound">f</span> <span class="main">``</span> <span class="main">(</span><span class="free">X</span> <span class="main">-</span> <span class="free">T</span><span class="main">)</span> <span class="main">=</span> <span class="free">X</span> <span class="main">-</span> <span class="free">T</span><span class="main">}</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">f</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">∈</span>HomeoG<span class="main">(</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> hom<span class="main">:</span><span class="quoted"><span class="quoted">"IsAhomeomorphism<span class="main">(</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span><span class="skolem">f</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> fun<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">∈</span><span class="free">X</span><span class="main">→</span><span class="free">X</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span>
      bij<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">∈</span>bij<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">X</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> HomeoG_def IsAhomeomorphism_def <span class="keyword1"><span class="command">using</span></span> union_includedset assms <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> cont<span class="main">:</span><span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span><span class="skolem">f</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsAhomeomorphism_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span><span class="skolem">f</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> cont_in_cont_ex fun assms <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword1"><span class="command">from</span></span> hom <span class="keyword1"><span class="command">have</span></span> cont1<span class="main">:</span><span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span>converse<span class="main">(</span><span class="skolem">f</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsAhomeomorphism_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"converse<span class="main">(</span><span class="skolem">f</span><span class="main">)</span><span class="main">:</span><span class="free">X</span><span class="main">→</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> bij_converse_bij bij <span class="keyword1"><span class="command">unfolding</span></span> bij_def inj_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">note</span></span> assms <span class="keyword1"><span class="command">ultimately</span></span> 
      <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span>converse<span class="main">(</span><span class="skolem">f</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> cont_in_cont_ex assms <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span>converse<span class="main">(</span><span class="skolem">f</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">note</span></span> bij <span class="keyword1"><span class="command">ultimately</span></span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IsAhomeomorphism<span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span><span class="skolem">f</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsAhomeomorphism_def
      <span class="keyword1"><span class="command">using</span></span> union_excludedset <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> fun <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">∈</span>HomeoG<span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> HomeoG_def <span class="keyword1"><span class="command">using</span></span> union_excludedset <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"HomeoG<span class="main">(</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">⊆</span>HomeoG<span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">f</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">∈</span>HomeoG<span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> hom<span class="main">:</span><span class="quoted"><span class="quoted">"IsAhomeomorphism<span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span><span class="skolem">f</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> fun<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">∈</span><span class="free">X</span><span class="main">→</span><span class="free">X</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span>
      bij<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">∈</span>bij<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">X</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> HomeoG_def IsAhomeomorphism_def <span class="keyword1"><span class="command">using</span></span> union_excludedset assms <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> cont<span class="main">:</span><span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span><span class="skolem">f</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsAhomeomorphism_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span><span class="skolem">f</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> cont_ex_cont_in fun assms <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword1"><span class="command">from</span></span> hom <span class="keyword1"><span class="command">have</span></span> cont1<span class="main">:</span><span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span>converse<span class="main">(</span><span class="skolem">f</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsAhomeomorphism_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"converse<span class="main">(</span><span class="skolem">f</span><span class="main">)</span><span class="main">:</span><span class="free">X</span><span class="main">→</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> bij_converse_bij bij <span class="keyword1"><span class="command">unfolding</span></span> bij_def inj_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">note</span></span> assms <span class="keyword1"><span class="command">ultimately</span></span> 
      <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span>converse<span class="main">(</span><span class="skolem">f</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> cont_ex_cont_in assms <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span>converse<span class="main">(</span><span class="skolem">f</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">note</span></span> bij <span class="keyword1"><span class="command">ultimately</span></span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IsAhomeomorphism<span class="main">(</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span><span class="skolem">f</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsAhomeomorphism_def
      <span class="keyword1"><span class="command">using</span></span> union_includedset assms <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> fun <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">∈</span>HomeoG<span class="main">(</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> HomeoG_def <span class="keyword1"><span class="command">using</span></span> union_includedset assms <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"HomeoG<span class="main">(</span>ExcludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span><span class="main">⊆</span>HomeoG<span class="main">(</span>IncludedSet<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">ultimately</span></span>
  <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> homeo_excluded <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Finally, let's compute part of the group of homeomorphisms of an order topology.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> homeo_order<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"IsLinOrder<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">)</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">x</span> <span class="bound">y</span><span class="main">.</span> <span class="bound">x</span><span class="main">≠</span><span class="bound">y</span><span class="main">∧</span><span class="bound">x</span><span class="main">∈</span><span class="free">X</span><span class="main">∧</span><span class="bound">y</span><span class="main">∈</span><span class="free">X</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"ord_iso<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">)</span><span class="main">⊆</span>HomeoG<span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span>
  <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">f</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">∈</span>ord_iso<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> bij<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">∈</span>bij<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">X</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> ord<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">x</span><span class="main">∈</span><span class="free">X</span><span class="main">.</span> <span class="main">∀</span><span class="bound">y</span><span class="main">∈</span><span class="free">X</span><span class="main">.</span> <span class="main">⟨</span><span class="bound">x</span><span class="main">,</span> <span class="bound">y</span><span class="main">⟩</span> <span class="main">∈</span> <span class="free">r</span> <span class="main">⟷</span> <span class="main">⟨</span><span class="skolem">f</span> <span class="main">`</span> <span class="bound">x</span><span class="main">,</span> <span class="skolem">f</span> <span class="main">`</span> <span class="bound">y</span><span class="main">⟩</span> <span class="main">∈</span> <span class="free">r</span>"</span></span>
    <span class="keyword1"><span class="command">unfolding</span></span> ord_iso_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">have</span></span> twoSpac<span class="main">:</span><span class="quoted"><span class="quoted">"two_top_spaces0<span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">,</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">,</span><span class="skolem">f</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> two_top_spaces0_def
    <span class="keyword1"><span class="command">using</span></span> bij <span class="keyword1"><span class="command">unfolding</span></span> bij_def inj_def <span class="keyword1"><span class="command">using</span></span> union_ordtopology<span class="main">[</span><span class="operator">OF</span> assms<span class="main">]</span> Ordtopology_is_a_topology<span class="main">(</span>1<span class="main">)</span><span class="main">[</span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">c</span> <span class="skolem">d</span> <span class="keyword3"><span class="command">assume</span></span> A<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">c</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">d</span><span class="main">∈</span><span class="free">X</span>"</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="keyword3"><span class="command">assume</span></span> AA<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">≠</span><span class="skolem">c</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">≠</span><span class="skolem">d</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">c</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">d</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">c</span><span class="main">,</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">d</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> A<span class="main">(</span>2<span class="main">,</span>1<span class="main">)</span> ord <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">=</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">c</span> <span class="main">∨</span> <span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">=</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">d</span>"</span></span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">=</span><span class="skolem">c</span><span class="main">∨</span><span class="skolem">x</span><span class="main">=</span><span class="skolem">d</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> bij <span class="keyword1"><span class="command">unfolding</span></span> bij_def inj_def <span class="keyword1"><span class="command">using</span></span> A<span class="main">(</span>2<span class="main">,</span>1<span class="main">)</span> AA<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">using</span></span> AA<span class="main">(</span>2<span class="main">,</span>3<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">≠</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">c</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">≠</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">d</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> bij <span class="keyword1"><span class="command">unfolding</span></span> bij_def inj_def <span class="keyword1"><span class="command">using</span></span> apply_type AA<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">∈</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">c</span><span class="main">,</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">d</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IntervalX_def Interval_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="skolem">f</span><span class="main">`</span><span class="bound">x</span><span class="main">.</span> <span class="bound">x</span><span class="main">∈</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">c</span><span class="main">,</span><span class="skolem">d</span><span class="main">)</span><span class="main">}</span><span class="main">⊆</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">c</span><span class="main">,</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">d</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IntervalX_def Interval_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">y</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">∈</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">c</span><span class="main">,</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">d</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> y<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">≠</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">c</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">≠</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">d</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">c</span><span class="main">,</span><span class="skolem">y</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">y</span><span class="main">,</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">d</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IntervalX_def Interval_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">s</span></span> <span class="keyword2"><span class="keyword">where</span></span> s<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">s</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">=</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">s</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> bij <span class="keyword1"><span class="command">unfolding</span></span> bij_def surj_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">s</span><span class="main">=</span><span class="skolem">c</span><span class="main">∨</span><span class="skolem">s</span><span class="main">=</span><span class="skolem">d</span>"</span></span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">`</span><span class="skolem">s</span><span class="main">=</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">c</span><span class="main">∨</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">s</span><span class="main">=</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">d</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">using</span></span> s<span class="main">(</span>2<span class="main">)</span> y<span class="main">(</span>2<span class="main">,</span>3<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">s</span><span class="main">≠</span><span class="skolem">c</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">s</span><span class="main">≠</span><span class="skolem">d</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">c</span><span class="main">,</span><span class="skolem">s</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">s</span><span class="main">,</span><span class="skolem">d</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> y<span class="main">(</span>4<span class="main">,</span>5<span class="main">)</span> s ord A<span class="main">(</span>2<span class="main">,</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">note</span></span> s<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">s</span><span class="main">∈</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">c</span><span class="main">,</span><span class="skolem">d</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IntervalX_def Interval_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">∈</span><span class="main">{</span><span class="skolem">f</span><span class="main">`</span><span class="bound">x</span><span class="main">.</span> <span class="bound">x</span><span class="main">∈</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">c</span><span class="main">,</span><span class="skolem">d</span><span class="main">)</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> s<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="skolem">f</span><span class="main">`</span><span class="bound">x</span><span class="main">.</span> <span class="bound">x</span><span class="main">∈</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">c</span><span class="main">,</span><span class="skolem">d</span><span class="main">)</span><span class="main">}</span><span class="main">=</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">c</span><span class="main">,</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">d</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">c</span><span class="main">,</span><span class="skolem">d</span><span class="main">)</span><span class="main">⊆</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IntervalX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">:</span><span class="free">X</span><span class="main">→</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> bij <span class="keyword1"><span class="command">unfolding</span></span> bij_def surj_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">ultimately</span></span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">``</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">c</span><span class="main">,</span><span class="skolem">d</span><span class="main">)</span><span class="main">=</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">c</span><span class="main">,</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">d</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> func_imagedef <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> inter<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">c</span><span class="main">∈</span><span class="free">X</span><span class="main">.</span> <span class="main">∀</span><span class="bound">d</span><span class="main">∈</span><span class="free">X</span><span class="main">.</span> <span class="skolem">f</span><span class="main">``</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="bound">c</span><span class="main">,</span><span class="bound">d</span><span class="main">)</span><span class="main">=</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">f</span><span class="main">`</span><span class="bound">c</span><span class="main">,</span><span class="skolem">f</span><span class="main">`</span><span class="bound">d</span><span class="main">)</span> <span class="main">∧</span> <span class="skolem">f</span><span class="main">`</span><span class="bound">c</span><span class="main">∈</span><span class="free">X</span> <span class="main">∧</span> <span class="skolem">f</span><span class="main">`</span><span class="bound">d</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> bij 
    <span class="keyword1"><span class="command">unfolding</span></span> bij_def inj_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">c</span> <span class="keyword3"><span class="command">assume</span></span> A<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">c</span><span class="main">∈</span><span class="free">X</span>"</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="keyword3"><span class="command">assume</span></span> AA<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">≠</span><span class="skolem">c</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">c</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">c</span><span class="main">,</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> A ord <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">=</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">c</span>"</span></span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">=</span><span class="skolem">c</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> bij <span class="keyword1"><span class="command">unfolding</span></span> bij_def inj_def <span class="keyword1"><span class="command">using</span></span> A AA<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">using</span></span> AA<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">≠</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">c</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> bij <span class="keyword1"><span class="command">unfolding</span></span> bij_def inj_def <span class="keyword1"><span class="command">using</span></span> apply_type AA<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">∈</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">c</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> RightRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="skolem">f</span><span class="main">`</span><span class="bound">x</span><span class="main">.</span> <span class="bound">x</span><span class="main">∈</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">c</span><span class="main">)</span><span class="main">}</span><span class="main">⊆</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">c</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> RightRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">y</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">∈</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">c</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> y<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">≠</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">c</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">c</span><span class="main">,</span><span class="skolem">y</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> RightRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">s</span></span> <span class="keyword2"><span class="keyword">where</span></span> s<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">s</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">=</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">s</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> bij <span class="keyword1"><span class="command">unfolding</span></span> bij_def surj_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">s</span><span class="main">=</span><span class="skolem">c</span>"</span></span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">`</span><span class="skolem">s</span><span class="main">=</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">c</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">using</span></span> s<span class="main">(</span>2<span class="main">)</span> y<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">s</span><span class="main">≠</span><span class="skolem">c</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">c</span><span class="main">,</span><span class="skolem">s</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> y<span class="main">(</span>3<span class="main">)</span> s ord A <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">note</span></span> s<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">s</span><span class="main">∈</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">c</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> RightRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">∈</span><span class="main">{</span><span class="skolem">f</span><span class="main">`</span><span class="bound">x</span><span class="main">.</span> <span class="bound">x</span><span class="main">∈</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">c</span><span class="main">)</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> s<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="skolem">f</span><span class="main">`</span><span class="bound">x</span><span class="main">.</span> <span class="bound">x</span><span class="main">∈</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">c</span><span class="main">)</span><span class="main">}</span><span class="main">=</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">c</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">c</span><span class="main">)</span><span class="main">⊆</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> RightRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">:</span><span class="free">X</span><span class="main">→</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> bij <span class="keyword1"><span class="command">unfolding</span></span> bij_def surj_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">ultimately</span></span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">``</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">c</span><span class="main">)</span><span class="main">=</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">c</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> func_imagedef <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> rray<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">c</span><span class="main">∈</span><span class="free">X</span><span class="main">.</span> <span class="skolem">f</span><span class="main">``</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="bound">c</span><span class="main">)</span><span class="main">=</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">f</span><span class="main">`</span><span class="bound">c</span><span class="main">)</span> <span class="main">∧</span> <span class="skolem">f</span><span class="main">`</span><span class="bound">c</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> bij 
    <span class="keyword1"><span class="command">unfolding</span></span> bij_def inj_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">c</span> <span class="keyword3"><span class="command">assume</span></span> A<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">c</span><span class="main">∈</span><span class="free">X</span>"</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="keyword3"><span class="command">assume</span></span> AA<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">≠</span><span class="skolem">c</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">c</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">c</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> A ord <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">=</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">c</span>"</span></span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">=</span><span class="skolem">c</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> bij <span class="keyword1"><span class="command">unfolding</span></span> bij_def inj_def <span class="keyword1"><span class="command">using</span></span> A AA<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">using</span></span> AA<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">≠</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">c</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> bij <span class="keyword1"><span class="command">unfolding</span></span> bij_def inj_def <span class="keyword1"><span class="command">using</span></span> apply_type AA<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">∈</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">c</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> LeftRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="skolem">f</span><span class="main">`</span><span class="bound">x</span><span class="main">.</span> <span class="bound">x</span><span class="main">∈</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">c</span><span class="main">)</span><span class="main">}</span><span class="main">⊆</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">c</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> LeftRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">y</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">∈</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">c</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> y<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">≠</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">c</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">y</span><span class="main">,</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">c</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> LeftRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">s</span></span> <span class="keyword2"><span class="keyword">where</span></span> s<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">s</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">=</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">s</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> bij <span class="keyword1"><span class="command">unfolding</span></span> bij_def surj_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">s</span><span class="main">=</span><span class="skolem">c</span>"</span></span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">`</span><span class="skolem">s</span><span class="main">=</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">c</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">using</span></span> s<span class="main">(</span>2<span class="main">)</span> y<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">s</span><span class="main">≠</span><span class="skolem">c</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">s</span><span class="main">,</span><span class="skolem">c</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> y<span class="main">(</span>3<span class="main">)</span> s ord A <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">note</span></span> s<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">s</span><span class="main">∈</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">c</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> LeftRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">∈</span><span class="main">{</span><span class="skolem">f</span><span class="main">`</span><span class="bound">x</span><span class="main">.</span> <span class="bound">x</span><span class="main">∈</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">c</span><span class="main">)</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> s<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="skolem">f</span><span class="main">`</span><span class="bound">x</span><span class="main">.</span> <span class="bound">x</span><span class="main">∈</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">c</span><span class="main">)</span><span class="main">}</span><span class="main">=</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">c</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">c</span><span class="main">)</span><span class="main">⊆</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> LeftRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">:</span><span class="free">X</span><span class="main">→</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> bij <span class="keyword1"><span class="command">unfolding</span></span> bij_def surj_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">ultimately</span></span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">``</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">c</span><span class="main">)</span><span class="main">=</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">c</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> func_imagedef <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> lray<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">c</span><span class="main">∈</span><span class="free">X</span><span class="main">.</span> <span class="skolem">f</span><span class="main">``</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="bound">c</span><span class="main">)</span><span class="main">=</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">f</span><span class="main">`</span><span class="bound">c</span><span class="main">)</span><span class="main">∧</span><span class="skolem">f</span><span class="main">`</span><span class="bound">c</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> bij 
    <span class="keyword1"><span class="command">unfolding</span></span> bij_def inj_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">have</span></span> r1<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">U</span><span class="main">∈</span><span class="main">{</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="bound">b</span><span class="main">,</span> <span class="bound">c</span><span class="main">)</span> <span class="main">.</span> <span class="main">⟨</span><span class="bound">b</span><span class="main">,</span><span class="bound">c</span><span class="main">⟩</span> <span class="main">∈</span> <span class="free">X</span> <span class="main">×</span> <span class="free">X</span><span class="main">}</span> <span class="main">∪</span> <span class="main">{</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="bound">b</span><span class="main">)</span> <span class="main">.</span> <span class="bound">b</span> <span class="main">∈</span> <span class="free">X</span><span class="main">}</span> <span class="main">∪</span>
    <span class="main">{</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="bound">b</span><span class="main">)</span> <span class="main">.</span> <span class="bound">b</span> <span class="main">∈</span> <span class="free">X</span><span class="main">}</span><span class="main">.</span> <span class="skolem">f</span><span class="main">``</span><span class="bound">U</span><span class="main">∈</span><span class="main">(</span><span class="main">{</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="bound">b</span><span class="main">,</span> <span class="bound">c</span><span class="main">)</span> <span class="main">.</span> <span class="main">⟨</span><span class="bound">b</span><span class="main">,</span><span class="bound">c</span><span class="main">⟩</span> <span class="main">∈</span> <span class="free">X</span> <span class="main">×</span> <span class="free">X</span><span class="main">}</span> <span class="main">∪</span> <span class="main">{</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="bound">b</span><span class="main">)</span> <span class="main">.</span> <span class="bound">b</span> <span class="main">∈</span> <span class="free">X</span><span class="main">}</span> <span class="main">∪</span>
    <span class="main">{</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="bound">b</span><span class="main">)</span> <span class="main">.</span> <span class="bound">b</span> <span class="main">∈</span> <span class="free">X</span><span class="main">}</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="operator">safe</span> <span class="keyword1"><span class="command"><span class="improper"><span class="command">prefer</span></span></span></span> 3 <span class="keyword1"><span class="command">using</span></span> rray <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="operator">blast</span> <span class="keyword1"><span class="command"><span class="improper"><span class="command">prefer</span></span></span></span> 2 <span class="keyword1"><span class="command">using</span></span> lray <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">using</span></span> inter <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
     <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">xa</span> <span class="skolem">y</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">xa</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">∈</span><span class="free">X</span>"</span></span>
     <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">`</span><span class="skolem">xa</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">`</span><span class="skolem">y</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> bij <span class="keyword1"><span class="command">unfolding</span></span> bij_def inj_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
     <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">x</span><span class="main">∈</span><span class="free">X</span><span class="main">.</span> <span class="main">∃</span><span class="bound">ya</span><span class="main">∈</span><span class="free">X</span><span class="main">.</span> IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="skolem">f</span> <span class="main">`</span> <span class="skolem">xa</span><span class="main">,</span> <span class="skolem">f</span> <span class="main">`</span> <span class="skolem">y</span><span class="main">)</span> <span class="main">=</span> IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="bound">x</span><span class="main">,</span> <span class="bound">ya</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">have</span></span> r2<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">{</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="bound">b</span><span class="main">,</span> <span class="bound">c</span><span class="main">)</span> <span class="main">.</span> <span class="main">⟨</span><span class="bound">b</span><span class="main">,</span><span class="bound">c</span><span class="main">⟩</span> <span class="main">∈</span> <span class="free">X</span> <span class="main">×</span> <span class="free">X</span><span class="main">}</span> <span class="main">∪</span> <span class="main">{</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="bound">b</span><span class="main">)</span> <span class="main">.</span> <span class="bound">b</span> <span class="main">∈</span> <span class="free">X</span><span class="main">}</span> <span class="main">∪</span> <span class="main">{</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="bound">b</span><span class="main">)</span> <span class="main">.</span> <span class="bound">b</span> <span class="main">∈</span> <span class="free">X</span><span class="main">}</span><span class="main">⊆</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> base_sets_open<span class="main">[</span><span class="operator">OF</span> Ordtopology_is_a_topology<span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">U</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">∈</span><span class="main">{</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="bound">b</span><span class="main">,</span> <span class="bound">c</span><span class="main">)</span> <span class="main">.</span> <span class="main">⟨</span><span class="bound">b</span><span class="main">,</span><span class="bound">c</span><span class="main">⟩</span> <span class="main">∈</span> <span class="free">X</span> <span class="main">×</span> <span class="free">X</span><span class="main">}</span> <span class="main">∪</span> <span class="main">{</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="bound">b</span><span class="main">)</span> <span class="main">.</span> <span class="bound">b</span> <span class="main">∈</span> <span class="free">X</span><span class="main">}</span> <span class="main">∪</span> <span class="main">{</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="bound">b</span><span class="main">)</span> <span class="main">.</span> <span class="bound">b</span> <span class="main">∈</span> <span class="free">X</span><span class="main">}</span>"</span></span>
    <span class="keyword1"><span class="command">with</span></span> r1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">``</span><span class="skolem">U</span><span class="main">∈</span><span class="main">{</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="bound">b</span><span class="main">,</span> <span class="bound">c</span><span class="main">)</span> <span class="main">.</span> <span class="main">⟨</span><span class="bound">b</span><span class="main">,</span><span class="bound">c</span><span class="main">⟩</span> <span class="main">∈</span> <span class="free">X</span> <span class="main">×</span> <span class="free">X</span><span class="main">}</span> <span class="main">∪</span> <span class="main">{</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="bound">b</span><span class="main">)</span> <span class="main">.</span> <span class="bound">b</span> <span class="main">∈</span> <span class="free">X</span><span class="main">}</span> <span class="main">∪</span> <span class="main">{</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="bound">b</span><span class="main">)</span> <span class="main">.</span> <span class="bound">b</span> <span class="main">∈</span> <span class="free">X</span><span class="main">}</span>"</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> r2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">``</span><span class="skolem">U</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">U</span><span class="main">∈</span><span class="main">{</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="bound">b</span><span class="main">,</span> <span class="bound">c</span><span class="main">)</span> <span class="main">.</span> <span class="main">⟨</span><span class="bound">b</span><span class="main">,</span><span class="bound">c</span><span class="main">⟩</span> <span class="main">∈</span> <span class="free">X</span> <span class="main">×</span> <span class="free">X</span><span class="main">}</span> <span class="main">∪</span> <span class="main">{</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="bound">b</span><span class="main">)</span> <span class="main">.</span> <span class="bound">b</span> <span class="main">∈</span> <span class="free">X</span><span class="main">}</span> <span class="main">∪</span>
    <span class="main">{</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="bound">b</span><span class="main">)</span> <span class="main">.</span> <span class="bound">b</span> <span class="main">∈</span> <span class="free">X</span><span class="main">}</span><span class="main">.</span> <span class="skolem">f</span><span class="main">``</span><span class="bound">U</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> f_open<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">U</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span><span class="main">.</span> <span class="skolem">f</span><span class="main">``</span><span class="bound">U</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> two_top_spaces0.base_image_open<span class="main">[</span><span class="operator">OF</span> twoSpac Ordtopology_is_a_topology<span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">c</span> <span class="skolem">d</span> <span class="keyword3"><span class="command">assume</span></span> A<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">c</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">d</span><span class="main">∈</span><span class="free">X</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">cc</span></span> <span class="skolem"><span class="skolem">dd</span></span> <span class="keyword2"><span class="keyword">where</span></span> pre<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">`</span><span class="skolem">cc</span><span class="main">=</span><span class="skolem">c</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">`</span><span class="skolem">dd</span><span class="main">=</span><span class="skolem">d</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">cc</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">dd</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> bij <span class="keyword1"><span class="command">unfolding</span></span> bij_def surj_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">with</span></span> inter <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span> <span class="main">``</span> IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="skolem">cc</span><span class="main">,</span> <span class="skolem">dd</span><span class="main">)</span> <span class="main">=</span> IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span>  <span class="skolem">c</span><span class="main">,</span>  <span class="skolem">d</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">-``</span><span class="main">(</span><span class="skolem">f</span><span class="main">``</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="skolem">cc</span><span class="main">,</span> <span class="skolem">dd</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="skolem">f</span><span class="main">-``</span><span class="main">(</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span>  <span class="skolem">c</span><span class="main">,</span>  <span class="skolem">d</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> 
    <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="skolem">cc</span><span class="main">,</span> <span class="skolem">dd</span><span class="main">)</span><span class="main">⊆</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IntervalX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">∈</span>inj<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">X</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> bij <span class="keyword1"><span class="command">unfolding</span></span> bij_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">ultimately</span></span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="skolem">cc</span><span class="main">,</span> <span class="skolem">dd</span><span class="main">)</span><span class="main">=</span><span class="skolem">f</span><span class="main">-``</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span>  <span class="skolem">c</span><span class="main">,</span>  <span class="skolem">d</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> inj_vimage_image <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">from</span></span> pre<span class="main">(</span>3<span class="main">,</span>4<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="skolem">cc</span><span class="main">,</span> <span class="skolem">dd</span><span class="main">)</span><span class="main">∈</span><span class="main">{</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="bound">e1</span><span class="main">,</span><span class="bound">e2</span><span class="main">)</span><span class="main">.</span> <span class="main">⟨</span><span class="bound">e1</span><span class="main">,</span><span class="bound">e2</span><span class="main">⟩</span><span class="main">∈</span><span class="free">X</span><span class="main">×</span><span class="free">X</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">-``</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span>  <span class="skolem">c</span><span class="main">,</span>  <span class="skolem">d</span><span class="main">)</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span>
      base_sets_open<span class="main">[</span><span class="operator">OF</span> Ordtopology_is_a_topology<span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> inter<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">c</span><span class="main">∈</span><span class="free">X</span><span class="main">.</span> <span class="main">∀</span><span class="bound">d</span><span class="main">∈</span><span class="free">X</span><span class="main">.</span> <span class="skolem">f</span><span class="main">-``</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span>  <span class="bound">c</span><span class="main">,</span>  <span class="bound">d</span><span class="main">)</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">c</span> <span class="keyword3"><span class="command">assume</span></span> A<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">c</span><span class="main">∈</span><span class="free">X</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">cc</span></span> <span class="keyword2"><span class="keyword">where</span></span> pre<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">`</span><span class="skolem">cc</span><span class="main">=</span><span class="skolem">c</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">cc</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> bij <span class="keyword1"><span class="command">unfolding</span></span> bij_def surj_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">with</span></span> rray <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span> <span class="main">``</span> RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="skolem">cc</span><span class="main">)</span> <span class="main">=</span> RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span>  <span class="skolem">c</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">-``</span><span class="main">(</span><span class="skolem">f</span><span class="main">``</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="skolem">cc</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="skolem">f</span><span class="main">-``</span><span class="main">(</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span>  <span class="skolem">c</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> 
    <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="skolem">cc</span><span class="main">)</span><span class="main">⊆</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> RightRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">∈</span>inj<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">X</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> bij <span class="keyword1"><span class="command">unfolding</span></span> bij_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">ultimately</span></span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="skolem">cc</span><span class="main">)</span><span class="main">=</span><span class="skolem">f</span><span class="main">-``</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span>  <span class="skolem">c</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> inj_vimage_image <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">from</span></span> pre<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="skolem">cc</span><span class="main">)</span><span class="main">∈</span><span class="main">{</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="bound">e2</span><span class="main">)</span><span class="main">.</span> <span class="bound">e2</span><span class="main">∈</span><span class="free">X</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">-``</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span>  <span class="skolem">c</span><span class="main">)</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span>
      base_sets_open<span class="main">[</span><span class="operator">OF</span> Ordtopology_is_a_topology<span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> rray<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">c</span><span class="main">∈</span><span class="free">X</span><span class="main">.</span> <span class="skolem">f</span><span class="main">-``</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span>  <span class="bound">c</span><span class="main">)</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">c</span> <span class="keyword3"><span class="command">assume</span></span> A<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">c</span><span class="main">∈</span><span class="free">X</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">cc</span></span> <span class="keyword2"><span class="keyword">where</span></span> pre<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">`</span><span class="skolem">cc</span><span class="main">=</span><span class="skolem">c</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">cc</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> bij <span class="keyword1"><span class="command">unfolding</span></span> bij_def surj_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">with</span></span> lray <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span> <span class="main">``</span> LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="skolem">cc</span><span class="main">)</span> <span class="main">=</span> LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span>  <span class="skolem">c</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">-``</span><span class="main">(</span><span class="skolem">f</span><span class="main">``</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="skolem">cc</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="skolem">f</span><span class="main">-``</span><span class="main">(</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span>  <span class="skolem">c</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> 
    <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="skolem">cc</span><span class="main">)</span><span class="main">⊆</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> LeftRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">∈</span>inj<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">X</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> bij <span class="keyword1"><span class="command">unfolding</span></span> bij_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">ultimately</span></span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="skolem">cc</span><span class="main">)</span><span class="main">=</span><span class="skolem">f</span><span class="main">-``</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span>  <span class="skolem">c</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> inj_vimage_image <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">from</span></span> pre<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="skolem">cc</span><span class="main">)</span><span class="main">∈</span><span class="main">{</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="bound">e2</span><span class="main">)</span><span class="main">.</span> <span class="bound">e2</span><span class="main">∈</span><span class="free">X</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">-``</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span>  <span class="skolem">c</span><span class="main">)</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span>
      base_sets_open<span class="main">[</span><span class="operator">OF</span> Ordtopology_is_a_topology<span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> lray<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">c</span><span class="main">∈</span><span class="free">X</span><span class="main">.</span> <span class="skolem">f</span><span class="main">-``</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span>  <span class="bound">c</span><span class="main">)</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">U</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">∈</span><span class="main">{</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="bound">b</span><span class="main">,</span> <span class="bound">c</span><span class="main">)</span> <span class="main">.</span> <span class="main">⟨</span><span class="bound">b</span><span class="main">,</span><span class="bound">c</span><span class="main">⟩</span> <span class="main">∈</span> <span class="free">X</span> <span class="main">×</span> <span class="free">X</span><span class="main">}</span> <span class="main">∪</span> <span class="main">{</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="bound">b</span><span class="main">)</span> <span class="main">.</span> <span class="bound">b</span> <span class="main">∈</span> <span class="free">X</span><span class="main">}</span> <span class="main">∪</span> <span class="main">{</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="bound">b</span><span class="main">)</span> <span class="main">.</span> <span class="bound">b</span> <span class="main">∈</span> <span class="free">X</span><span class="main">}</span>"</span></span>
    <span class="keyword1"><span class="command">with</span></span> lray inter rray <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">-``</span><span class="skolem">U</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">U</span><span class="main">∈</span><span class="main">{</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="bound">b</span><span class="main">,</span> <span class="bound">c</span><span class="main">)</span> <span class="main">.</span> <span class="main">⟨</span><span class="bound">b</span><span class="main">,</span><span class="bound">c</span><span class="main">⟩</span> <span class="main">∈</span> <span class="free">X</span> <span class="main">×</span> <span class="free">X</span><span class="main">}</span> <span class="main">∪</span> <span class="main">{</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="bound">b</span><span class="main">)</span> <span class="main">.</span> <span class="bound">b</span> <span class="main">∈</span> <span class="free">X</span><span class="main">}</span> <span class="main">∪</span> <span class="main">{</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="bound">b</span><span class="main">)</span> <span class="main">.</span> <span class="bound">b</span> <span class="main">∈</span> <span class="free">X</span><span class="main">}</span><span class="main">.</span>
    <span class="skolem">f</span><span class="main">-``</span><span class="bound">U</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> fcont<span class="main">:</span><span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">,</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">,</span><span class="skolem">f</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> two_top_spaces0.Top_ZF_2_1_L5<span class="main">[</span><span class="operator">OF</span> twoSpac
    Ordtopology_is_a_topology<span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">from</span></span> fcont f_open bij <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IsAhomeomorphism<span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">,</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">,</span><span class="skolem">f</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> bij_cont_open_homeo
    union_ordtopology<span class="main">[</span><span class="operator">OF</span> assms<span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">∈</span>HomeoG<span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> HomeoG_def <span class="keyword1"><span class="command">using</span></span> bij union_ordtopology<span class="main">[</span><span class="operator">OF</span> assms<span class="main">]</span>
    <span class="keyword1"><span class="command">unfolding</span></span> bij_def inj_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>
      
<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹This last example shows that order isomorphic sets give homeomorphic
topological spaces.›</span></span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‹Properties preserved by functions›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The continuous image of a connected space is connected.›</span></span>

<span class="keyword1"><span class="command">theorem</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> two_top_spaces0<span class="main">)</span> cont_image_conn<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span><span class="free">τ<span class="hidden">⇩</span><sub>1</sub></span><span class="main">,</span><span class="free">τ<span class="hidden">⇩</span><sub>2</sub></span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">∈</span>surj<span class="main">(</span><span class="free">X<span class="hidden">⇩</span><sub>1</sub></span><span class="main">,</span><span class="free">X<span class="hidden">⇩</span><sub>2</sub></span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">τ<span class="hidden">⇩</span><sub>1</sub></span><span class="keyword1">{is</span> <span class="keyword1">connected}</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">τ<span class="hidden">⇩</span><sub>2</sub></span><span class="keyword1">{is</span> <span class="keyword1">connected}</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">U</span>
    <span class="keyword3"><span class="command">assume</span></span> Uop<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">∈</span><span class="free">τ<span class="hidden">⇩</span><sub>2</sub></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> Ucl<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">in}</span><span class="free">τ<span class="hidden">⇩</span><sub>2</sub></span>"</span></span>
    <span class="keyword1"><span class="command">from</span></span> Uop assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">-``</span><span class="skolem">U</span><span class="main">∈</span><span class="free">τ<span class="hidden">⇩</span><sub>1</sub></span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsContinuous_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">from</span></span> Ucl assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span>  <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">-``</span><span class="skolem">U</span><span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">in}</span><span class="free">τ<span class="hidden">⇩</span><sub>1</sub></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> TopZF_2_1_L1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">ultimately</span></span>
    <span class="keyword1"><span class="command">have</span></span> disj<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">-``</span><span class="skolem">U</span><span class="main">=</span><span class="main">0</span> <span class="main">∨</span> <span class="free">f</span><span class="main">-``</span><span class="skolem">U</span><span class="main">=</span><span class="main">⋃</span><span class="free">τ<span class="hidden">⇩</span><sub>1</sub></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsConnected_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">assume</span></span> as<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">-``</span><span class="skolem">U</span><span class="main">≠</span><span class="main">0</span>"</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> func1_1_L13 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">from</span></span> as disj <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">-``</span><span class="skolem">U</span><span class="main">=</span><span class="main">⋃</span><span class="free">τ<span class="hidden">⇩</span><sub>1</sub></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">``</span><span class="main">(</span><span class="free">f</span><span class="main">-``</span><span class="skolem">U</span><span class="main">)</span><span class="main">=</span><span class="free">f</span><span class="main">``</span><span class="main">(</span><span class="main">⋃</span><span class="free">τ<span class="hidden">⇩</span><sub>1</sub></span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">⊆</span><span class="main">⋃</span><span class="free">τ<span class="hidden">⇩</span><sub>2</sub></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Uop <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span> <span class="keyword1"><span class="command">ultimately</span></span>
      <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">=</span><span class="free">f</span><span class="main">``</span><span class="main">(</span><span class="main">⋃</span><span class="free">τ<span class="hidden">⇩</span><sub>1</sub></span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> surj_image_vimage assms<span class="main">(</span>2<span class="main">)</span> Uop <span class="keyword1"><span class="command">by</span></span> <span class="operator">force</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⋃</span><span class="free">τ<span class="hidden">⇩</span><sub>2</sub></span><span class="main">=</span><span class="skolem">U</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> surj_range_image_domain assms<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">assume</span></span> as<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">≠</span><span class="main">0</span>"</span></span>
      <span class="keyword1"><span class="command">from</span></span> Uop <span class="keyword1"><span class="command">have</span></span> s<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">⊆</span><span class="main">⋃</span><span class="free">τ<span class="hidden">⇩</span><sub>2</sub></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> as <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">u</span></span> <span class="keyword2"><span class="keyword">where</span></span> uU<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">u</span><span class="main">∈</span><span class="skolem">U</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> s <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">u</span><span class="main">∈</span><span class="main">⋃</span><span class="free">τ<span class="hidden">⇩</span><sub>2</sub></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>2<span class="main">)</span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">w</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">`</span><span class="skolem">w</span><span class="main">=</span><span class="skolem">u</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">w</span><span class="main">∈</span><span class="main">⋃</span><span class="free">τ<span class="hidden">⇩</span><sub>1</sub></span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> surj_def X1_def X2_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">with</span></span> uU <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">w</span><span class="main">∈</span><span class="free">f</span><span class="main">-``</span><span class="skolem">U</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> func1_1_L15 assms<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> surj_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">-``</span><span class="skolem">U</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">=</span><span class="main">0</span><span class="main">∨</span><span class="skolem">U</span><span class="main">=</span><span class="main">⋃</span><span class="free">τ<span class="hidden">⇩</span><sub>2</sub></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsConnected_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Every continuous function from a space which has some property <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>P›</span></span></span></span>
  and a space which has the property <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>anti(P)›</span></span></span></span>, given that
  this property is preserved by continuous functions, if follows that the range of the function
  is in the spectrum. Applied to connectedness, it follows that continuous functions from
  a connected space to a totally-disconnected one are constant.›</span></span>

<span class="keyword1"><span class="command">corollary</span></span><span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> two_top_spaces0<span class="main">)</span> cont_conn_tot_disc<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span><span class="free">τ<span class="hidden">⇩</span><sub>1</sub></span><span class="main">,</span><span class="free">τ<span class="hidden">⇩</span><sub>2</sub></span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">τ<span class="hidden">⇩</span><sub>1</sub></span><span class="keyword1">{is</span> <span class="keyword1">connected}</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">τ<span class="hidden">⇩</span><sub>2</sub></span><span class="keyword1">{is</span> <span class="keyword1">totally-disconnected}</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">:</span><span class="free">X<span class="hidden">⇩</span><sub>1</sub></span><span class="main">→</span><span class="free">X<span class="hidden">⇩</span><sub>2</sub></span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">X<span class="hidden">⇩</span><sub>1</sub></span><span class="main">≠</span><span class="main">0</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">q</span><span class="main">∈</span><span class="free">X<span class="hidden">⇩</span><sub>2</sub></span><span class="main">.</span> <span class="main">∀</span><span class="bound">w</span><span class="main">∈</span><span class="free">X<span class="hidden">⇩</span><sub>1</sub></span><span class="main">.</span> <span class="free">f</span><span class="main">`</span><span class="main">(</span><span class="bound">w</span><span class="main">)</span><span class="main">=</span><span class="bound">q</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>4<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> surj<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">∈</span>surj<span class="main">(</span><span class="free">X<span class="hidden">⇩</span><sub>1</sub></span><span class="main">,</span>range<span class="main">(</span><span class="free">f</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> fun_is_surj <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">have</span></span> sub<span class="main">:</span><span class="quoted"><span class="quoted">"range<span class="main">(</span><span class="free">f</span><span class="main">)</span><span class="main">⊆</span><span class="free">X<span class="hidden">⇩</span><sub>2</sub></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> func1_1_L5B assms<span class="main">(</span>4<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> cont<span class="main">:</span><span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span><span class="free">τ<span class="hidden">⇩</span><sub>1</sub></span><span class="main">,</span><span class="free">τ<span class="hidden">⇩</span><sub>2</sub></span><span class="keyword1">{restricted</span> <span class="keyword1">to}</span>range<span class="main">(</span><span class="free">f</span><span class="main">)</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> restr_image_cont range_image_domain
    assms<span class="main">(</span>4<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">have</span></span> union<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⋃</span><span class="main">(</span><span class="free">τ<span class="hidden">⇩</span><sub>2</sub></span><span class="keyword1">{restricted</span> <span class="keyword1">to}</span>range<span class="main">(</span><span class="free">f</span><span class="main">)</span><span class="main">)</span><span class="main">=</span>range<span class="main">(</span><span class="free">f</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> RestrictedTo_def <span class="keyword1"><span class="command">using</span></span> sub <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"two_top_spaces0<span class="main">(</span><span class="free">τ<span class="hidden">⇩</span><sub>1</sub></span><span class="main">,</span><span class="free">τ<span class="hidden">⇩</span><sub>2</sub></span><span class="keyword1">{restricted</span> <span class="keyword1">to}</span>range<span class="main">(</span><span class="free">f</span><span class="main">)</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> two_top_spaces0_def
    <span class="keyword1"><span class="command">using</span></span> surj <span class="keyword1"><span class="command">unfolding</span></span> surj_def <span class="keyword1"><span class="command">using</span></span> tau1_is_top topology0.Top_1_L4 <span class="keyword1"><span class="command">unfolding</span></span> topology0_def <span class="keyword1"><span class="command">using</span></span> tau2_is_top
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> conn<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">τ<span class="hidden">⇩</span><sub>2</sub></span><span class="keyword1">{restricted</span> <span class="keyword1">to}</span>range<span class="main">(</span><span class="free">f</span><span class="main">)</span><span class="main">)</span><span class="keyword1">{is</span> <span class="keyword1">connected}</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> two_top_spaces0.cont_image_conn surj assms<span class="main">(</span>2<span class="main">)</span> cont
    union <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"range<span class="main">(</span><span class="free">f</span><span class="main">)</span><span class="keyword1">{is</span> <span class="keyword1">in</span> <span class="keyword1">the</span> <span class="keyword1">spectrum</span> <span class="keyword1">of}</span>IsConnected"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>3<span class="main">)</span> sub <span class="keyword1"><span class="command">unfolding</span></span> IsTotDis_def antiProperty_def
    <span class="keyword1"><span class="command">using</span></span> union <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"range<span class="main">(</span><span class="free">f</span><span class="main">)</span><span class="main">≲</span><span class="main">1</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> conn_spectrum <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>5<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">``</span><span class="free">X<span class="hidden">⇩</span><sub>1</sub></span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> func1_1_L15A assms<span class="main">(</span>4<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"range<span class="main">(</span><span class="free">f</span><span class="main">)</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> range_image_domain assms<span class="main">(</span>4<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">q</span></span> <span class="keyword2"><span class="keyword">where</span></span> uniq<span class="main">:</span><span class="quoted"><span class="quoted">"range<span class="main">(</span><span class="free">f</span><span class="main">)</span><span class="main">=</span><span class="main">{</span><span class="skolem">q</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lepoll_1_is_sing <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">w</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">w</span><span class="main">∈</span><span class="free">X<span class="hidden">⇩</span><sub>1</sub></span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">`</span><span class="skolem">w</span><span class="main">∈</span>range<span class="main">(</span><span class="free">f</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> func1_1_L5A<span class="main">(</span>2<span class="main">)</span> assms<span class="main">(</span>4<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> uniq <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">`</span><span class="skolem">w</span><span class="main">=</span><span class="skolem">q</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">w</span><span class="main">∈</span><span class="free">X<span class="hidden">⇩</span><sub>1</sub></span><span class="main">.</span> <span class="free">f</span><span class="main">`</span><span class="bound">w</span><span class="main">=</span><span class="skolem">q</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> uniq sub <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The continuous image of a compact space is compact.›</span></span>

<span class="keyword1"><span class="command">theorem</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> two_top_spaces0<span class="main">)</span> cont_image_com<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span><span class="free">τ<span class="hidden">⇩</span><sub>1</sub></span><span class="main">,</span><span class="free">τ<span class="hidden">⇩</span><sub>2</sub></span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">∈</span>surj<span class="main">(</span><span class="free">X<span class="hidden">⇩</span><sub>1</sub></span><span class="main">,</span><span class="free">X<span class="hidden">⇩</span><sub>2</sub></span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">X<span class="hidden">⇩</span><sub>1</sub></span><span class="keyword1">{is</span> <span class="keyword1">compact</span> <span class="keyword1">of</span> <span class="keyword1">cardinal}</span><span class="free">K</span><span class="keyword1">{in}</span><span class="free">τ<span class="hidden">⇩</span><sub>1</sub></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">X<span class="hidden">⇩</span><sub>2</sub></span><span class="keyword1">{is</span> <span class="keyword1">compact</span> <span class="keyword1">of</span> <span class="keyword1">cardinal}</span><span class="free">K</span><span class="keyword1">{in}</span><span class="free">τ<span class="hidden">⇩</span><sub>2</sub></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">X<span class="hidden">⇩</span><sub>2</sub></span><span class="main">⊆</span><span class="main">⋃</span><span class="free">τ<span class="hidden">⇩</span><sub>2</sub></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">U</span> <span class="keyword3"><span class="command">assume</span></span> as<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="free">X<span class="hidden">⇩</span><sub>2</sub></span><span class="main">⊆</span><span class="main">⋃</span><span class="skolem">U</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">⊆</span><span class="free">τ<span class="hidden">⇩</span><sub>2</sub></span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> P<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">{</span><span class="free">f</span><span class="main">-``</span><span class="bound">V</span><span class="main">.</span> <span class="bound">V</span><span class="main">∈</span><span class="skolem">U</span><span class="main">}</span><span class="main">⊆</span><span class="free">τ<span class="hidden">⇩</span><sub>1</sub></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsContinuous_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">from</span></span> as<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">-``</span><span class="free">X<span class="hidden">⇩</span><sub>2</sub></span> <span class="main">⊆</span> <span class="free">f</span><span class="main">-``</span><span class="main">(</span><span class="main">⋃</span><span class="skolem">U</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">-``</span><span class="free">X<span class="hidden">⇩</span><sub>2</sub></span> <span class="main">⊆</span> converse<span class="main">(</span><span class="free">f</span><span class="main">)</span><span class="main">``</span><span class="main">(</span><span class="main">⋃</span><span class="skolem">U</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> vimage_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"converse<span class="main">(</span><span class="free">f</span><span class="main">)</span><span class="main">``</span><span class="main">(</span><span class="main">⋃</span><span class="skolem">U</span><span class="main">)</span><span class="main">=</span><span class="main">(</span><span class="main">⋃</span><span class="bound">V</span><span class="main">∈</span><span class="skolem">U</span><span class="main">.</span> converse<span class="main">(</span><span class="free">f</span><span class="main">)</span><span class="main">``</span><span class="bound">V</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> image_UN <span class="keyword1"><span class="command">by</span></span> <span class="operator">force</span> <span class="keyword1"><span class="command">ultimately</span></span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">-``</span><span class="free">X<span class="hidden">⇩</span><sub>2</sub></span> <span class="main">⊆</span> <span class="main">(</span><span class="main">⋃</span><span class="bound">V</span><span class="main">∈</span><span class="skolem">U</span><span class="main">.</span> converse<span class="main">(</span><span class="free">f</span><span class="main">)</span><span class="main">``</span><span class="bound">V</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">-``</span><span class="free">X<span class="hidden">⇩</span><sub>2</sub></span> <span class="main">⊆</span> <span class="main">(</span><span class="main">⋃</span><span class="bound">V</span><span class="main">∈</span><span class="skolem">U</span><span class="main">.</span> <span class="free">f</span><span class="main">-``</span><span class="bound">V</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> vimage_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">X<span class="hidden">⇩</span><sub>1</sub></span> <span class="main">⊆</span> <span class="main">(</span><span class="main">⋃</span><span class="bound">V</span><span class="main">∈</span><span class="skolem">U</span><span class="main">.</span> <span class="free">f</span><span class="main">-``</span><span class="bound">V</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> func1_1_L4 assms<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> surj_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">force</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">X<span class="hidden">⇩</span><sub>1</sub></span> <span class="main">⊆</span> <span class="main">⋃</span><span class="main">{</span><span class="free">f</span><span class="main">-``</span><span class="bound">V</span><span class="main">.</span> <span class="bound">V</span><span class="main">∈</span><span class="skolem">U</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> P assms<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">N</span><span class="main">∈</span>Pow<span class="main">(</span><span class="main">{</span><span class="free">f</span><span class="main">-``</span><span class="bound">V</span><span class="main">.</span> <span class="bound">V</span><span class="main">∈</span><span class="skolem">U</span><span class="main">}</span><span class="main">)</span><span class="main">.</span> <span class="free">X<span class="hidden">⇩</span><sub>1</sub></span> <span class="main">⊆</span> <span class="main">⋃</span><span class="bound">N</span> <span class="main">∧</span> <span class="bound">N</span><span class="main">≺</span><span class="free">K</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsCompactOfCard_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">N</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">N</span><span class="main">∈</span>Pow<span class="main">(</span><span class="main">{</span><span class="free">f</span><span class="main">-``</span><span class="bound">V</span><span class="main">.</span> <span class="bound">V</span><span class="main">∈</span><span class="skolem">U</span><span class="main">}</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">X<span class="hidden">⇩</span><sub>1</sub></span> <span class="main">⊆</span> <span class="main">⋃</span><span class="skolem">N</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">N</span><span class="main">≺</span><span class="free">K</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> fin<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">N</span><span class="main">≺</span><span class="free">K</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> sub<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">N</span><span class="main">⊆</span><span class="main">{</span><span class="free">f</span><span class="main">-``</span><span class="bound">V</span><span class="main">.</span> <span class="bound">V</span><span class="main">∈</span><span class="skolem">U</span><span class="main">}</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> cov<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="free">X<span class="hidden">⇩</span><sub>1</sub></span> <span class="main">⊆</span> <span class="main">⋃</span><span class="skolem">N</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> FinPow_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">from</span></span> sub <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="free">f</span><span class="main">``</span><span class="bound">R</span><span class="main">.</span> <span class="bound">R</span><span class="main">∈</span><span class="skolem">N</span><span class="main">}</span><span class="main">⊆</span><span class="main">{</span><span class="free">f</span><span class="main">``</span><span class="main">(</span><span class="free">f</span><span class="main">-``</span><span class="bound">V</span><span class="main">)</span><span class="main">.</span> <span class="bound">V</span><span class="main">∈</span><span class="skolem">U</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">V</span><span class="main">∈</span><span class="skolem">U</span><span class="main">.</span> <span class="bound">V</span><span class="main">⊆</span><span class="main">⋃</span><span class="free">τ<span class="hidden">⇩</span><sub>2</sub></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> as<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">ultimately</span></span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="free">f</span><span class="main">``</span><span class="bound">R</span><span class="main">.</span> <span class="bound">R</span><span class="main">∈</span><span class="skolem">N</span><span class="main">}</span><span class="main">⊆</span><span class="skolem">U</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> surj_image_vimage assms<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?FN</span></span></span><span class="main">=</span><span class="quoted"><span class="quoted">"<span class="main">{</span><span class="main">⟨</span><span class="bound">R</span><span class="main">,</span><span class="free">f</span><span class="main">``</span><span class="bound">R</span><span class="main">⟩</span><span class="main">.</span> <span class="bound">R</span><span class="main">∈</span><span class="skolem">N</span><span class="main">}</span>"</span></span>
    <span class="keyword1"><span class="command">have</span></span> FN<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="var">?FN</span><span class="main">:</span><span class="skolem">N</span><span class="main">→</span><span class="main">{</span><span class="free">f</span><span class="main">``</span><span class="bound">R</span><span class="main">.</span> <span class="bound">R</span><span class="main">∈</span><span class="skolem">N</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> Pi_def function_def domain_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">S</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">S</span><span class="main">∈</span><span class="main">{</span><span class="free">f</span><span class="main">``</span><span class="bound">R</span><span class="main">.</span> <span class="bound">R</span><span class="main">∈</span><span class="skolem">N</span><span class="main">}</span>"</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">R</span></span> <span class="keyword2"><span class="keyword">where</span></span> R_def<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">R</span><span class="main">∈</span><span class="skolem">N</span>"</span></span><span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">``</span><span class="skolem">R</span><span class="main">=</span><span class="skolem">S</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">R</span><span class="main">,</span><span class="free">f</span><span class="main">``</span><span class="skolem">R</span><span class="main">⟩</span><span class="main">∈</span><span class="var">?FN</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?FN</span><span class="main">`</span><span class="skolem">R</span><span class="main">=</span><span class="free">f</span><span class="main">``</span><span class="skolem">R</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> FN apply_equality <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">R</span><span class="main">∈</span><span class="skolem">N</span><span class="main">.</span> <span class="var">?FN</span><span class="main">`</span><span class="bound">R</span><span class="main">=</span><span class="skolem">S</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> R_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> surj<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="var">?FN</span><span class="main">∈</span>surj<span class="main">(</span><span class="skolem">N</span><span class="main">,</span><span class="main">{</span><span class="free">f</span><span class="main">``</span><span class="bound">R</span><span class="main">.</span> <span class="bound">R</span><span class="main">∈</span><span class="skolem">N</span><span class="main">}</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> surj_def <span class="keyword1"><span class="command">using</span></span> FN <span class="keyword1"><span class="command">by</span></span> <span class="operator">force</span>
    <span class="keyword1"><span class="command">from</span></span> fin <span class="keyword1"><span class="command">have</span></span> N<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">N</span><span class="main">≲</span><span class="free">K</span>"</span></span> <span class="quoted"><span class="quoted">"Ord<span class="main">(</span><span class="free">K</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>3<span class="main">)</span> lesspoll_imp_lepoll <span class="keyword1"><span class="command">unfolding</span></span> IsCompactOfCard_def
      <span class="keyword1"><span class="command">using</span></span> Card_is_Ord <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="free">f</span><span class="main">``</span><span class="bound">R</span><span class="main">.</span> <span class="bound">R</span><span class="main">∈</span><span class="skolem">N</span><span class="main">}</span><span class="main">≲</span><span class="skolem">N</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> surj_fun_inv_2 surj <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="free">f</span><span class="main">``</span><span class="bound">R</span><span class="main">.</span> <span class="bound">R</span><span class="main">∈</span><span class="skolem">N</span><span class="main">}</span><span class="main">≺</span><span class="free">K</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> fin lesspoll_trans1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⋃</span><span class="main">{</span><span class="free">f</span><span class="main">``</span><span class="bound">R</span><span class="main">.</span> <span class="bound">R</span><span class="main">∈</span><span class="skolem">N</span><span class="main">}</span><span class="main">=</span><span class="free">f</span><span class="main">``</span><span class="main">(</span><span class="main">⋃</span><span class="skolem">N</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> image_UN <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">``</span><span class="free">X<span class="hidden">⇩</span><sub>1</sub></span> <span class="main">⊆</span> <span class="main">⋃</span><span class="main">{</span><span class="free">f</span><span class="main">``</span><span class="bound">R</span><span class="main">.</span> <span class="bound">R</span><span class="main">∈</span><span class="skolem">N</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> cov <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">X<span class="hidden">⇩</span><sub>2</sub></span> <span class="main">⊆</span> <span class="main">⋃</span><span class="main">{</span><span class="free">f</span><span class="main">``</span><span class="bound">R</span><span class="main">.</span> <span class="bound">R</span><span class="main">∈</span><span class="skolem">N</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>2<span class="main">)</span> surj_range_image_domain <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">NN</span><span class="main">∈</span>Pow<span class="main">(</span><span class="skolem">U</span><span class="main">)</span><span class="main">.</span> <span class="free">X<span class="hidden">⇩</span><sub>2</sub></span> <span class="main">⊆</span> <span class="main">⋃</span><span class="bound">NN</span> <span class="main">∧</span> <span class="bound">NN</span><span class="main">≺</span><span class="free">K</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">U</span><span class="main">∈</span>Pow<span class="main">(</span><span class="free">τ<span class="hidden">⇩</span><sub>2</sub></span><span class="main">)</span><span class="main">.</span> <span class="free">X<span class="hidden">⇩</span><sub>2</sub></span> <span class="main">⊆</span> <span class="main">⋃</span><span class="bound">U</span> <span class="main">⟶</span> <span class="main">(</span><span class="main">∃</span><span class="bound">NN</span><span class="main">∈</span>Pow<span class="main">(</span><span class="bound">U</span><span class="main">)</span><span class="main">.</span> <span class="free">X<span class="hidden">⇩</span><sub>2</sub></span> <span class="main">⊆</span> <span class="main">⋃</span><span class="bound">NN</span> <span class="main">∧</span> <span class="bound">NN</span><span class="main">≺</span><span class="free">K</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsCompactOfCard_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹As it happends to connected spaces, a continuous function from a compact space
to an anti-compact space has finite range.›</span></span>

<span class="keyword1"><span class="command">corollary</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> two_top_spaces0<span class="main">)</span> cont_comp_anti_comp<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span><span class="free">τ<span class="hidden">⇩</span><sub>1</sub></span><span class="main">,</span><span class="free">τ<span class="hidden">⇩</span><sub>2</sub></span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">X<span class="hidden">⇩</span><sub>1</sub></span><span class="keyword1">{is</span> <span class="keyword1">compact</span> <span class="keyword1">in}</span><span class="free">τ<span class="hidden">⇩</span><sub>1</sub></span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">τ<span class="hidden">⇩</span><sub>2</sub></span><span class="keyword1">{is</span> <span class="keyword1">anti-compact}</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">:</span><span class="free">X<span class="hidden">⇩</span><sub>1</sub></span><span class="main">→</span><span class="free">X<span class="hidden">⇩</span><sub>2</sub></span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">X<span class="hidden">⇩</span><sub>1</sub></span><span class="main">≠</span><span class="main">0</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"Finite<span class="main">(</span>range<span class="main">(</span><span class="free">f</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"range<span class="main">(</span><span class="free">f</span><span class="main">)</span><span class="main">≠</span><span class="main">0</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>4<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> surj<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">∈</span>surj<span class="main">(</span><span class="free">X<span class="hidden">⇩</span><sub>1</sub></span><span class="main">,</span>range<span class="main">(</span><span class="free">f</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> fun_is_surj <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">have</span></span> sub<span class="main">:</span><span class="quoted"><span class="quoted">"range<span class="main">(</span><span class="free">f</span><span class="main">)</span><span class="main">⊆</span><span class="free">X<span class="hidden">⇩</span><sub>2</sub></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> func1_1_L5B assms<span class="main">(</span>4<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> cont<span class="main">:</span><span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span><span class="free">τ<span class="hidden">⇩</span><sub>1</sub></span><span class="main">,</span><span class="free">τ<span class="hidden">⇩</span><sub>2</sub></span><span class="keyword1">{restricted</span> <span class="keyword1">to}</span>range<span class="main">(</span><span class="free">f</span><span class="main">)</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> restr_image_cont range_image_domain
    assms<span class="main">(</span>4<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">have</span></span> union<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⋃</span><span class="main">(</span><span class="free">τ<span class="hidden">⇩</span><sub>2</sub></span><span class="keyword1">{restricted</span> <span class="keyword1">to}</span>range<span class="main">(</span><span class="free">f</span><span class="main">)</span><span class="main">)</span><span class="main">=</span>range<span class="main">(</span><span class="free">f</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> RestrictedTo_def <span class="keyword1"><span class="command">using</span></span> sub <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"two_top_spaces0<span class="main">(</span><span class="free">τ<span class="hidden">⇩</span><sub>1</sub></span><span class="main">,</span><span class="free">τ<span class="hidden">⇩</span><sub>2</sub></span><span class="keyword1">{restricted</span> <span class="keyword1">to}</span>range<span class="main">(</span><span class="free">f</span><span class="main">)</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> two_top_spaces0_def
    <span class="keyword1"><span class="command">using</span></span> surj <span class="keyword1"><span class="command">unfolding</span></span> surj_def <span class="keyword1"><span class="command">using</span></span> tau1_is_top topology0.Top_1_L4 <span class="keyword1"><span class="command">unfolding</span></span> topology0_def <span class="keyword1"><span class="command">using</span></span> tau2_is_top
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"range<span class="main">(</span><span class="free">f</span><span class="main">)</span><span class="keyword1">{is</span> <span class="keyword1">compact</span> <span class="keyword1">in}</span><span class="main">(</span><span class="free">τ<span class="hidden">⇩</span><sub>2</sub></span><span class="keyword1">{restricted</span> <span class="keyword1">to}</span>range<span class="main">(</span><span class="free">f</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> surj two_top_spaces0.cont_image_com cont union 
    assms<span class="main">(</span>2<span class="main">)</span> Compact_is_card_nat <span class="keyword1"><span class="command">by</span></span> <span class="operator">force</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"range<span class="main">(</span><span class="free">f</span><span class="main">)</span><span class="keyword1">{is</span> <span class="keyword1">in</span> <span class="keyword1">the</span> <span class="keyword1">spectrum</span> <span class="keyword1">of}</span><span class="main">(</span><span class="main">λ</span><span class="bound">T</span><span class="main">.</span> <span class="main">(</span><span class="main">⋃</span><span class="bound">T</span><span class="main">)</span> <span class="keyword1">{is</span> <span class="keyword1">compact</span> <span class="keyword1">in}</span><span class="bound">T</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>3<span class="main">)</span> sub <span class="keyword1"><span class="command">unfolding</span></span> IsAntiComp_def antiProperty_def
    <span class="keyword1"><span class="command">using</span></span> union <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"Finite<span class="main">(</span>range<span class="main">(</span><span class="free">f</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> compact_spectrum <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>5<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">``</span><span class="free">X<span class="hidden">⇩</span><sub>1</sub></span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> func1_1_L15A assms<span class="main">(</span>4<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"range<span class="main">(</span><span class="free">f</span><span class="main">)</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> range_image_domain assms<span class="main">(</span>4<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹As a consequence, it follows that quotient topological spaces of
compact (connected) spaces are compact (connected).›</span></span>

<span class="keyword1"><span class="command">corollary</span></span><span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topology0<span class="main">)</span> compQuot<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">)</span><span class="keyword1">{is</span> <span class="keyword1">compact</span> <span class="keyword1">in}</span><span class="free">T</span>"</span></span> <span class="quoted"><span class="quoted">"equiv<span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">,</span><span class="free">r</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">)</span><span class="main">//</span><span class="free">r</span><span class="keyword1">{is</span> <span class="keyword1">compact</span> <span class="keyword1">in}</span><span class="main">(</span><span class="keyword1">{quotient</span> <span class="keyword1">by}</span><span class="free">r</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">have</span></span> surj<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">{</span><span class="main">⟨</span><span class="bound">b</span><span class="main">,</span><span class="free">r</span><span class="main">``</span><span class="main">{</span><span class="bound">b</span><span class="main">}</span><span class="main">⟩</span><span class="main">.</span> <span class="bound">b</span><span class="main">∈</span><span class="main">⋃</span><span class="free">T</span><span class="main">}</span><span class="main">∈</span>surj<span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">,</span><span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">)</span><span class="main">//</span><span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> quotient_proj_surj <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> tot<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⋃</span><span class="main">(</span><span class="keyword1">{quotient</span> <span class="keyword1">by}</span><span class="free">r</span><span class="main">)</span><span class="main">=</span><span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">)</span><span class="main">//</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> total_quo_equi assms<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> cont<span class="main">:</span><span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span><span class="free">T</span><span class="main">,</span><span class="keyword1">{quotient</span> <span class="keyword1">by}</span><span class="free">r</span><span class="main">,</span><span class="main">{</span><span class="main">⟨</span><span class="bound">b</span><span class="main">,</span><span class="free">r</span><span class="main">``</span><span class="main">{</span><span class="bound">b</span><span class="main">}</span><span class="main">⟩</span><span class="main">.</span> <span class="bound">b</span><span class="main">∈</span><span class="main">⋃</span><span class="free">T</span><span class="main">}</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> quotient_func_cont
    EquivQuo_def assms<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">from</span></span> surj tot <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"two_top_spaces0<span class="main">(</span><span class="free">T</span><span class="main">,</span><span class="keyword1">{quotient</span> <span class="keyword1">by}</span><span class="free">r</span><span class="main">,</span><span class="main">{</span><span class="main">⟨</span><span class="bound">b</span><span class="main">,</span><span class="free">r</span><span class="main">``</span><span class="main">{</span><span class="bound">b</span><span class="main">}</span><span class="main">⟩</span><span class="main">.</span> <span class="bound">b</span><span class="main">∈</span><span class="main">⋃</span><span class="free">T</span><span class="main">}</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> two_top_spaces0_def
    <span class="keyword1"><span class="command">using</span></span> topSpaceAssum equiv_quo_is_top assms<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> surj_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> surj cont tot assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> two_top_spaces0.cont_image_com Compact_is_card_nat <span class="keyword1"><span class="command">by</span></span> <span class="operator">force</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">corollary</span></span><span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topology0<span class="main">)</span> ConnQuot<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">T</span><span class="keyword1">{is</span> <span class="keyword1">connected}</span>"</span></span> <span class="quoted"><span class="quoted">"equiv<span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">,</span><span class="free">r</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="keyword1">{quotient</span> <span class="keyword1">by}</span><span class="free">r</span><span class="main">)</span><span class="keyword1">{is</span> <span class="keyword1">connected}</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">have</span></span> surj<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">{</span><span class="main">⟨</span><span class="bound">b</span><span class="main">,</span><span class="free">r</span><span class="main">``</span><span class="main">{</span><span class="bound">b</span><span class="main">}</span><span class="main">⟩</span><span class="main">.</span> <span class="bound">b</span><span class="main">∈</span><span class="main">⋃</span><span class="free">T</span><span class="main">}</span><span class="main">∈</span>surj<span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">,</span><span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">)</span><span class="main">//</span><span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> quotient_proj_surj <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> tot<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⋃</span><span class="main">(</span><span class="keyword1">{quotient</span> <span class="keyword1">by}</span><span class="free">r</span><span class="main">)</span><span class="main">=</span><span class="main">(</span><span class="main">⋃</span><span class="free">T</span><span class="main">)</span><span class="main">//</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> total_quo_equi assms<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> cont<span class="main">:</span><span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span><span class="free">T</span><span class="main">,</span><span class="keyword1">{quotient</span> <span class="keyword1">by}</span><span class="free">r</span><span class="main">,</span><span class="main">{</span><span class="main">⟨</span><span class="bound">b</span><span class="main">,</span><span class="free">r</span><span class="main">``</span><span class="main">{</span><span class="bound">b</span><span class="main">}</span><span class="main">⟩</span><span class="main">.</span> <span class="bound">b</span><span class="main">∈</span><span class="main">⋃</span><span class="free">T</span><span class="main">}</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> quotient_func_cont
    EquivQuo_def assms<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">from</span></span> surj tot <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"two_top_spaces0<span class="main">(</span><span class="free">T</span><span class="main">,</span><span class="keyword1">{quotient</span> <span class="keyword1">by}</span><span class="free">r</span><span class="main">,</span><span class="main">{</span><span class="main">⟨</span><span class="bound">b</span><span class="main">,</span><span class="free">r</span><span class="main">``</span><span class="main">{</span><span class="bound">b</span><span class="main">}</span><span class="main">⟩</span><span class="main">.</span> <span class="bound">b</span><span class="main">∈</span><span class="main">⋃</span><span class="free">T</span><span class="main">}</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> two_top_spaces0_def
    <span class="keyword1"><span class="command">using</span></span> topSpaceAssum equiv_quo_is_top assms<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> surj_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> surj cont tot assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> two_top_spaces0.cont_image_conn <span class="keyword1"><span class="command">by</span></span> <span class="operator">force</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword2"><span class="keyword">end</span></span>
</pre>
</body>

</html>