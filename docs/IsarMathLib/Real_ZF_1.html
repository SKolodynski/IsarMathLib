<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory Real_ZF_1</title>
</head>


<body>
<div class="head">
<h1>Theory Real_ZF_1</h1>
</div>

<pre class="source"><span class="comment1">(*
    This file is a part of IsarMathLib - 
    a library of formalized mathematics for Isabelle/Isar.

    Copyright (C) 2005 - 2009  Slawomir Kolodynski

    This program is free software; Redistribution and use in source and binary forms, 
    with or without modification, are permitted provided that the following conditions are met:

   1. Redistributions of source code must retain the above copyright notice, 
   this list of conditions and the following disclaimer.
   2. Redistributions in binary form must reproduce the above copyright notice, 
   this list of conditions and the following disclaimer in the documentation and/or 
   other materials provided with the distribution.
   3. The name of the author may not be used to endorse or promote products 
   derived from this software without specific prior written permission.

HIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED WARRANTIES,
INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT,
INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE
USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

*)</span>

<span class="keyword1"><span class="command">section</span></span> <span class="quoted"><span class="plain_text">‹Construction of real numbers›</span></span>

<span class="keyword1"><span class="command">theory</span></span> Real_ZF_1 <span class="keyword2"><span class="keyword">imports</span></span> <a href="Real_ZF.html">Real_ZF</a> <a href="Int_ZF_3.html">Int_ZF_3</a> <a href="OrderedField_ZF.html">OrderedField_ZF</a>

<span class="keyword2"><span class="keyword">begin</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹In this theory file we continue the construction of real numbers started
  in <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>Real_ZF›</span></span></span></span> to a succesful conclusion. 
  We put here those parts of the construction that 
  can not be done in the general settings of abelian groups and require 
  integers.›</span></span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‹Definitions and notation›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹In this section we define notions and notation needed for the rest of 
  the construction.›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹We define positive slopes as those that take an infinite number of 
  posititive values on the positive integers (see <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>Int_ZF_2›</span></span></span></span> 
  for properties of positive slopes).›</span></span>

<span class="keyword1"><span class="command">definition</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">PositiveSlopes</span> <span class="main">≡</span> <span class="main">{</span><span class="bound">s</span> <span class="main">∈</span> Slopes<span class="main">.</span> 
  <span class="bound">s</span><span class="main">``</span><span class="main">(</span>PositiveIntegers<span class="main">)</span> <span class="main">∩</span>  PositiveIntegers <span class="main">∉</span> Fin<span class="main">(</span>int<span class="main">)</span><span class="main">}</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The order on the set of real numbers is constructed by 
  specifying the set of positive reals. This set is defined
  as  the projection of the set of positive slopes.›</span></span>

<span class="keyword1"><span class="command">definition</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">PositiveReals</span> <span class="main">≡</span> <span class="main">{</span>SlopeEquivalenceRel<span class="main">``</span><span class="main">{</span><span class="bound">s</span><span class="main">}</span><span class="main">.</span> <span class="bound">s</span> <span class="main">∈</span> PositiveSlopes<span class="main">}</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The order relation on real numbers is constructed from the set of 
  positive elements in a standard way (see section 
  "Alternative definitions" in <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>OrderedGroup_ZF›</span></span></span></span>.)
›</span></span>

<span class="keyword1"><span class="command">definition</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">OrderOnReals</span> <span class="main">≡</span> OrderFromPosSet<span class="main">(</span>RealNumbers<span class="main">,</span>RealAddition<span class="main">,</span>PositiveReals<span class="main">)</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The next locale extends the locale <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>real0›</span></span></span></span> to define notation 
  specific to the construction of real numbers. The notation follows the
  one defined in <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>Int_ZF_2.thy›</span></span></span></span>.
  If $m$ is an integer, then the real number which is the class of the slope
  $n\mapsto m\cdot n$ is denoted <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>m<span class="hidden">⇧</span><sup>R</sup>›</span></span></span></span>. 
  For a real number $a$ notation $\lfloor a \rfloor$ means the largest integer
  $m$ such that the real version of it (that is, $m^R$) is not greater 
  than $a$.
  For an integer $m$ and a subset 
  of reals $S$ the expression  $\Gamma(S,m)$ is defined as 
  $\max \{\lfloor p^R\cdot x\rfloor : x\in S\}$. This is plays a role in
  the proof of completeness of real numbers.  
  We also reuse some notation defined in the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>int0›</span></span></span></span> context, like
  <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>ℤ<span class="hidden">⇩</span><sub>+</sub> ›</span></span></span></span> (the set of positive integers) and abs$(m)$ ( the absolute
  value of an integer, and some defined in the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>int1›</span></span></span></span> context, like
  the addition ( <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>\&lt;fp&gt;›</span></span></span></span>) and composition (<span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>∘›</span></span></span></span> 
  of slopes.›</span></span>

<span class="keyword1"><span class="command">locale</span></span> real1 <span class="main">=</span> real0 <span class="main">+</span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">AlEq</span> <span class="main">(</span><span class="keyword2"><span class="keyword">infix</span></span> <span class="quoted">"<span class="keyword1">∼</span>"</span> 68<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> AlEq_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">s</span> <span class="main"><span class="free">∼</span></span> <span class="free">r</span> <span class="main">≡</span> <span class="main">⟨</span><span class="free">s</span><span class="main">,</span><span class="free">r</span><span class="main">⟩</span> <span class="main">∈</span> SlopeEquivalenceRel"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">slope_add</span> <span class="main">(</span><span class="keyword2"><span class="keyword">infix</span></span> <span class="quoted">"<span class="keyword1">\&lt;fp&gt;</span>"</span> 70<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> slope_add_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> 
  <span class="quoted"><span class="quoted">"<span class="free">s</span> <span class="main"><span class="free">\&lt;fp&gt;</span></span> <span class="free">r</span> <span class="main">≡</span>  SlopeOp1<span class="main">`</span><span class="main">⟨</span><span class="free">s</span><span class="main">,</span><span class="free">r</span><span class="main">⟩</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">slope_comp</span> <span class="main">(</span><span class="keyword2"><span class="keyword">infix</span></span> <span class="quoted">"<span class="keyword1">∘</span>"</span> 71<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> slope_comp_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">s</span> <span class="main"><span class="free">∘</span></span> <span class="free">r</span> <span class="main">≡</span>  SlopeOp2<span class="main">`</span><span class="main">⟨</span><span class="free">s</span><span class="main">,</span><span class="free">r</span><span class="main">⟩</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">slopes</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">𝒮</span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> slopes_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="keyword1"><span class="free">𝒮</span></span> <span class="main">≡</span> AlmostHoms<span class="main">(</span>int<span class="main">,</span>IntegerAddition<span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">posslopes</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">𝒮<span class="hidden">⇩</span><sub>+</sub></span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> posslopes_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="keyword1"><span class="free">𝒮<span class="hidden">⇩</span><sub>+</sub></span></span> <span class="main">≡</span> PositiveSlopes"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">slope_class</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">[</span> _ <span class="keyword1">]</span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> slope_class_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">[</span></span><span class="free">f</span><span class="main"><span class="free">]</span></span> <span class="main">≡</span> SlopeEquivalenceRel<span class="main">``</span><span class="main">{</span><span class="free">f</span><span class="main">}</span>"</span></span>


  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">slope_neg</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">\&lt;fm&gt;</span>_"</span> <span class="main">[</span>90<span class="main">]</span> 91<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> slope_neg_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">\&lt;fm&gt;</span></span><span class="free">s</span> <span class="main">≡</span> GroupInv<span class="main">(</span>int<span class="main">,</span>IntegerAddition<span class="main">)</span> <span class="keyword1">O</span> <span class="free">s</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">lesseqr</span> <span class="main">(</span><span class="keyword2"><span class="keyword">infix</span></span> <span class="quoted">"<span class="keyword1">\&lt;lsq&gt;</span>"</span> 60<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> lesseqr_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">b</span> <span class="main">≡</span> <span class="main">⟨</span><span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">⟩</span> <span class="main">∈</span> OrderOnReals"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">sless</span> <span class="main">(</span><span class="keyword2"><span class="keyword">infix</span></span> <span class="quoted">"<span class="keyword1">\&lt;ls&gt;</span>"</span> 60<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> sless_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">b</span> <span class="main">≡</span> <span class="free">a</span><span class="main"><span class="free">\&lt;lsq&gt;</span></span><span class="free">b</span> <span class="main">∧</span> <span class="free">a</span><span class="main">≠</span><span class="free">b</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">positivereals</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">ℝ<span class="hidden">⇩</span><sub>+</sub></span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> positivereals_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ℝ<span class="hidden">⇩</span><sub>+</sub></span></span> <span class="main">≡</span> PositiveSet<span class="main">(</span><span class="main"><span class="free">ℝ</span></span><span class="main">,</span>RealAddition<span class="main">,</span>OrderOnReals<span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">intembed</span> <span class="main">(</span><span class="quoted">"_<span class="keyword1"><span class="hidden">⇧</span><sup>R</sup></span>"</span> <span class="main">[</span>90<span class="main">]</span> 91<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> intembed_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> 
  <span class="quoted"><span class="quoted">"<span class="free">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">≡</span> <span class="main"><span class="free">[</span></span><span class="main">{</span><span class="main">⟨</span><span class="bound">n</span><span class="main">,</span>IntegerMultiplication<span class="main">`</span><span class="main">⟨</span><span class="free">m</span><span class="main">,</span><span class="bound">n</span><span class="main">⟩</span> <span class="main">⟩</span><span class="main">.</span> <span class="bound">n</span> <span class="main">∈</span> int<span class="main">}</span><span class="main"><span class="free">]</span></span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">floor</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">⌊</span> _ <span class="keyword1">⌋</span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> floor_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> 
  <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="free">a</span><span class="main"><span class="free">⌋</span></span> <span class="main">≡</span> Maximum<span class="main">(</span>IntegerOrder<span class="main">,</span><span class="main">{</span><span class="bound">m</span> <span class="main">∈</span> int<span class="main">.</span> <span class="bound">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">a</span><span class="main">}</span><span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">Γ</span> 
  <span class="keyword2"><span class="keyword">defines</span></span> Γ_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="free">p</span><span class="main">)</span> <span class="main">≡</span> Maximum<span class="main">(</span>IntegerOrder<span class="main">,</span><span class="main">{</span><span class="main"><span class="free">⌊</span></span><span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="bound">x</span><span class="main"><span class="free">⌋</span></span><span class="main">.</span> <span class="bound">x</span><span class="main">∈</span><span class="free">S</span><span class="main">}</span><span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">ia</span> <span class="main">(</span><span class="keyword2"><span class="keyword">infixl</span></span> <span class="quoted">"<span class="keyword1">\&lt;za&gt;</span>"</span> 69<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> ia_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;za&gt;</span></span><span class="free">b</span> <span class="main">≡</span> IntegerAddition<span class="main">`</span><span class="main">⟨</span> <span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">⟩</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">iminus</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">\&lt;zm&gt;</span> _"</span> 72<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> iminus_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">\&lt;zm&gt;</span></span><span class="free">a</span> <span class="main">≡</span> GroupInv<span class="main">(</span>int<span class="main">,</span>IntegerAddition<span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="free">a</span><span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">isub</span> <span class="main">(</span><span class="keyword2"><span class="keyword">infixl</span></span> <span class="quoted">"<span class="keyword1">\&lt;zs&gt;</span>"</span> 69<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> isub_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;zs&gt;</span></span><span class="free">b</span> <span class="main">≡</span> <span class="free">a</span><span class="main"><span class="free">\&lt;za&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;zm&gt;</span></span> <span class="free">b</span><span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">intpositives</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">ℤ<span class="hidden">⇩</span><sub>+</sub></span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> intpositives_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> 
  <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span> <span class="main">≡</span> PositiveSet<span class="main">(</span>int<span class="main">,</span>IntegerAddition<span class="main">,</span>IntegerOrder<span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">zlesseq</span> <span class="main">(</span><span class="keyword2"><span class="keyword">infix</span></span> <span class="quoted">"<span class="keyword1">\&lt;zlq&gt;</span>"</span> 60<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> lesseq_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">m</span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span> <span class="free">n</span> <span class="main">≡</span> <span class="main">⟨</span><span class="free">m</span><span class="main">,</span><span class="free">n</span><span class="main">⟩</span> <span class="main">∈</span> IntegerOrder"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">imult</span> <span class="main">(</span><span class="keyword2"><span class="keyword">infixl</span></span> <span class="quoted">"<span class="keyword1">\&lt;zmu&gt;</span>"</span> 70<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> imult_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="free">b</span> <span class="main">≡</span> IntegerMultiplication<span class="main">`</span><span class="main">⟨</span> <span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">⟩</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">izero</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">𝟬<span class="hidden">⇩</span><sub>Z</sub></span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> izero_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="keyword1"><span class="free">𝟬<span class="hidden">⇩</span><sub>Z</sub></span></span> <span class="main">≡</span> TheNeutralElement<span class="main">(</span>int<span class="main">,</span>IntegerAddition<span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">ione</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">𝟭<span class="hidden">⇩</span><sub>Z</sub></span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> ione_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="keyword1"><span class="free">𝟭<span class="hidden">⇩</span><sub>Z</sub></span></span> <span class="main">≡</span> TheNeutralElement<span class="main">(</span>int<span class="main">,</span>IntegerMultiplication<span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">itwo</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">𝟮<span class="hidden">⇩</span><sub>Z</sub></span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> itwo_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="keyword1"><span class="free">𝟮<span class="hidden">⇩</span><sub>Z</sub></span></span> <span class="main">≡</span> <span class="keyword1"><span class="free">𝟭<span class="hidden">⇩</span><sub>Z</sub></span></span><span class="main"><span class="free">\&lt;za&gt;</span></span><span class="keyword1"><span class="free">𝟭<span class="hidden">⇩</span><sub>Z</sub></span></span>"</span></span>
  
  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">abs</span> 
  <span class="keyword2"><span class="keyword">defines</span></span> abs_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> 
  <span class="quoted"><span class="quoted">"<span class="free">abs</span><span class="main">(</span><span class="free">m</span><span class="main">)</span> <span class="main">≡</span> AbsoluteValue<span class="main">(</span>int<span class="main">,</span>IntegerAddition<span class="main">,</span>IntegerOrder<span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="free">m</span><span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">δ</span> 
  <span class="keyword2"><span class="keyword">defines</span></span> δ_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">δ</span><span class="main">(</span><span class="free">s</span><span class="main">,</span><span class="free">m</span><span class="main">,</span><span class="free">n</span><span class="main">)</span> <span class="main">≡</span> <span class="free">s</span><span class="main">`</span><span class="main">(</span><span class="free">m</span><span class="main"><span class="free">\&lt;za&gt;</span></span><span class="free">n</span><span class="main">)</span><span class="main"><span class="free">\&lt;zs&gt;</span></span><span class="free">s</span><span class="main">`</span><span class="main">(</span><span class="free">m</span><span class="main">)</span><span class="main"><span class="free">\&lt;zs&gt;</span></span><span class="free">s</span><span class="main">`</span><span class="main">(</span><span class="free">n</span><span class="main">)</span>"</span></span>


<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‹Multiplication of real numbers›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Multiplication of real numbers is defined as a projection of 
  composition of slopes onto the space of equivalence classes of slopes.
  Thus, the product of the real numbers given as classes of slopes $s$ and 
  $r$ is defined as the class of $s\circ r$. The goal of this section is to 
  show that multiplication defined this way is commutative.›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Let's recall a theorem from <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>Int_ZF_2.thy›</span></span></span></span> that states that 
  if $f,g$ are slopes,
  then $f\circ g$ is equivalent to $g\circ f$. 
  Here we conclude from that that
  the classes of $f\circ g$ and $g\circ f$ are the same.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_1_L2<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">f</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">g</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">[</span></span><span class="free">f</span><span class="main"><span class="free">∘</span></span><span class="free">g</span><span class="main"><span class="free">]</span></span> <span class="main">=</span> <span class="main"><span class="free">[</span></span><span class="free">g</span><span class="main"><span class="free">∘</span></span><span class="free">f</span><span class="main"><span class="free">]</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main"><span class="free">∘</span></span><span class="free">g</span> <span class="main"><span class="free">∼</span></span> <span class="free">g</span><span class="main"><span class="free">∘</span></span><span class="free">f</span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> Slopes_def int1.Arthan_Th_9 SlopeOp1_def BoundedIntMaps_def
      SlopeEquivalenceRel_def SlopeOp2_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_L11 equiv_class_eq
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Classes of slopes are real numbers.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_1_L3<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">f</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">[</span></span><span class="free">f</span><span class="main"><span class="free">]</span></span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">[</span></span><span class="free">f</span><span class="main"><span class="free">]</span></span> <span class="main">∈</span> Slopes<span class="main">//</span>SlopeEquivalenceRel"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Slopes_def quotientI <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">[</span></span><span class="free">f</span><span class="main"><span class="free">]</span></span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> RealNumbers_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>  
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Each real number is a class of a slope.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_1_L3A<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">f</span><span class="main">∈</span><span class="keyword1"><span class="free">𝒮</span></span> <span class="main">.</span> <span class="free">a</span> <span class="main">=</span> <span class="main"><span class="free">[</span></span><span class="bound">f</span><span class="main"><span class="free">]</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮</span></span><span class="main">//</span>SlopeEquivalenceRel"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> RealNumbers_def Slopes_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> quotient_def
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹It is useful to have the definition of addition and multiplication 
  in the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>real1›</span></span></span></span> context notation.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_1_L4<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">f</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">g</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span>
  <span class="quoted"><span class="quoted">"<span class="main"><span class="free">[</span></span><span class="free">f</span><span class="main"><span class="free">]</span></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main"><span class="free">[</span></span><span class="free">g</span><span class="main"><span class="free">]</span></span> <span class="main">=</span> <span class="main"><span class="free">[</span></span><span class="free">f</span><span class="main"><span class="free">\&lt;fp&gt;</span></span><span class="free">g</span><span class="main"><span class="free">]</span></span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main"><span class="free">[</span></span><span class="free">f</span><span class="main"><span class="free">]</span></span> <span class="main"><span class="free">⋅</span></span> <span class="main"><span class="free">[</span></span><span class="free">g</span><span class="main"><span class="free">]</span></span> <span class="main">=</span> <span class="main"><span class="free">[</span></span><span class="free">f</span><span class="main"><span class="free">∘</span></span><span class="free">g</span><span class="main"><span class="free">]</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?r</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"SlopeEquivalenceRel"</span></span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">[</span></span><span class="free">f</span><span class="main"><span class="free">]</span></span><span class="main"><span class="free">⋅</span></span><span class="main"><span class="free">[</span></span><span class="free">g</span><span class="main"><span class="free">]</span></span> <span class="main">=</span> ProjFun2<span class="main">(</span><span class="keyword1"><span class="free">𝒮</span></span><span class="main">,</span><span class="var">?r</span><span class="main">,</span>SlopeOp2<span class="main">)</span><span class="main">`</span><span class="main">⟨</span><span class="main"><span class="free">[</span></span><span class="free">f</span><span class="main"><span class="free">]</span></span><span class="main">,</span><span class="main"><span class="free">[</span></span><span class="free">g</span><span class="main"><span class="free">]</span></span><span class="main">⟩</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> RealMultiplication_def Slopes_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main"><span class="free">[</span></span><span class="free">f</span><span class="main"><span class="free">∘</span></span><span class="free">g</span><span class="main"><span class="free">]</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_L11 EquivClass_1_L10 Slopes_def
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">finally</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">[</span></span><span class="free">f</span><span class="main"><span class="free">]</span></span> <span class="main"><span class="free">⋅</span></span> <span class="main"><span class="free">[</span></span><span class="free">g</span><span class="main"><span class="free">]</span></span> <span class="main">=</span> <span class="main"><span class="free">[</span></span><span class="free">f</span><span class="main"><span class="free">∘</span></span><span class="free">g</span><span class="main"><span class="free">]</span></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">[</span></span><span class="free">f</span><span class="main"><span class="free">]</span></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main"><span class="free">[</span></span><span class="free">g</span><span class="main"><span class="free">]</span></span> <span class="main">=</span> ProjFun2<span class="main">(</span><span class="keyword1"><span class="free">𝒮</span></span><span class="main">,</span><span class="var">?r</span><span class="main">,</span>SlopeOp1<span class="main">)</span><span class="main">`</span><span class="main">⟨</span><span class="main"><span class="free">[</span></span><span class="free">f</span><span class="main"><span class="free">]</span></span><span class="main">,</span><span class="main"><span class="free">[</span></span><span class="free">g</span><span class="main"><span class="free">]</span></span><span class="main">⟩</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> RealAddition_def Slopes_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main"><span class="free">[</span></span><span class="free">f</span><span class="main"><span class="free">\&lt;fp&gt;</span></span><span class="free">g</span><span class="main"><span class="free">]</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_L11 EquivClass_1_L10 Slopes_def
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">finally</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">[</span></span><span class="free">f</span><span class="main"><span class="free">]</span></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main"><span class="free">[</span></span><span class="free">g</span><span class="main"><span class="free">]</span></span> <span class="main">=</span> <span class="main"><span class="free">[</span></span><span class="free">f</span><span class="main"><span class="free">\&lt;fp&gt;</span></span><span class="free">g</span><span class="main"><span class="free">]</span></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>


<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The next lemma is essentially the same as <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span> Real_ZF_1_L12›</span></span></span></span>, but
  written in the notation defined in the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>real1›</span></span></span></span> context. It states
  that if $f$ is a slope, then $-[f] = [-f]$.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_1_L4A<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">[</span></span><span class="main"><span class="free">\&lt;fm&gt;</span></span><span class="free">f</span><span class="main"><span class="free">]</span></span> <span class="main">=</span> <span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="main"><span class="free">[</span></span><span class="free">f</span><span class="main"><span class="free">]</span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms Slopes_def SlopeEquivalenceRel_def Real_ZF_1_L12
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Subtracting real numbers correspods to adding the opposite slope.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_1_L4B<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">f</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">g</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">[</span></span><span class="free">f</span><span class="main"><span class="free">]</span></span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="main"><span class="free">[</span></span><span class="free">g</span><span class="main"><span class="free">]</span></span> <span class="main">=</span> <span class="main"><span class="free">[</span></span><span class="free">f</span><span class="main"><span class="free">\&lt;fp&gt;</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;fm&gt;</span></span><span class="free">g</span><span class="main">)</span><span class="main"><span class="free">]</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">[</span></span><span class="free">f</span><span class="main"><span class="free">\&lt;fp&gt;</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;fm&gt;</span></span><span class="free">g</span><span class="main">)</span><span class="main"><span class="free">]</span></span> <span class="main">=</span> <span class="main"><span class="free">[</span></span><span class="free">f</span><span class="main"><span class="free">]</span></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main"><span class="free">[</span></span><span class="main"><span class="free">\&lt;fm&gt;</span></span><span class="free">g</span><span class="main"><span class="free">]</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Slopes_def BoundedIntMaps_def int1.Int_ZF_2_1_L12
      Real_ZF_1_1_L4 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">[</span></span><span class="free">f</span><span class="main"><span class="free">]</span></span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="main"><span class="free">[</span></span><span class="free">g</span><span class="main"><span class="free">]</span></span> <span class="main">=</span> <span class="main"><span class="free">[</span></span><span class="free">f</span><span class="main"><span class="free">\&lt;fp&gt;</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;fm&gt;</span></span><span class="free">g</span><span class="main">)</span><span class="main"><span class="free">]</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_1_L4A <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>
  
<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Multiplication of real numbers is commutative.›</span></span>

<span class="keyword1"><span class="command">theorem</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> real_mult_commute<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span> <span class="main">=</span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">a</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">f</span><span class="main">∈</span><span class="keyword1"><span class="free">𝒮</span></span> <span class="main">.</span> <span class="free">a</span> <span class="main">=</span> <span class="main"><span class="free">[</span></span><span class="bound">f</span><span class="main"><span class="free">]</span></span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">g</span><span class="main">∈</span><span class="keyword1"><span class="free">𝒮</span></span> <span class="main">.</span> <span class="free">b</span> <span class="main">=</span> <span class="main"><span class="free">[</span></span><span class="bound">g</span><span class="main"><span class="free">]</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_1_L3A <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">f</span></span> <span class="skolem"><span class="skolem">g</span></span> <span class="keyword2"><span class="keyword">where</span></span> 
    <span class="quoted"><span class="quoted">"<span class="skolem">f</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="skolem">g</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮</span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">=</span> <span class="main"><span class="free">[</span></span><span class="skolem">f</span><span class="main"><span class="free">]</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span> <span class="main">=</span> <span class="main"><span class="free">[</span></span><span class="skolem">g</span><span class="main"><span class="free">]</span></span>"</span></span> 
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span> <span class="main">=</span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">a</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_1_L4 Real_ZF_1_1_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Multiplication is commutative on reals.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> real_mult_commutative<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span>
  <span class="quoted"><span class="quoted">"RealMultiplication <span class="keyword1">{is</span> <span class="keyword1">commutative</span> <span class="keyword1">on}</span> RealNumbers"</span></span>
  <span class="keyword1"><span class="command">using</span></span> real1.real_mult_commute IsCommutative_def
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The neutral element of multiplication of reals 
  (denoted as <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>𝟭›</span></span></span></span> in the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>real1›</span></span></span></span> context) 
  is the class of identity function on integers. This is really shown
  in <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>Real_ZF_1_L11›</span></span></span></span>, here we only rewrite it in the notation used
  in the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>real1›</span></span></span></span> context.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> real_one_cl_identity<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">[</span></span>id<span class="main">(</span>int<span class="main">)</span><span class="main"><span class="free">]</span></span> <span class="main">=</span> <span class="main"><span class="free">𝟭</span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_L11 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹If $f$ is bounded, then its class is the neutral element of additive 
  operation on reals (denoted as <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>𝟬›</span></span></span></span> in the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>real1›</span></span></span></span> context).›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> real_zero_cl_bounded_map<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span> <span class="main">∈</span> BoundedIntMaps"</span></span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">[</span></span><span class="free">f</span><span class="main"><span class="free">]</span></span> <span class="main">=</span> <span class="main"><span class="free">𝟬</span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms Real_ZF_1_L11A <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Two real numbers are equal iff the slopes that represent them are 
  almost equal. This is proven in <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>Real_ZF_1_L13›</span></span></span></span>, here we just 
  rewrite it in the notation used in the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>real1›</span></span></span></span> context.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_1_L5<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">g</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">[</span></span><span class="free">f</span><span class="main"><span class="free">]</span></span> <span class="main">=</span> <span class="main"><span class="free">[</span></span><span class="free">g</span><span class="main"><span class="free">]</span></span> <span class="main">⟷</span> <span class="free">f</span> <span class="main"><span class="free">∼</span></span> <span class="free">g</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms Slopes_def Real_ZF_1_L13 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹If the pair of function belongs to the slope equivalence relation, then
  their classes are equal. This is convenient, because we don't need to assume
  that $f,g$ are slopes (follows from the fact that $f\sim g$).›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_1_L5A<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span> <span class="main"><span class="free">∼</span></span> <span class="free">g</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">[</span></span><span class="free">f</span><span class="main"><span class="free">]</span></span> <span class="main">=</span> <span class="main"><span class="free">[</span></span><span class="free">g</span><span class="main"><span class="free">]</span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms Real_ZF_1_L11 Slopes_def Real_ZF_1_1_L5
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Identity function on integers is a slope. 
  This is proven in <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>Real_ZF_1_L13›</span></span></span></span>, here we just 
  rewrite it in the notation used in the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>real1›</span></span></span></span> context.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> id_on_int_is_slope<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"id<span class="main">(</span>int<span class="main">)</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮</span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_L14 Slopes_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>


<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹A result from <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>Int_ZF_2.thy›</span></span></span></span>: the identity function on integers
  is not almost equal to any bounded function.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_1_L7<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">f</span> <span class="main">∈</span> BoundedIntMaps"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">¬</span><span class="main">(</span>id<span class="main">(</span>int<span class="main">)</span> <span class="main"><span class="free">∼</span></span> <span class="free">f</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms Slopes_def SlopeOp1_def BoundedIntMaps_def 
    SlopeEquivalenceRel_def BoundedIntMaps_def int1.Int_ZF_2_3_L12 
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Zero is not one.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> real_zero_not_one<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟭</span></span><span class="main">≠</span><span class="main"><span class="free">𝟬</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">{</span></span> <span class="keyword3"><span class="command">assume</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟭</span></span><span class="main">=</span><span class="main"><span class="free">𝟬</span></span>"</span></span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">f</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮</span></span><span class="main">.</span> <span class="main"><span class="free">𝟬</span></span> <span class="main">=</span> <span class="main"><span class="free">[</span></span><span class="bound">f</span><span class="main"><span class="free">]</span></span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span>  Real_ZF_1_L4 Real_ZF_1_1_L3A <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword1"><span class="command">have</span></span> 
      <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">f</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮</span></span><span class="main">.</span> <span class="main"><span class="free">[</span></span>id<span class="main">(</span>int<span class="main">)</span><span class="main"><span class="free">]</span></span> <span class="main">=</span> <span class="main"><span class="free">[</span></span><span class="bound">f</span><span class="main"><span class="free">]</span></span> <span class="main">∧</span> <span class="main"><span class="free">[</span></span><span class="bound">f</span><span class="main"><span class="free">]</span></span> <span class="main">=</span> <span class="main"><span class="free">𝟬</span></span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> real_one_cl_identity <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted">False</span> <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_1_L5 Slopes_def 
      Real_ZF_1_L10 Real_ZF_1_1_L7 id_on_int_is_slope
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟭</span></span><span class="main">≠</span><span class="main"><span class="free">𝟬</span></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Negative of a real number is a real number. Property of groups.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_1_L8<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">a</span><span class="main">)</span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms Real_ZF_1_L2 group0.inverse_in_group
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹An identity with three real numbers.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_1_L9<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms real_mult_commutative Real_ZF_1_L3 ring0.Ring_ZF_2_L4
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‹The order on reals›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹In this section we show that the order relation defined by prescribing
  the set of positive reals as the projection of the set of positive
  slopes makes the ring of real numbers into an ordered ring. We also
  collect the facts about ordered groups and rings that we use in 
  the construction.›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Positive slopes are slopes and positive reals are real.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> Real_ZF_1_2_L1<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"PositiveSlopes <span class="main">⊆</span> Slopes"</span></span>
  <span class="quoted"><span class="quoted">"PositiveReals <span class="main">⊆</span> RealNumbers"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"PositiveSlopes <span class="main">=</span> 
    <span class="main">{</span><span class="bound">s</span> <span class="main">∈</span> Slopes<span class="main">.</span> <span class="bound">s</span><span class="main">``</span><span class="main">(</span>PositiveIntegers<span class="main">)</span> <span class="main">∩</span> PositiveIntegers <span class="main">∉</span> Fin<span class="main">(</span>int<span class="main">)</span><span class="main">}</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> PositiveSlopes_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"PositiveSlopes <span class="main">⊆</span> Slopes"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> subset_with_property<span class="main">)</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"<span class="main">{</span>SlopeEquivalenceRel<span class="main">``</span><span class="main">{</span><span class="bound">s</span><span class="main">}</span><span class="main">.</span> <span class="bound">s</span> <span class="main">∈</span> PositiveSlopes <span class="main">}</span> <span class="main">⊆</span> 
    Slopes<span class="main">//</span>SlopeEquivalenceRel"</span></span>
    <span class="keyword1"><span class="command">using</span></span> EquivClass_1_L1A <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"PositiveReals <span class="main">⊆</span> RealNumbers"</span></span>
    <span class="keyword1"><span class="command">using</span></span> PositiveReals_def RealNumbers_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>
  
<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Positive reals are the same as classes of a positive slopes.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_2_L2<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">∈</span> PositiveReals <span class="main">⟷</span> <span class="main">(</span><span class="main">∃</span><span class="bound">f</span><span class="main">∈</span><span class="keyword1"><span class="free">𝒮<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">.</span> <span class="free">a</span> <span class="main">=</span> <span class="main"><span class="free">[</span></span><span class="bound">f</span><span class="main"><span class="free">]</span></span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span>
  <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">∈</span> PositiveReals"</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">∈</span> <span class="main">{</span><span class="main">(</span><span class="main"><span class="free">[</span></span><span class="bound">s</span><span class="main"><span class="free">]</span></span><span class="main">)</span><span class="main">.</span> <span class="bound">s</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> PositiveReals_def 
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span> <span class="comment1">(* it has to be ([a]), otherwise fails*)</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">f</span><span class="main">∈</span><span class="keyword1"><span class="free">𝒮<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">.</span> <span class="free">a</span> <span class="main">=</span> <span class="main"><span class="free">[</span></span><span class="bound">f</span><span class="main"><span class="free">]</span></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">next</span></span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">f</span><span class="main">∈</span><span class="keyword1"><span class="free">𝒮<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">.</span> <span class="free">a</span> <span class="main">=</span> <span class="main"><span class="free">[</span></span><span class="bound">f</span><span class="main"><span class="free">]</span></span>"</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">∈</span> <span class="main">{</span><span class="main">(</span><span class="main"><span class="free">[</span></span><span class="bound">s</span><span class="main"><span class="free">]</span></span><span class="main">)</span><span class="main">.</span> <span class="bound">s</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">∈</span> PositiveReals"</span></span> <span class="keyword1"><span class="command">using</span></span> PositiveReals_def
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Let's recall from <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>Int_ZF_2.thy›</span></span></span></span> that the sum and composition 
  of positive slopes is a positive slope.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_2_L3<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">∈</span><span class="keyword1"><span class="free">𝒮<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">g</span><span class="main">∈</span><span class="keyword1"><span class="free">𝒮<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main"><span class="free">\&lt;fp&gt;</span></span><span class="free">g</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main"><span class="free">∘</span></span><span class="free">g</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms Slopes_def PositiveSlopes_def PositiveIntegers_def
    SlopeOp1_def int1.sum_of_pos_sls_is_pos_sl
    SlopeOp2_def int1.comp_of_pos_sls_is_pos_sl
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Bounded integer maps are not positive slopes.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_2_L5<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span> <span class="main">∈</span> BoundedIntMaps"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span> <span class="main">∉</span> <span class="keyword1"><span class="free">𝒮<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms BoundedIntMaps_def Slopes_def PositiveSlopes_def
    PositiveIntegers_def int1.Int_ZF_2_3_L1B <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

 
<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The set of positive reals is closed under addition and multiplication.
  Zero (the neutral element of addition) is not a positive number.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_2_L6<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"PositiveReals <span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">under}</span> RealAddition"</span></span>
  <span class="quoted"><span class="quoted">"PositiveReals <span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">under}</span> RealMultiplication"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟬</span></span> <span class="main">∉</span> PositiveReals"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">{</span></span> <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">a</span> <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">b</span>
    <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">a</span> <span class="main">∈</span> PositiveReals"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">b</span> <span class="main">∈</span> PositiveReals"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">f</span></span> <span class="skolem"><span class="skolem">g</span></span> <span class="keyword2"><span class="keyword">where</span></span>
      I<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="skolem">g</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span>
      II<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">a</span> <span class="main">=</span> <span class="main"><span class="free">[</span></span><span class="skolem">f</span><span class="main"><span class="free">]</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="skolem">b</span> <span class="main">=</span> <span class="main"><span class="free">[</span></span><span class="skolem">g</span><span class="main"><span class="free">]</span></span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_2_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="skolem">g</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_2_L1 Slopes_def 
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> I II <span class="keyword1"><span class="command">have</span></span> 
      <span class="quoted"><span class="quoted">"<span class="skolem">a</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="skolem">b</span> <span class="main">∈</span> PositiveReals <span class="main">∧</span> <span class="skolem">a</span><span class="main"><span class="free">⋅</span></span><span class="skolem">b</span> <span class="main">∈</span> PositiveReals"</span></span>
       <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_1_L4 Real_ZF_1_2_L3 Real_ZF_1_2_L2
       <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> 
      <span class="quoted"><span class="quoted">"PositiveReals <span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">under}</span> RealAddition"</span></span>
      <span class="quoted"><span class="quoted">"PositiveReals <span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">under}</span> RealMultiplication"</span></span>
    <span class="keyword1"><span class="command">using</span></span> IsOpClosed_def
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">{</span></span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟬</span></span> <span class="main">∈</span> PositiveReals"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">f</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟬</span></span> <span class="main">=</span> <span class="main"><span class="free">[</span></span><span class="skolem">f</span><span class="main"><span class="free">]</span></span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_2_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted">False</span>
      <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_2_L1 Slopes_def Real_ZF_1_L10 Real_ZF_1_2_L5
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟬</span></span> <span class="main">∉</span> PositiveReals"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹If a class of a slope $f$ is not zero, then either $f$ is 
  a positive slope or $-f$ is a positive slope. The real proof is in
  <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>Int_ZF_2.thy.›</span></span></span></span>›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_2_L7<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">f</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮</span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">[</span></span><span class="free">f</span><span class="main"><span class="free">]</span></span> <span class="main">≠</span> <span class="main"><span class="free">𝟬</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">f</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">)</span> <span class="keyword1">Xor</span> <span class="main">(</span><span class="main">(</span><span class="main"><span class="free">\&lt;fm&gt;</span></span><span class="free">f</span><span class="main">)</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms Slopes_def SlopeEquivalenceRel_def BoundedIntMaps_def
    PositiveSlopes_def PositiveIntegers_def 
    Real_ZF_1_L10 int1.Int_ZF_2_3_L8 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  
<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The next lemma rephrases <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span> Int_ZF_2_3_L10›</span></span></span></span> in the notation
  used in <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>real1›</span></span></span></span> context.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_2_L8<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">f</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">g</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">f</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">)</span> <span class="keyword1">Xor</span> <span class="main">(</span><span class="free">g</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">[</span></span><span class="free">f</span><span class="main"><span class="free">]</span></span> <span class="main">∈</span> PositiveReals<span class="main">)</span> <span class="keyword1">Xor</span> <span class="main">(</span><span class="main"><span class="free">[</span></span><span class="free">g</span><span class="main"><span class="free">]</span></span> <span class="main">∈</span> PositiveReals<span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms PositiveReals_def SlopeEquivalenceRel_def Slopes_def 
    SlopeOp1_def BoundedIntMaps_def PositiveSlopes_def PositiveIntegers_def
    int1.Int_ZF_2_3_L10 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The trichotomy law for the (potential) order on reals: if $a\neq 0$,
  then either $a$ is positive or $-a$ is potitive.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_2_L9<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">≠</span><span class="main"><span class="free">𝟬</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">a</span> <span class="main">∈</span> PositiveReals<span class="main">)</span> <span class="keyword1">Xor</span> <span class="main">(</span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">a</span><span class="main">)</span> <span class="main">∈</span> PositiveReals<span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">f</span></span> <span class="keyword2"><span class="keyword">where</span></span> I<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">=</span> <span class="main"><span class="free">[</span></span><span class="skolem">f</span><span class="main"><span class="free">]</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_1_L3A <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">[</span></span><span class="skolem">f</span><span class="main"><span class="free">]</span></span> <span class="main">∈</span> PositiveReals<span class="main">)</span> <span class="keyword1">Xor</span> <span class="main">(</span><span class="main"><span class="free">[</span></span><span class="main"><span class="free">\&lt;fm&gt;</span></span><span class="skolem">f</span><span class="main"><span class="free">]</span></span> <span class="main">∈</span> PositiveReals<span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Slopes_def BoundedIntMaps_def int1.Int_ZF_2_1_L12
      Real_ZF_1_2_L7 Real_ZF_1_2_L8 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> I <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">a</span> <span class="main">∈</span> PositiveReals<span class="main">)</span> <span class="keyword1">Xor</span> <span class="main">(</span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">a</span><span class="main">)</span> <span class="main">∈</span> PositiveReals<span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_1_L4A <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Finally we are ready to prove that real numbers form an ordered ring
 with no zero divisors.›</span></span>

<span class="keyword1"><span class="command">theorem</span></span> reals_are_ord_ring<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span>
  <span class="quoted"><span class="quoted">"IsAnOrdRing<span class="main">(</span>RealNumbers<span class="main">,</span>RealAddition<span class="main">,</span>RealMultiplication<span class="main">,</span>OrderOnReals<span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"OrderOnReals <span class="keyword1">{is</span> <span class="keyword1">total</span> <span class="keyword1">on}</span> RealNumbers"</span></span>
  <span class="quoted"><span class="quoted">"PositiveSet<span class="main">(</span>RealNumbers<span class="main">,</span>RealAddition<span class="main">,</span>OrderOnReals<span class="main">)</span> <span class="main">=</span> PositiveReals"</span></span>
  <span class="quoted"><span class="quoted">"HasNoZeroDivs<span class="main">(</span>RealNumbers<span class="main">,</span>RealAddition<span class="main">,</span>RealMultiplication<span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?R</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"RealNumbers"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?A</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"RealAddition"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?M</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"RealMultiplication"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?P</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"PositiveReals"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?r</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"OrderOnReals"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?z</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"TheNeutralElement<span class="main">(</span><span class="var">?R</span><span class="main">,</span> <span class="var">?A</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">have</span></span> I<span class="main">:</span>
    <span class="quoted"><span class="quoted">"ring0<span class="main">(</span><span class="var">?R</span><span class="main">,</span> <span class="var">?A</span><span class="main">,</span> <span class="var">?M</span><span class="main">)</span>"</span></span> 
    <span class="quoted"><span class="quoted">"<span class="var">?M</span> <span class="keyword1">{is</span> <span class="keyword1">commutative</span> <span class="keyword1">on}</span> <span class="var">?R</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="var">?P</span> <span class="main">⊆</span> <span class="var">?R</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="var">?P</span> <span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">under}</span> <span class="var">?A</span>"</span></span>
    <span class="quoted"><span class="quoted">"TheNeutralElement<span class="main">(</span><span class="var">?R</span><span class="main">,</span> <span class="var">?A</span><span class="main">)</span> <span class="main">∉</span> <span class="var">?P</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">a</span><span class="main">∈</span><span class="var">?R</span><span class="main">.</span> <span class="bound">a</span> <span class="main">≠</span> <span class="var">?z</span> <span class="main">⟶</span> <span class="main">(</span><span class="bound">a</span> <span class="main">∈</span> <span class="var">?P</span><span class="main">)</span> <span class="keyword1">Xor</span> <span class="main">(</span>GroupInv<span class="main">(</span><span class="var">?R</span><span class="main">,</span> <span class="var">?A</span><span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="bound">a</span><span class="main">)</span> <span class="main">∈</span> <span class="var">?P</span><span class="main">)</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="var">?P</span> <span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">under}</span> <span class="var">?M</span>"</span></span> 
    <span class="quoted"><span class="quoted">"<span class="var">?r</span> <span class="main">=</span> OrderFromPosSet<span class="main">(</span><span class="var">?R</span><span class="main">,</span> <span class="var">?A</span><span class="main">,</span> <span class="var">?P</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> real0.Real_ZF_1_L3 real_mult_commutative Real_ZF_1_2_L1
      real1.Real_ZF_1_2_L6 real1.Real_ZF_1_2_L9 OrderOnReals_def
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"IsAnOrdRing<span class="main">(</span><span class="var">?R</span><span class="main">,</span> <span class="var">?A</span><span class="main">,</span> <span class="var">?M</span><span class="main">,</span> <span class="var">?r</span><span class="main">)</span>"</span></span> 
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> ring0.ring_ord_by_positive_set<span class="main">)</span>
  <span class="keyword1"><span class="command">from</span></span> I <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="var">?r</span> <span class="keyword1">{is</span> <span class="keyword1">total</span> <span class="keyword1">on}</span> <span class="var">?R</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> ring0.ring_ord_by_positive_set<span class="main">)</span>
  <span class="keyword1"><span class="command">from</span></span> I <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"PositiveSet<span class="main">(</span><span class="var">?R</span><span class="main">,</span><span class="var">?A</span><span class="main">,</span><span class="var">?r</span><span class="main">)</span> <span class="main">=</span> <span class="var">?P</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> ring0.ring_ord_by_positive_set<span class="main">)</span>
  <span class="keyword1"><span class="command">from</span></span> I <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"HasNoZeroDivs<span class="main">(</span><span class="var">?R</span><span class="main">,</span><span class="var">?A</span><span class="main">,</span><span class="var">?M</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> ring0.ring_ord_by_positive_set<span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹All theorems proven in the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>ring1›</span></span></span></span>
  (about ordered rings), <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>group3›</span></span></span></span> (about ordered groups) and
  <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>group1›</span></span></span></span> (about groups)
  contexts are valid as applied to ordered real numbers with addition 
  and (real) order.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> Real_ZF_1_2_L10<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"ring1<span class="main">(</span>RealNumbers<span class="main">,</span>RealAddition<span class="main">,</span>RealMultiplication<span class="main">,</span>OrderOnReals<span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"IsAnOrdGroup<span class="main">(</span>RealNumbers<span class="main">,</span>RealAddition<span class="main">,</span>OrderOnReals<span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"group3<span class="main">(</span>RealNumbers<span class="main">,</span>RealAddition<span class="main">,</span>OrderOnReals<span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"OrderOnReals <span class="keyword1">{is</span> <span class="keyword1">total</span> <span class="keyword1">on}</span> RealNumbers"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"ring1<span class="main">(</span>RealNumbers<span class="main">,</span>RealAddition<span class="main">,</span>RealMultiplication<span class="main">,</span>OrderOnReals<span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> reals_are_ord_ring OrdRing_ZF_1_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> 
    <span class="quoted"><span class="quoted">"IsAnOrdGroup<span class="main">(</span>RealNumbers<span class="main">,</span>RealAddition<span class="main">,</span>OrderOnReals<span class="main">)</span>"</span></span>
    <span class="quoted"><span class="quoted">"group3<span class="main">(</span>RealNumbers<span class="main">,</span>RealAddition<span class="main">,</span>OrderOnReals<span class="main">)</span>"</span></span>
    <span class="quoted"><span class="quoted">"OrderOnReals <span class="keyword1">{is</span> <span class="keyword1">total</span> <span class="keyword1">on}</span> RealNumbers"</span></span>
    <span class="keyword1"><span class="command">using</span></span> ring1.OrdRing_ZF_1_L4 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹If $a=b$ or $b-a$ is positive, then $a$ is less or equal $b$.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_2_L11<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span>
  A3<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">=</span><span class="free">b</span> <span class="main">∨</span> <span class="free">b</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">a</span> <span class="main">∈</span> PositiveReals"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;lsq&gt;</span></span><span class="free">b</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms reals_are_ord_ring Real_ZF_1_2_L10 
    group3.OrderedGroup_ZF_1_L30 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹A sufficient condition for two classes to be in the real order.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_2_L12<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">f</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">g</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮</span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span>
  A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main"><span class="free">∼</span></span><span class="free">g</span> <span class="main">∨</span> <span class="main">(</span><span class="free">g</span> <span class="main"><span class="free">\&lt;fp&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;fm&gt;</span></span><span class="free">f</span><span class="main">)</span><span class="main">)</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">[</span></span><span class="free">f</span><span class="main"><span class="free">]</span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="main"><span class="free">[</span></span><span class="free">g</span><span class="main"><span class="free">]</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">[</span></span><span class="free">f</span><span class="main"><span class="free">]</span></span> <span class="main">=</span> <span class="main"><span class="free">[</span></span><span class="free">g</span><span class="main"><span class="free">]</span></span> <span class="main">∨</span> <span class="main"><span class="free">[</span></span><span class="free">g</span><span class="main"><span class="free">]</span></span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="main"><span class="free">[</span></span><span class="free">f</span><span class="main"><span class="free">]</span></span> <span class="main">∈</span> PositiveReals"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_1_L5A Real_ZF_1_2_L2 Real_ZF_1_1_L4B
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">[</span></span><span class="free">f</span><span class="main"><span class="free">]</span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="main"><span class="free">[</span></span><span class="free">g</span><span class="main"><span class="free">]</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span>  Real_ZF_1_1_L3 Real_ZF_1_2_L11
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Taking negative on both sides reverses the inequality, a case with
  an inverse on one side. Property of ordered groups.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_2_L13<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">a</span><span class="main">)</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">b</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">b</span><span class="main">)</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">a</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms Real_ZF_1_2_L10 group3.OrderedGroup_ZF_1_L5AG
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Real order is antisymmetric.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> real_ord_antisym<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;lsq&gt;</span></span><span class="free">b</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">\&lt;lsq&gt;</span></span><span class="free">a</span>"</span></span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">=</span><span class="free">b</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span>
    <span class="quoted"><span class="quoted">"group3<span class="main">(</span>RealNumbers<span class="main">,</span>RealAddition<span class="main">,</span>OrderOnReals<span class="main">)</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">⟩</span> <span class="main">∈</span> OrderOnReals"</span></span>  <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="free">b</span><span class="main">,</span><span class="free">a</span><span class="main">⟩</span> <span class="main">∈</span> OrderOnReals"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_2_L10 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">=</span><span class="free">b</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> group3.group_order_antisym<span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>
  
<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Real order is transitive.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> real_ord_transitive<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;lsq&gt;</span></span><span class="free">b</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">\&lt;lsq&gt;</span></span><span class="free">c</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;lsq&gt;</span></span><span class="free">c</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span>
    <span class="quoted"><span class="quoted">"group3<span class="main">(</span>RealNumbers<span class="main">,</span>RealAddition<span class="main">,</span>OrderOnReals<span class="main">)</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">⟩</span> <span class="main">∈</span> OrderOnReals"</span></span>  <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="free">b</span><span class="main">,</span><span class="free">c</span><span class="main">⟩</span> <span class="main">∈</span> OrderOnReals"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_2_L10 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="free">a</span><span class="main">,</span><span class="free">c</span><span class="main">⟩</span> <span class="main">∈</span> OrderOnReals"</span></span> 
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> group3.Group_order_transitive<span class="main">)</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;lsq&gt;</span></span><span class="free">c</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹We can multiply both sides of an inequality 
  by a nonnegative real number.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_2_L14<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;lsq&gt;</span></span><span class="free">b</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟬</span></span><span class="main"><span class="free">\&lt;lsq&gt;</span></span><span class="free">c</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span>"</span></span>  
  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">a</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms Real_ZF_1_2_L10 ring1.OrdRing_ZF_1_L9
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹A special case of <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>Real_ZF_1_2_L14›</span></span></span></span>: we can multiply
  an inequality by a real number.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_2_L14A<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;lsq&gt;</span></span><span class="free">b</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">∈</span><span class="main"><span class="free">ℝ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">a</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms Real_ZF_1_2_L10 ring1.OrdRing_ZF_1_L9A
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹In the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>real1›</span></span></span></span> context notation $a\leq b$ 
  implies that $a$ and $b$ are real numbers.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_2_L15<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;lsq&gt;</span></span><span class="free">b</span>"</span></span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms Real_ZF_1_2_L10 group3.OrderedGroup_ZF_1_L4
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹$a\leq b$ implies that $0 \leq b -a$.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_2_L16<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;lsq&gt;</span></span><span class="free">b</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟬</span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">a</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms Real_ZF_1_2_L10 group3.OrderedGroup_ZF_1_L12A
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹A sum of nonnegative elements is nonnegative.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_2_L17<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟬</span></span><span class="main"><span class="free">\&lt;lsq&gt;</span></span><span class="free">a</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟬</span></span><span class="main"><span class="free">\&lt;lsq&gt;</span></span><span class="free">b</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟬</span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">a</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">b</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms Real_ZF_1_2_L10 group3.OrderedGroup_ZF_1_L12
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹We can add sides of two inequalities›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_2_L18<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;lsq&gt;</span></span><span class="free">b</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main"><span class="free">\&lt;lsq&gt;</span></span><span class="free">d</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">c</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">d</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms Real_ZF_1_2_L10 group3.OrderedGroup_ZF_1_L5B
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The order on real is reflexive.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> real_ord_refl<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;lsq&gt;</span></span><span class="free">a</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms Real_ZF_1_2_L10 group3.OrderedGroup_ZF_1_L3
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹We can add a real number to both sides of an inequality.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> add_num_to_ineq<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;lsq&gt;</span></span><span class="free">b</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">c</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">c</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms Real_ZF_1_2_L10 IsAnOrdGroup_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹We can put a number on the other side of an inequality,
  changing its sign.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_2_L19<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">c</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">a</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">b</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">b</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">a</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms  Real_ZF_1_2_L10 group3.OrderedGroup_ZF_1_L9C
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹What happens when one real number is not greater or equal than another?›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_2_L20<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="main">¬</span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">\&lt;lsq&gt;</span></span><span class="free">b</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">b</span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">a</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword1"><span class="command">have</span></span> I<span class="main">:</span>
    <span class="quoted"><span class="quoted">"group3<span class="main">(</span><span class="main"><span class="free">ℝ</span></span><span class="main">,</span>RealAddition<span class="main">,</span>OrderOnReals<span class="main">)</span>"</span></span>
    <span class="quoted"><span class="quoted">"OrderOnReals <span class="keyword1">{is</span> <span class="keyword1">total</span> <span class="keyword1">on}</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="main">¬</span><span class="main">(</span><span class="main">⟨</span><span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">⟩</span> <span class="main">∈</span> OrderOnReals<span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_2_L10 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="free">b</span><span class="main">,</span><span class="free">a</span><span class="main">⟩</span> <span class="main">∈</span> OrderOnReals"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> group3.OrderedGroup_ZF_1_L8<span class="main">)</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">b</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">a</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> I <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">≠</span><span class="free">b</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> group3.OrderedGroup_ZF_1_L8<span class="main">)</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">b</span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">a</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>
 
<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹We can put a number on the other side of an inequality,
  changing its sign, version with a minus.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_2_L21<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">c</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">a</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">b</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">b</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">a</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms Real_ZF_1_2_L10 group3.OrderedGroup_ZF_1_L5J
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The order on reals is a relation on reals.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_2_L22<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"OrderOnReals <span class="main">⊆</span> <span class="main"><span class="free">ℝ</span></span><span class="main">×</span><span class="main"><span class="free">ℝ</span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_2_L10 IsAnOrdGroup_def 
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹A set that is bounded above in the sense defined by order 
  on reals is a subset of real numbers.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_2_L23<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"IsBoundedAbove<span class="main">(</span><span class="free">A</span><span class="main">,</span>OrderOnReals<span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span> <span class="main">⊆</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> A1 Real_ZF_1_2_L22 Order_ZF_3_L1A
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span> <span class="comment1">(* A1 has to be here *)</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Properties of the maximum of three real numbers.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_2_L24<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span>
  <span class="quoted"><span class="quoted">"Maximum<span class="main">(</span>OrderOnReals<span class="main">,</span><span class="main">{</span><span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">,</span><span class="free">c</span><span class="main">}</span><span class="main">)</span> <span class="main">∈</span> <span class="main">{</span><span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">,</span><span class="free">c</span><span class="main">}</span>"</span></span>
  <span class="quoted"><span class="quoted">"Maximum<span class="main">(</span>OrderOnReals<span class="main">,</span><span class="main">{</span><span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">,</span><span class="free">c</span><span class="main">}</span><span class="main">)</span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> Maximum<span class="main">(</span>OrderOnReals<span class="main">,</span><span class="main">{</span><span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">,</span><span class="free">c</span><span class="main">}</span><span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">b</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> Maximum<span class="main">(</span>OrderOnReals<span class="main">,</span><span class="main">{</span><span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">,</span><span class="free">c</span><span class="main">}</span><span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">c</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> Maximum<span class="main">(</span>OrderOnReals<span class="main">,</span><span class="main">{</span><span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">,</span><span class="free">c</span><span class="main">}</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IsLinOrder<span class="main">(</span><span class="main"><span class="free">ℝ</span></span><span class="main">,</span>OrderOnReals<span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_2_L10 group3.group_ord_total_is_lin
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword3"><span class="command">show</span></span> 
    <span class="quoted"><span class="quoted">"Maximum<span class="main">(</span>OrderOnReals<span class="main">,</span><span class="main">{</span><span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">,</span><span class="free">c</span><span class="main">}</span><span class="main">)</span> <span class="main">∈</span> <span class="main">{</span><span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">,</span><span class="free">c</span><span class="main">}</span>"</span></span>
    <span class="quoted"><span class="quoted">"Maximum<span class="main">(</span>OrderOnReals<span class="main">,</span><span class="main">{</span><span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">,</span><span class="free">c</span><span class="main">}</span><span class="main">)</span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> Maximum<span class="main">(</span>OrderOnReals<span class="main">,</span><span class="main">{</span><span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">,</span><span class="free">c</span><span class="main">}</span><span class="main">)</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">b</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> Maximum<span class="main">(</span>OrderOnReals<span class="main">,</span><span class="main">{</span><span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">,</span><span class="free">c</span><span class="main">}</span><span class="main">)</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">c</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> Maximum<span class="main">(</span>OrderOnReals<span class="main">,</span><span class="main">{</span><span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">,</span><span class="free">c</span><span class="main">}</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Finite_ZF_1_L2A <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹A form of transitivity for the order on reals.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> real_strict_ord_transit<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;lsq&gt;</span></span><span class="free">b</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">\&lt;ls&gt;</span></span><span class="free">c</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;ls&gt;</span></span><span class="free">c</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 A2 <span class="keyword1"><span class="command">have</span></span> I<span class="main">:</span>
    <span class="quoted"><span class="quoted">"group3<span class="main">(</span><span class="main"><span class="free">ℝ</span></span><span class="main">,</span>RealAddition<span class="main">,</span>OrderOnReals<span class="main">)</span>"</span></span>  
    <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">⟩</span> <span class="main">∈</span> OrderOnReals"</span></span>  <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="free">b</span><span class="main">,</span><span class="free">c</span><span class="main">⟩</span> <span class="main">∈</span> OrderOnReals <span class="main">∧</span> <span class="free">b</span><span class="main">≠</span><span class="free">c</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_2_L10 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="free">a</span><span class="main">,</span><span class="free">c</span><span class="main">⟩</span> <span class="main">∈</span> OrderOnReals <span class="main">∧</span> <span class="free">a</span><span class="main">≠</span><span class="free">c</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> group3.group_strict_ord_transit<span class="main">)</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;ls&gt;</span></span><span class="free">c</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹We can multiply a right hand side of an inequality between
  positive real numbers by a number that is greater than one.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_2_L25<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">b</span> <span class="main">∈</span> <span class="main"><span class="free">ℝ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;lsq&gt;</span></span><span class="free">b</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟭</span></span><span class="main"><span class="free">\&lt;ls&gt;</span></span><span class="free">c</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;ls&gt;</span></span><span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms reals_are_ord_ring Real_ZF_1_2_L10 ring1.OrdRing_ZF_3_L17
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹We can move a real number to the other side of a strict inequality,
  changing its sign.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_2_L26<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">b</span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">c</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">c</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">b</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms Real_ZF_1_2_L10 group3.OrderedGroup_ZF_1_L12B
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Real order is translation invariant.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> real_ord_transl_inv<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;lsq&gt;</span></span><span class="free">b</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">a</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">c</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">b</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms Real_ZF_1_2_L10 IsAnOrdGroup_def
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹It is convenient to have the transitivity of the order on integers
  in the notation specific to <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>real1›</span></span></span></span> context. This may be confusing
  for the presentation readers: even though <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>\&lt;zlq&gt;›</span></span></span></span> and 
  <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>\&lt;lsq&gt;›</span></span></span></span> are printed in the same way, they are different symbols
  in the source. In the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>real1›</span></span></span></span> context the former denotes 
  inequality between integers, and the latter denotes inequality between real
  numbers (classes of slopes). The next lemma is about transitivity of the
  order relation on integers.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> int_order_transitive<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;zlq&gt;</span></span><span class="free">b</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">\&lt;zlq&gt;</span></span><span class="free">c</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;zlq&gt;</span></span><span class="free">c</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">⟩</span> <span class="main">∈</span> IntegerOrder"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="free">b</span><span class="main">,</span><span class="free">c</span><span class="main">⟩</span> <span class="main">∈</span> IntegerOrder"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="free">a</span><span class="main">,</span><span class="free">c</span><span class="main">⟩</span> <span class="main">∈</span> IntegerOrder"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> Int_ZF_2_L5<span class="main">)</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;zlq&gt;</span></span><span class="free">c</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹A property of nonempty subsets of real numbers that don't
  have a maximum: for any element we can find one that is (strictly) greater.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_2_L27<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">⊆</span><span class="main"><span class="free">ℝ</span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="main">¬</span>HasAmaximum<span class="main">(</span>OrderOnReals<span class="main">,</span><span class="free">A</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main">∈</span><span class="free">A</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">y</span><span class="main">∈</span><span class="free">A</span><span class="main">.</span> <span class="free">x</span><span class="main"><span class="free">\&lt;ls&gt;</span></span><span class="bound">y</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms Real_ZF_1_2_L10 group3.OrderedGroup_ZF_2_L2B
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The next lemma shows what happens when one real number 
  is not greater or equal than another.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_2_L28<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="main">¬</span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">\&lt;lsq&gt;</span></span><span class="free">b</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">\&lt;ls&gt;</span></span><span class="free">a</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword1"><span class="command">have</span></span>
    <span class="quoted"><span class="quoted">"group3<span class="main">(</span><span class="main"><span class="free">ℝ</span></span><span class="main">,</span>RealAddition<span class="main">,</span>OrderOnReals<span class="main">)</span>"</span></span>
    <span class="quoted"><span class="quoted">"OrderOnReals <span class="keyword1">{is</span> <span class="keyword1">total</span> <span class="keyword1">on}</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">⟩</span> <span class="main">∉</span> OrderOnReals"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_2_L10 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="free">b</span><span class="main">,</span><span class="free">a</span><span class="main">⟩</span> <span class="main">∈</span> OrderOnReals  <span class="main">∧</span> <span class="free">b</span><span class="main">≠</span><span class="free">a</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> group3.OrderedGroup_ZF_1_L8<span class="main">)</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">\&lt;ls&gt;</span></span><span class="free">a</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹If a real number is less than another, then the second one can not
  be less or equal that the first.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_2_L29<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;ls&gt;</span></span><span class="free">b</span>"</span></span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">¬</span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">\&lt;lsq&gt;</span></span><span class="free">a</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword1"><span class="command">have</span></span>
    <span class="quoted"><span class="quoted">"group3<span class="main">(</span><span class="main"><span class="free">ℝ</span></span><span class="main">,</span>RealAddition<span class="main">,</span>OrderOnReals<span class="main">)</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">⟩</span> <span class="main">∈</span> OrderOnReals"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">≠</span><span class="free">b</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_2_L10 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="free">b</span><span class="main">,</span><span class="free">a</span><span class="main">⟩</span> <span class="main">∉</span> OrderOnReals"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> group3.OrderedGroup_ZF_1_L8AA<span class="main">)</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main">¬</span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">\&lt;lsq&gt;</span></span><span class="free">a</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‹Inverting reals›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹In this section we tackle the issue of existence of (multiplicative) 
  inverses of real numbers and show that real numbers form an 
  ordered field. We also restate here some facts specific to ordered fields
  that we need for the construction. The actual proofs of most of these facts
  can be found in <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>Field_ZF.thy›</span></span></span></span> and <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>OrderedField_ZF.thy›</span></span></span></span>›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹We rewrite the theorem from <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>Int_ZF_2.thy›</span></span></span></span> that shows
  that for every positive slope we can find one that is almost equal and
  has an inverse.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> pos_slopes_have_inv<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">g</span><span class="main">∈</span><span class="keyword1"><span class="free">𝒮</span></span><span class="main">.</span> <span class="free">f</span><span class="main"><span class="free">∼</span></span><span class="bound">g</span> <span class="main">∧</span> <span class="main">(</span><span class="main">∃</span><span class="bound">h</span><span class="main">∈</span><span class="keyword1"><span class="free">𝒮</span></span><span class="main">.</span> <span class="bound">g</span><span class="main"><span class="free">∘</span></span><span class="bound">h</span> <span class="main"><span class="free">∼</span></span> id<span class="main">(</span>int<span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms PositiveSlopes_def Slopes_def PositiveIntegers_def
    int1.pos_slope_has_inv SlopeOp1_def SlopeOp2_def 
    BoundedIntMaps_def SlopeEquivalenceRel_def
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The set of real numbers we are constructing is an ordered field.›</span></span>

<span class="keyword1"><span class="command">theorem</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> reals_are_ord_field<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"IsAnOrdField<span class="main">(</span>RealNumbers<span class="main">,</span>RealAddition<span class="main">,</span>RealMultiplication<span class="main">,</span>OrderOnReals<span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?R</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"RealNumbers"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?A</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"RealAddition"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?M</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"RealMultiplication"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?r</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"OrderOnReals"</span></span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"ring1<span class="main">(</span><span class="var">?R</span><span class="main">,</span><span class="var">?A</span><span class="main">,</span><span class="var">?M</span><span class="main">,</span><span class="var">?r</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟬</span></span> <span class="main">≠</span> <span class="main"><span class="free">𝟭</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> reals_are_ord_ring OrdRing_ZF_1_L2 real_zero_not_one
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?M</span> <span class="keyword1">{is</span> <span class="keyword1">commutative</span> <span class="keyword1">on}</span> <span class="var">?R</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> real_mult_commutative <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span>
    <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">a</span><span class="main">∈</span>PositiveSet<span class="main">(</span><span class="var">?R</span><span class="main">,</span><span class="var">?A</span><span class="main">,</span><span class="var">?r</span><span class="main">)</span><span class="main">.</span> <span class="main">∃</span><span class="bound">b</span><span class="main">∈</span><span class="var">?R</span><span class="main">.</span> <span class="bound">a</span><span class="main"><span class="free">⋅</span></span><span class="bound">b</span> <span class="main">=</span> <span class="main"><span class="free">𝟭</span></span>"</span></span>
  <span class="keyword1"><span class="command">proof</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">a</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">a</span> <span class="main">∈</span> PositiveSet<span class="main">(</span><span class="var">?R</span><span class="main">,</span><span class="var">?A</span><span class="main">,</span><span class="var">?r</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">f</span></span> <span class="keyword2"><span class="keyword">where</span></span> I<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">∈</span><span class="keyword1"><span class="free">𝒮<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> II<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">a</span> <span class="main">=</span> <span class="main"><span class="free">[</span></span><span class="skolem">f</span><span class="main"><span class="free">]</span></span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> reals_are_ord_ring Real_ZF_1_2_L2 
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">g</span><span class="main">∈</span><span class="keyword1"><span class="free">𝒮</span></span><span class="main">.</span> <span class="skolem">f</span><span class="main"><span class="free">∼</span></span><span class="bound">g</span> <span class="main">∧</span> <span class="main">(</span><span class="main">∃</span><span class="bound">h</span><span class="main">∈</span><span class="keyword1"><span class="free">𝒮</span></span><span class="main">.</span> <span class="bound">g</span><span class="main"><span class="free">∘</span></span><span class="bound">h</span> <span class="main"><span class="free">∼</span></span> id<span class="main">(</span>int<span class="main">)</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> pos_slopes_have_inv <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">g</span></span> <span class="keyword2"><span class="keyword">where</span></span> 
      III<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">g</span><span class="main">∈</span><span class="keyword1"><span class="free">𝒮</span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> IV<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main"><span class="free">∼</span></span><span class="skolem">g</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> V<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">h</span><span class="main">∈</span><span class="keyword1"><span class="free">𝒮</span></span><span class="main">.</span> <span class="skolem">g</span><span class="main"><span class="free">∘</span></span><span class="bound">h</span> <span class="main"><span class="free">∼</span></span> id<span class="main">(</span>int<span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">from</span></span> V <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">h</span></span> <span class="keyword2"><span class="keyword">where</span></span> VII<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">h</span><span class="main">∈</span><span class="keyword1"><span class="free">𝒮</span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> VIII<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">g</span><span class="main"><span class="free">∘</span></span><span class="skolem">h</span> <span class="main"><span class="free">∼</span></span> id<span class="main">(</span>int<span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">from</span></span> I III IV <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">[</span></span><span class="skolem">f</span><span class="main"><span class="free">]</span></span> <span class="main">=</span> <span class="main"><span class="free">[</span></span><span class="skolem">g</span><span class="main"><span class="free">]</span></span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_2_L1 Slopes_def Real_ZF_1_1_L5
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> II III VII VIII <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">a</span><span class="main"><span class="free">⋅</span></span><span class="main"><span class="free">[</span></span><span class="skolem">h</span><span class="main"><span class="free">]</span></span> <span class="main">=</span> <span class="main"><span class="free">𝟭</span></span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_1_L4  Real_ZF_1_1_L5A real_one_cl_identity
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">with</span></span> VII <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">b</span><span class="main">∈</span><span class="var">?R</span><span class="main">.</span> <span class="skolem">a</span><span class="main"><span class="free">⋅</span></span><span class="bound">b</span> <span class="main">=</span> <span class="main"><span class="free">𝟭</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_1_L3
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> ring1.OrdField_ZF_1_L4
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Reals form a field.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> reals_are_field<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"IsAfield<span class="main">(</span>RealNumbers<span class="main">,</span>RealAddition<span class="main">,</span>RealMultiplication<span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> real1.reals_are_ord_field OrdField_ZF_1_L1A
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Theorem proven in <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>field0›</span></span></span></span> and <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>field1›</span></span></span></span> contexts 
  are valid as applied to real numbers.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> field_cntxts_ok<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"field0<span class="main">(</span>RealNumbers<span class="main">,</span>RealAddition<span class="main">,</span>RealMultiplication<span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"field1<span class="main">(</span>RealNumbers<span class="main">,</span>RealAddition<span class="main">,</span>RealMultiplication<span class="main">,</span>OrderOnReals<span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> reals_are_field real1.reals_are_ord_field
     field_field0 OrdField_ZF_1_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹If $a$ is positive, then $a^{-1}$ is also positive.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_3_L1<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">∈</span> <span class="main"><span class="free">ℝ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span> 
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">¯</span></span> <span class="main">∈</span> <span class="main"><span class="free">ℝ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>   <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">¯</span></span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms field_cntxts_ok field1.OrdField_ZF_1_L8 PositiveSet_def
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹A technical fact about multiplying strict inequality by the inverse
  of one of the sides.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_3_L2<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">∈</span> <span class="main"><span class="free">ℝ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">¯</span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">b</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟭</span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">a</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms field_cntxts_ok field1.OrdField_ZF_2_L2
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹If $a$ is smaller than $b$, then $(b-a)^{-1}$ is positive.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_3_L3<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;ls&gt;</span></span><span class="free">b</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">b</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">a</span><span class="main">)</span><span class="main"><span class="free">¯</span></span> <span class="main">∈</span> <span class="main"><span class="free">ℝ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span> 
  <span class="keyword1"><span class="command">using</span></span> assms field_cntxts_ok field1.OrdField_ZF_1_L9
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹We can put a positive factor on the other side of a strict
  inequality, changing it to its inverse.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_3_L4<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="main"><span class="free">ℝ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">c</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span><span class="main"><span class="free">¯</span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms field_cntxts_ok field1.OrdField_ZF_2_L6
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹We can put a positive factor on the other side of a strict
  inequality, changing it to its inverse, version with the product
  initially on the right hand side.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_3_L4A<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">∈</span><span class="main"><span class="free">ℝ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main"><span class="free">¯</span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">b</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms field_cntxts_ok field1.OrdField_ZF_2_L6A
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹We can put a positive factor on the other side of an inequality, 
  changing it to its inverse, version with the product
  initially on the right hand side.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_3_L4B<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">∈</span><span class="main"><span class="free">ℝ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main"><span class="free">¯</span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">b</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms field_cntxts_ok field1.OrdField_ZF_2_L5A
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹We can put a positive factor on the other side of an inequality, 
  changing it to its inverse, version with the product
  initially on the left hand side.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_3_L4C<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="main"><span class="free">ℝ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">c</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span><span class="main"><span class="free">¯</span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms field_cntxts_ok field1.OrdField_ZF_2_L5
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹A technical lemma about solving a strict inequality with three
  real numbers and inverse of a difference.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_3_L5<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;ls&gt;</span></span><span class="free">b</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">b</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">a</span><span class="main">)</span><span class="main"><span class="free">¯</span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">c</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟭</span></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms field_cntxts_ok field1.OrdField_ZF_2_L9
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹We can multiply an inequality by the inverse of a positive number.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_3_L6<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;lsq&gt;</span></span><span class="free">b</span>"</span></span>  <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">∈</span><span class="main"><span class="free">ℝ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main"><span class="free">¯</span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main"><span class="free">¯</span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms field_cntxts_ok field1.OrdField_ZF_2_L3
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹We can multiply a strict inequality by a positive number or its inverse.
›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_3_L7<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;ls&gt;</span></span><span class="free">b</span>"</span></span>  <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">∈</span><span class="main"><span class="free">ℝ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span> <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">a</span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main"><span class="free">¯</span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main"><span class="free">¯</span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms field_cntxts_ok field1.OrdField_ZF_2_L4
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹An identity with three real numbers, inverse and cancelling.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_3_L8<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span><span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">≠</span><span class="main"><span class="free">𝟬</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span><span class="main"><span class="free">¯</span></span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms field_cntxts_ok field0.Field_ZF_2_L6
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‹Completeness›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹This goal of this section is to show that the order on real numbers
  is complete, that is every subset of reals that is bounded above 
  has a smallest upper bound.›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹If $m$ is an integer, then <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>m<span class="hidden">⇧</span><sup>R</sup>›</span></span></span></span> is a real number.
  Recall that in <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>real1›</span></span></span></span> context <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>m<span class="hidden">⇧</span><sup>R</sup>›</span></span></span></span> denotes the class
  of the slope $n\mapsto m\cdot n$.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> real_int_is_real<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">m</span> <span class="main">∈</span> int"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms int1.Int_ZF_2_5_L1 Real_ZF_1_1_L3 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The negative of the real embedding of an integer is the embedding
  of the negative of the integer.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_4_L1<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">m</span> <span class="main">∈</span> int"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;zm&gt;</span></span><span class="free">m</span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">=</span> <span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="main">(</span><span class="free">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms int1.Int_ZF_2_5_L3 int1.Int_ZF_2_5_L1 Real_ZF_1_1_L4A
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The embedding of sum of integers is the sum of embeddings.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_4_L1A<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">m</span> <span class="main">∈</span> int"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">k</span> <span class="main">∈</span> int"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">k</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">=</span> <span class="main">(</span><span class="main">(</span><span class="free">m</span><span class="main"><span class="free">\&lt;za&gt;</span></span><span class="free">k</span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms int1.Int_ZF_2_5_L1 SlopeOp1_def int1.Int_ZF_2_5_L3A 
    Real_ZF_1_1_L4 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The embedding of a difference of integers is the difference
  of embeddings.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_4_L1B<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">m</span> <span class="main">∈</span> int"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">k</span> <span class="main">∈</span> int"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="free">k</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">=</span> <span class="main">(</span><span class="free">m</span><span class="main"><span class="free">\&lt;zs&gt;</span></span><span class="free">k</span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;zm&gt;</span></span><span class="free">k</span><span class="main">)</span> <span class="main">∈</span> int"</span></span> <span class="keyword1"><span class="command">using</span></span> int0.Int_ZF_1_1_L4
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">m</span><span class="main"><span class="free">\&lt;zs&gt;</span></span><span class="free">k</span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">=</span> <span class="free">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;zm&gt;</span></span><span class="free">k</span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L1A <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="free">k</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">=</span> <span class="main">(</span><span class="free">m</span><span class="main"><span class="free">\&lt;zs&gt;</span></span><span class="free">k</span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The embedding of the product of integers is the product of embeddings.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_4_L1C<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">m</span> <span class="main">∈</span> int"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">k</span> <span class="main">∈</span> int"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">⋅</span></span> <span class="free">k</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">=</span> <span class="main">(</span><span class="free">m</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="free">k</span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms int1.Int_ZF_2_5_L1 SlopeOp2_def int1.Int_ZF_2_5_L3B
    Real_ZF_1_1_L4 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹For any real numbers there is an integer whose real version is
  greater or equal.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_4_L2<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">m</span><span class="main">∈</span>int<span class="main">.</span> <span class="free">a</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="bound">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">f</span></span> <span class="keyword2"><span class="keyword">where</span></span> I<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">∈</span><span class="keyword1"><span class="free">𝒮</span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> II<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">=</span> <span class="main"><span class="free">[</span></span><span class="skolem">f</span><span class="main"><span class="free">]</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_1_L3A <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">m</span><span class="main">∈</span>int<span class="main">.</span> <span class="main">∃</span><span class="bound">g</span><span class="main">∈</span><span class="keyword1"><span class="free">𝒮</span></span><span class="main">.</span>
    <span class="main">{</span><span class="main">⟨</span><span class="bound">n</span><span class="main">,</span><span class="bound">m</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="bound">n</span><span class="main">⟩</span> <span class="main">.</span> <span class="bound">n</span> <span class="main">∈</span> int<span class="main">}</span> <span class="main"><span class="free">∼</span></span> <span class="bound">g</span> <span class="main">∧</span> <span class="main">(</span><span class="skolem">f</span><span class="main"><span class="free">∼</span></span><span class="bound">g</span> <span class="main">∨</span> <span class="main">(</span><span class="bound">g</span> <span class="main"><span class="free">\&lt;fp&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;fm&gt;</span></span><span class="skolem">f</span><span class="main">)</span><span class="main">)</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> int1.Int_ZF_2_5_L2 Slopes_def SlopeOp1_def 
      BoundedIntMaps_def SlopeEquivalenceRel_def 
      PositiveIntegers_def PositiveSlopes_def
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">m</span></span> <span class="skolem"><span class="skolem">g</span></span> <span class="keyword2"><span class="keyword">where</span></span> III<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">m</span><span class="main">∈</span>int"</span></span> <span class="keyword2"><span class="keyword">and</span></span> IV<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">g</span><span class="main">∈</span><span class="keyword1"><span class="free">𝒮</span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span>
   <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="main">⟨</span><span class="bound">n</span><span class="main">,</span><span class="skolem">m</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="bound">n</span><span class="main">⟩</span> <span class="main">.</span> <span class="bound">n</span> <span class="main">∈</span> int<span class="main">}</span> <span class="main"><span class="free">∼</span></span> <span class="skolem">g</span> <span class="main">∧</span> <span class="main">(</span><span class="skolem">f</span><span class="main"><span class="free">∼</span></span><span class="skolem">g</span> <span class="main">∨</span> <span class="main">(</span><span class="skolem">g</span> <span class="main"><span class="free">\&lt;fp&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;fm&gt;</span></span><span class="skolem">f</span><span class="main">)</span><span class="main">)</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">=</span> <span class="main"><span class="free">[</span></span><span class="skolem">g</span><span class="main"><span class="free">]</span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span> <span class="main"><span class="free">∼</span></span> <span class="skolem">g</span> <span class="main">∨</span> <span class="main">(</span><span class="skolem">g</span> <span class="main"><span class="free">\&lt;fp&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;fm&gt;</span></span><span class="skolem">f</span><span class="main">)</span><span class="main">)</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_1_L5A <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> I II IV <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="skolem">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_2_L12
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> III <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">m</span><span class="main">∈</span>int<span class="main">.</span> <span class="free">a</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="bound">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹For any real numbers there is an integer whose real version (embedding) 
  is less or equal.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_4_L3<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="bound">m</span> <span class="main">∈</span> int<span class="main">.</span> <span class="bound">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">a</span><span class="main">}</span> <span class="main">≠</span> <span class="main">0</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">a</span><span class="main">)</span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_1_L8
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">m</span></span> <span class="keyword2"><span class="keyword">where</span></span> I<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">m</span><span class="main">∈</span>int"</span></span> <span class="keyword2"><span class="keyword">and</span></span> II<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">a</span><span class="main">)</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="skolem">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?k</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"GroupInv<span class="main">(</span>int<span class="main">,</span>IntegerAddition<span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="skolem">m</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">from</span></span> A1 I II <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?k</span> <span class="main">∈</span> int"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="var">?k</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">a</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_2_L13 Real_ZF_1_4_L1 int0.Int_ZF_1_1_L4
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Embeddings of two integers are equal only if the integers are equal.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_4_L4<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">m</span> <span class="main">∈</span> int"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">k</span> <span class="main">∈</span> int"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">=</span> <span class="free">k</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">m</span><span class="main">=</span><span class="free">k</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?r</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="main">⟨</span><span class="bound">n</span><span class="main">,</span> IntegerMultiplication <span class="main">`</span> <span class="main">⟨</span><span class="free">m</span><span class="main">,</span> <span class="bound">n</span><span class="main">⟩</span><span class="main">⟩</span> <span class="main">.</span> <span class="bound">n</span> <span class="main">∈</span> int<span class="main">}</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?s</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="main">⟨</span><span class="bound">n</span><span class="main">,</span> IntegerMultiplication <span class="main">`</span> <span class="main">⟨</span><span class="free">k</span><span class="main">,</span> <span class="bound">n</span><span class="main">⟩</span><span class="main">⟩</span> <span class="main">.</span> <span class="bound">n</span> <span class="main">∈</span> int<span class="main">}</span>"</span></span>
  <span class="keyword1"><span class="command">from</span></span> A1 A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?r</span> <span class="main"><span class="free">∼</span></span> <span class="var">?s</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> int1.Int_ZF_2_5_L1 AlmostHoms_def Real_ZF_1_1_L5
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"<span class="free">m</span> <span class="main">∈</span> int"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">k</span> <span class="main">∈</span> int"</span></span>
    <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="var">?r</span><span class="main">,</span><span class="var">?s</span><span class="main">⟩</span> <span class="main">∈</span> QuotientGroupRel<span class="main">(</span>AlmostHoms<span class="main">(</span>int<span class="main">,</span> IntegerAddition<span class="main">)</span><span class="main">,</span>
    AlHomOp1<span class="main">(</span>int<span class="main">,</span> IntegerAddition<span class="main">)</span><span class="main">,</span>FinRangeFunctions<span class="main">(</span>int<span class="main">,</span> int<span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> SlopeEquivalenceRel_def Slopes_def SlopeOp1_def 
      BoundedIntMaps_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">m</span><span class="main">=</span><span class="free">k</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> int1.Int_ZF_2_5_L6<span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The embedding of integers preserves the order.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_4_L5<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">m</span><span class="main"><span class="free">\&lt;zlq&gt;</span></span><span class="free">k</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">k</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?r</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="main">⟨</span><span class="bound">n</span><span class="main">,</span> <span class="free">m</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="bound">n</span><span class="main">⟩</span> <span class="main">.</span> <span class="bound">n</span> <span class="main">∈</span> int<span class="main">}</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?s</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="main">⟨</span><span class="bound">n</span><span class="main">,</span> <span class="free">k</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="bound">n</span><span class="main">⟩</span> <span class="main">.</span> <span class="bound">n</span> <span class="main">∈</span> int<span class="main">}</span>"</span></span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?r</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="var">?s</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> int0.Int_ZF_2_L1A int1.Int_ZF_2_5_L1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?r</span> <span class="main"><span class="free">∼</span></span> <span class="var">?s</span> <span class="main">∨</span> <span class="var">?s</span> <span class="main"><span class="free">\&lt;fp&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;fm&gt;</span></span><span class="var">?r</span><span class="main">)</span>  <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Slopes_def SlopeOp1_def BoundedIntMaps_def SlopeEquivalenceRel_def
      PositiveIntegers_def PositiveSlopes_def
      int1.Int_ZF_2_5_L4 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">k</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_2_L12
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The embedding of integers preserves the strict order.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_4_L5A<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">m</span><span class="main"><span class="free">\&lt;zlq&gt;</span></span><span class="free">k</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">m</span><span class="main">≠</span><span class="free">k</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">k</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">k</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L5
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> T<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">m</span> <span class="main">∈</span> int"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">k</span> <span class="main">∈</span> int"</span></span>
    <span class="keyword1"><span class="command">using</span></span> int0.Int_ZF_2_L1A <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">≠</span> <span class="free">k</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L4
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">k</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹For any real number there is a positive integer
  whose real version is (strictly) greater. 
  This is Lemma 14 i) in  \cite{Arthan2004}.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Arthan_Lemma14i<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">n</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">.</span> <span class="free">a</span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="bound">n</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">m</span></span> <span class="keyword2"><span class="keyword">where</span></span> I<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">m</span><span class="main">∈</span>int"</span></span> <span class="keyword2"><span class="keyword">and</span></span> II<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="skolem">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?n</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"GreaterOf<span class="main">(</span>IntegerOrder<span class="main">,</span><span class="keyword1"><span class="free">𝟭<span class="hidden">⇩</span><sub>Z</sub></span></span><span class="main">,</span><span class="skolem">m</span><span class="main">)</span> <span class="main"><span class="free">\&lt;za&gt;</span></span> <span class="keyword1"><span class="free">𝟭<span class="hidden">⇩</span><sub>Z</sub></span></span>"</span></span>
  <span class="keyword1"><span class="command">from</span></span> I <span class="keyword1"><span class="command">have</span></span> T<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="var">?n</span> <span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">m</span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span> <span class="var">?n</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="skolem">m</span><span class="main">≠</span><span class="var">?n</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> int0.Int_ZF_1_5_L7B <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> III<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="var">?n</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L5A <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> II <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="var">?n</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> real_strict_ord_transit<span class="main">)</span>
  <span class="keyword1"><span class="command">with</span></span> T <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹If one embedding is less or equal than another, then the integers
  are also less or equal.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_4_L6<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">k</span> <span class="main">∈</span> int"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">m</span> <span class="main">∈</span> int"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">k</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">m</span><span class="main"><span class="free">\&lt;zlq&gt;</span></span><span class="free">k</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">{</span></span> <span class="keyword3"><span class="command">assume</span></span> A3<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="free">m</span><span class="main">,</span><span class="free">k</span><span class="main">⟩</span> <span class="main">∉</span> IntegerOrder"</span></span>
    <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="free">k</span><span class="main">,</span><span class="free">m</span><span class="main">⟩</span> <span class="main">∈</span> IntegerOrder"</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> int0.Int_ZF_2_L19<span class="main">)</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">k</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L5
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">with</span></span> A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">=</span> <span class="free">k</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> real_ord_antisym<span class="main">)</span>
    <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">k</span> <span class="main">=</span> <span class="free">m</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L4
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 A3 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">k</span><span class="main">≠</span><span class="free">m</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> int0.Int_ZF_2_L19<span class="main">)</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted">False</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">m</span><span class="main"><span class="free">\&lt;zlq&gt;</span></span><span class="free">k</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>
    
<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The floor function is well defined and has expected properties.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_4_L7<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"IsBoundedAbove<span class="main">(</span><span class="main">{</span><span class="bound">m</span> <span class="main">∈</span> int<span class="main">.</span> <span class="bound">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">a</span><span class="main">}</span><span class="main">,</span>IntegerOrder<span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="bound">m</span> <span class="main">∈</span> int<span class="main">.</span> <span class="bound">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">a</span><span class="main">}</span> <span class="main">≠</span> <span class="main">0</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="free">a</span><span class="main"><span class="free">⌋</span></span> <span class="main">∈</span> int"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="free">a</span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">a</span>"</span></span>  
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?A</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="bound">m</span> <span class="main">∈</span> int<span class="main">.</span> <span class="bound">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">a</span><span class="main">}</span>"</span></span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">K</span></span> <span class="keyword2"><span class="keyword">where</span></span> I<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">K</span><span class="main">∈</span>int"</span></span> <span class="keyword2"><span class="keyword">and</span></span> II<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="main">(</span><span class="skolem">K</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">{</span></span> <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">n</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">n</span> <span class="main">∈</span> <span class="var">?A</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> III<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">n</span> <span class="main">∈</span> int"</span></span> <span class="keyword2"><span class="keyword">and</span></span> IV<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">n</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">a</span>"</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">from</span></span> IV II <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="skolem">n</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="main">(</span><span class="skolem">K</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> real_ord_transitive<span class="main">)</span>
    <span class="keyword1"><span class="command">with</span></span> I III <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">n</span><span class="main"><span class="free">\&lt;zlq&gt;</span></span><span class="skolem">K</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L6
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">n</span><span class="main">∈</span><span class="var">?A</span><span class="main">.</span> <span class="main">⟨</span><span class="bound">n</span><span class="main">,</span><span class="skolem">K</span><span class="main">⟩</span> <span class="main">∈</span> IntegerOrder"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"IsBoundedAbove<span class="main">(</span><span class="var">?A</span><span class="main">,</span>IntegerOrder<span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> Order_ZF_3_L10<span class="main">)</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="var">?A</span> <span class="main">≠</span> <span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L3
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Maximum<span class="main">(</span>IntegerOrder<span class="main">,</span><span class="var">?A</span><span class="main">)</span> <span class="main">∈</span> <span class="var">?A</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> int0.int_bounded_above_has_max<span class="main">)</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="free">a</span><span class="main"><span class="free">⌋</span></span> <span class="main">∈</span> int"</span></span>   <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="free">a</span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">a</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Every integer whose embedding is less or equal a real number $a$
  is less or equal than the floor of $a$.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_4_L8<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">m</span> <span class="main">∈</span> int"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">a</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">m</span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span> <span class="main"><span class="free">⌊</span></span><span class="free">a</span><span class="main"><span class="free">⌋</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?A</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="bound">m</span> <span class="main">∈</span> int<span class="main">.</span> <span class="bound">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">a</span><span class="main">}</span>"</span></span>
  <span class="keyword1"><span class="command">from</span></span> A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IsBoundedAbove<span class="main">(</span><span class="var">?A</span><span class="main">,</span>IntegerOrder<span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="var">?A</span><span class="main">≠</span><span class="main">0</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_2_L15 Real_ZF_1_4_L7 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">x</span><span class="main">∈</span><span class="var">?A</span><span class="main">.</span> <span class="main">⟨</span><span class="bound">x</span><span class="main">,</span>Maximum<span class="main">(</span>IntegerOrder<span class="main">,</span><span class="var">?A</span><span class="main">)</span><span class="main">⟩</span> <span class="main">∈</span> IntegerOrder"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> int0.int_bounded_above_has_max<span class="main">)</span>
  <span class="keyword1"><span class="command">with</span></span> A1 A2 <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">m</span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span> <span class="main"><span class="free">⌊</span></span><span class="free">a</span><span class="main"><span class="free">⌋</span></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Integer zero and one embed as real zero and one.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> int_0_1_are_real_zero_one<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="keyword1"><span class="free">𝟬<span class="hidden">⇩</span><sub>Z</sub></span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">=</span> <span class="main"><span class="free">𝟬</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="keyword1"><span class="free">𝟭<span class="hidden">⇩</span><sub>Z</sub></span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">=</span> <span class="main"><span class="free">𝟭</span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> int1.Int_ZF_2_5_L7 BoundedIntMaps_def 
    real_one_cl_identity real_zero_cl_bounded_map
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Integer two embeds as the real two.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> int_two_is_real_two<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="keyword1"><span class="free">𝟮<span class="hidden">⇩</span><sub>Z</sub></span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">=</span> <span class="main"><span class="free">𝟮</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="keyword1"><span class="free">𝟮<span class="hidden">⇩</span><sub>Z</sub></span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">=</span> <span class="keyword1"><span class="free">𝟭<span class="hidden">⇩</span><sub>Z</sub></span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="keyword1"><span class="free">𝟭<span class="hidden">⇩</span><sub>Z</sub></span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> int0.int_zero_one_are_int Real_ZF_1_4_L1A
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main"><span class="free">𝟮</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> int_0_1_are_real_zero_one
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">finally</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="keyword1"><span class="free">𝟮<span class="hidden">⇩</span><sub>Z</sub></span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">=</span> <span class="main"><span class="free">𝟮</span></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹A positive integer embeds as a positive (hence nonnegative) real.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> int_pos_is_real_pos<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">p</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟬</span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">∈</span> <span class="main"><span class="free">ℝ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> I<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">p</span> <span class="main">∈</span> int"</span></span>  <span class="quoted"><span class="quoted">"<span class="keyword1"><span class="free">𝟬<span class="hidden">⇩</span><sub>Z</sub></span></span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span> <span class="free">p</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="keyword1"><span class="free">𝟬<span class="hidden">⇩</span><sub>Z</sub></span></span> <span class="main">≠</span> <span class="free">p</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> PositiveSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="keyword1"><span class="free">𝟬<span class="hidden">⇩</span><sub>Z</sub></span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> real_int_is_real Real_ZF_1_4_L5 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟬</span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> int_0_1_are_real_zero_one <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟬</span></span> <span class="main">≠</span> <span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
    <span class="keyword1"><span class="command">{</span></span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟬</span></span> <span class="main">=</span> <span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
      <span class="keyword1"><span class="command">with</span></span> I <span class="keyword1"><span class="command">have</span></span> <span class="quoted">False</span> <span class="keyword1"><span class="command">using</span></span> int_0_1_are_real_zero_one 	
	int0.int_zero_one_are_int Real_ZF_1_4_L4 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟬</span></span> <span class="main">≠</span> <span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">∈</span> <span class="main"><span class="free">ℝ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> PositiveSet_def
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The ordered field of reals we are constructing is archimedean, i.e., 
  if $x,y$ are its elements with $y$ positive, then there is a positive
  integer $M$ such that $x$ is smaller than $M^R y$. This is Lemma 14 ii) in \cite{Arthan2004}.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Arthan_Lemma14ii<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">y</span> <span class="main">∈</span> <span class="main"><span class="free">ℝ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">M</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">.</span> <span class="free">x</span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="bound">M</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="free">y</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">C</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">.</span> <span class="free">x</span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="bound">C</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">D</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">.</span> <span class="free">y</span><span class="main"><span class="free">¯</span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="bound">D</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_3_L1 Arthan_Lemma14i <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">C</span></span> <span class="skolem"><span class="skolem">D</span></span> <span class="keyword2"><span class="keyword">where</span></span> 
    I<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">C</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> II<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="skolem">C</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span>
    III<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">D</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> IV<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">y</span><span class="main"><span class="free">¯</span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="skolem">D</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?M</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="skolem">C</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="skolem">D</span>"</span></span>
  <span class="keyword1"><span class="command">from</span></span> I III <span class="keyword1"><span class="command">have</span></span> 
    T<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="var">?M</span> <span class="main">∈</span> <span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="skolem">C</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="skolem">D</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> int0.pos_int_closed_mul_unfold PositiveSet_def real_int_is_real
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> A1 I III <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">C</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="skolem">D</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="free">y</span><span class="main">)</span> <span class="main">=</span> <span class="var">?M</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="free">y</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> PositiveSet_def Real_ZF_1_L6A Real_ZF_1_4_L1C
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 I II IV <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="skolem">C</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="skolem">D</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="free">y</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> int_pos_is_real_pos Real_ZF_1_3_L2 Real_ZF_1_2_L25
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="var">?M</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="free">y</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> T <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Taking the floor function preserves the order.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_4_L9<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;lsq&gt;</span></span><span class="free">b</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="free">a</span><span class="main"><span class="free">⌋</span></span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span> <span class="main"><span class="free">⌊</span></span><span class="free">b</span><span class="main"><span class="free">⌋</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> T<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_2_L15
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="free">a</span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">a</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;lsq&gt;</span></span><span class="free">b</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L7 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="free">a</span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">b</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> real_ord_transitive<span class="main">)</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> T <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="free">a</span><span class="main"><span class="free">⌋</span></span> <span class="main">∈</span> int"</span></span> <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L7
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
 <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="free">a</span><span class="main"><span class="free">⌋</span></span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span> <span class="main"><span class="free">⌊</span></span><span class="free">b</span><span class="main"><span class="free">⌋</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L8
   <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹If $S$ is bounded above and $p$ is a positive intereger, then
  $\Gamma(S,p)$ is well defined.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_4_L10<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"IsBoundedAbove<span class="main">(</span><span class="free">S</span><span class="main">,</span>OrderOnReals<span class="main">)</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">S</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">p</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"IsBoundedAbove<span class="main">(</span><span class="main">{</span><span class="main"><span class="free">⌊</span></span><span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="bound">x</span><span class="main"><span class="free">⌋</span></span><span class="main">.</span> <span class="bound">x</span><span class="main">∈</span><span class="free">S</span><span class="main">}</span><span class="main">,</span>IntegerOrder<span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="free">p</span><span class="main">)</span> <span class="main">∈</span> <span class="main">{</span><span class="main"><span class="free">⌊</span></span><span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="bound">x</span><span class="main"><span class="free">⌋</span></span><span class="main">.</span> <span class="bound">x</span><span class="main">∈</span><span class="free">S</span><span class="main">}</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="free">p</span><span class="main">)</span> <span class="main">∈</span> int"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?A</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="main"><span class="free">⌊</span></span><span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="bound">x</span><span class="main"><span class="free">⌋</span></span><span class="main">.</span> <span class="bound">x</span><span class="main">∈</span><span class="free">S</span><span class="main">}</span>"</span></span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">X</span></span> <span class="keyword2"><span class="keyword">where</span></span> I<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">x</span><span class="main">∈</span><span class="free">S</span><span class="main">.</span> <span class="bound">x</span><span class="main"><span class="free">\&lt;lsq&gt;</span></span><span class="skolem">X</span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> IsBoundedAbove_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">{</span></span> <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">m</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">m</span> <span class="main">∈</span> <span class="var">?A</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">x</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="free">S</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> II<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">m</span> <span class="main">=</span> <span class="main"><span class="free">⌊</span></span><span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="skolem">x</span><span class="main"><span class="free">⌋</span></span>"</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> I <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main"><span class="free">\&lt;lsq&gt;</span></span><span class="skolem">X</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟬</span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> int_pos_is_real_pos
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="skolem">x</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="skolem">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_2_L14
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">with</span></span> II <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">m</span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span> <span class="main"><span class="free">⌊</span></span><span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="skolem">X</span><span class="main"><span class="free">⌋</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L9
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">m</span><span class="main">∈</span><span class="var">?A</span><span class="main">.</span> <span class="main">⟨</span><span class="bound">m</span><span class="main">,</span><span class="main"><span class="free">⌊</span></span><span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="skolem">X</span><span class="main"><span class="free">⌋</span></span><span class="main">⟩</span> <span class="main">∈</span> IntegerOrder"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> II<span class="main">:</span> <span class="quoted"><span class="quoted">"IsBoundedAbove<span class="main">(</span><span class="var">?A</span><span class="main">,</span>IntegerOrder<span class="main">)</span>"</span></span> 
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> Order_ZF_3_L10<span class="main">)</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> III<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="var">?A</span> <span class="main">≠</span> <span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Maximum<span class="main">(</span>IntegerOrder<span class="main">,</span><span class="var">?A</span><span class="main">)</span> <span class="main">∈</span> <span class="var">?A</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> int0.int_bounded_above_has_max<span class="main">)</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> II III <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Maximum<span class="main">(</span>IntegerOrder<span class="main">,</span><span class="var">?A</span><span class="main">)</span> <span class="main">∈</span> int"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> int0.int_bounded_above_has_max<span class="main">)</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="free">p</span><span class="main">)</span> <span class="main">∈</span> <span class="main">{</span><span class="main"><span class="free">⌊</span></span><span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="bound">x</span><span class="main"><span class="free">⌋</span></span><span class="main">.</span> <span class="bound">x</span><span class="main">∈</span><span class="free">S</span><span class="main">}</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="free">p</span><span class="main">)</span> <span class="main">∈</span> int"</span></span> 
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹If $p$ is a positive integer, then
  for all $s\in S$ the floor of $p\cdot x$ is not greater that $\Gamma(S,p)$.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_4_L11<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"IsBoundedAbove<span class="main">(</span><span class="free">S</span><span class="main">,</span>OrderOnReals<span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main">∈</span><span class="free">S</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A3<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">p</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="free">x</span><span class="main"><span class="free">⌋</span></span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span> <span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="free">p</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?A</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="main"><span class="free">⌊</span></span><span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="bound">x</span><span class="main"><span class="free">⌋</span></span><span class="main">.</span> <span class="bound">x</span><span class="main">∈</span><span class="free">S</span><span class="main">}</span>"</span></span>
  <span class="keyword1"><span class="command">from</span></span> A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">S</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> A1 A3 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IsBoundedAbove<span class="main">(</span><span class="var">?A</span><span class="main">,</span>IntegerOrder<span class="main">)</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="var">?A</span> <span class="main">≠</span> <span class="main">0</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span>  Real_ZF_1_4_L10 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">x</span><span class="main">∈</span><span class="var">?A</span><span class="main">.</span> <span class="main">⟨</span><span class="bound">x</span><span class="main">,</span>Maximum<span class="main">(</span>IntegerOrder<span class="main">,</span><span class="var">?A</span><span class="main">)</span><span class="main">⟩</span> <span class="main">∈</span> IntegerOrder"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> int0.int_bounded_above_has_max<span class="main">)</span>
  <span class="keyword1"><span class="command">with</span></span> A2 <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="free">x</span><span class="main"><span class="free">⌋</span></span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span> <span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="free">p</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The candidate for supremum is an integer mapping with values 
  given by $\Gamma$.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_4_L12<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"IsBoundedAbove<span class="main">(</span><span class="free">S</span><span class="main">,</span>OrderOnReals<span class="main">)</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">S</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> 
  A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">g</span> <span class="main">=</span> <span class="main">{</span><span class="main">⟨</span><span class="bound">p</span><span class="main">,</span><span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="bound">p</span><span class="main">)</span><span class="main">⟩</span><span class="main">.</span> <span class="bound">p</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">}</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">g</span> <span class="main">:</span> <span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">→</span>int"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">n</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">.</span> <span class="free">g</span><span class="main">`</span><span class="main">(</span><span class="bound">n</span><span class="main">)</span> <span class="main">=</span> <span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="bound">n</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">n</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">.</span> <span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="bound">n</span><span class="main">)</span> <span class="main">∈</span> int"</span></span> <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L10
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> A2 <span class="keyword3"><span class="command">show</span></span> I<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">g</span> <span class="main">:</span> <span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">→</span>int"</span></span> <span class="keyword1"><span class="command">using</span></span> ZF_fun_from_total <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">{</span></span> <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">n</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">n</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>
    <span class="keyword1"><span class="command">with</span></span> A2 I <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">g</span><span class="main">`</span><span class="main">(</span><span class="skolem">n</span><span class="main">)</span> <span class="main">=</span> <span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="skolem">n</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> ZF_fun_from_tot_val
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">n</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">.</span> <span class="free">g</span><span class="main">`</span><span class="main">(</span><span class="bound">n</span><span class="main">)</span> <span class="main">=</span> <span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="bound">n</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Every integer is equal to the floor of its embedding.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_4_L14<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">m</span> <span class="main">∈</span> int"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="free">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⌋</span></span> <span class="main">=</span> <span class="free">m</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?A</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="bound">n</span> <span class="main">∈</span> int<span class="main">.</span> <span class="bound">n</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">}</span>"</span></span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"antisym<span class="main">(</span>IntegerOrder<span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> int0.Int_ZF_2_L4
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>  
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">m</span> <span class="main">∈</span> <span class="var">?A</span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> real_int_is_real real_ord_refl <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">n</span> <span class="main">∈</span> <span class="var">?A</span><span class="main">.</span> <span class="main">⟨</span><span class="bound">n</span><span class="main">,</span><span class="free">m</span><span class="main">⟩</span> <span class="main">∈</span> IntegerOrder"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L6 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="free">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⌋</span></span> <span class="main">=</span> <span class="free">m</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Order_ZF_4_L14
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Floor of (real) zero is (integer) zero.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> floor_01_is_zero_one<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="main"><span class="free">𝟬</span></span><span class="main"><span class="free">⌋</span></span> <span class="main">=</span> <span class="keyword1"><span class="free">𝟬<span class="hidden">⇩</span><sub>Z</sub></span></span>"</span></span>   <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="main"><span class="free">𝟭</span></span><span class="main"><span class="free">⌋</span></span> <span class="main">=</span> <span class="keyword1"><span class="free">𝟭<span class="hidden">⇩</span><sub>Z</sub></span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="main">(</span><span class="keyword1"><span class="free">𝟬<span class="hidden">⇩</span><sub>Z</sub></span></span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⌋</span></span> <span class="main">=</span> <span class="keyword1"><span class="free">𝟬<span class="hidden">⇩</span><sub>Z</sub></span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="main">(</span><span class="keyword1"><span class="free">𝟭<span class="hidden">⇩</span><sub>Z</sub></span></span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⌋</span></span> <span class="main">=</span> <span class="keyword1"><span class="free">𝟭<span class="hidden">⇩</span><sub>Z</sub></span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> int0.int_zero_one_are_int Real_ZF_1_4_L14
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="main"><span class="free">𝟬</span></span><span class="main"><span class="free">⌋</span></span> <span class="main">=</span> <span class="keyword1"><span class="free">𝟬<span class="hidden">⇩</span><sub>Z</sub></span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span>  <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="main"><span class="free">𝟭</span></span><span class="main"><span class="free">⌋</span></span> <span class="main">=</span> <span class="keyword1"><span class="free">𝟭<span class="hidden">⇩</span><sub>Z</sub></span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> int_0_1_are_real_zero_one
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Floor of (real) two is (integer) two.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> floor_2_is_two<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="main"><span class="free">𝟮</span></span><span class="main"><span class="free">⌋</span></span> <span class="main">=</span> <span class="keyword1"><span class="free">𝟮<span class="hidden">⇩</span><sub>Z</sub></span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="main">(</span><span class="keyword1"><span class="free">𝟮<span class="hidden">⇩</span><sub>Z</sub></span></span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⌋</span></span> <span class="main">=</span> <span class="keyword1"><span class="free">𝟮<span class="hidden">⇩</span><sub>Z</sub></span></span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> int0.int_two_three_are_int Real_ZF_1_4_L14 
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="main"><span class="free">𝟮</span></span><span class="main"><span class="free">⌋</span></span> <span class="main">=</span> <span class="keyword1"><span class="free">𝟮<span class="hidden">⇩</span><sub>Z</sub></span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> int_two_is_real_two
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Floor of a product of embeddings of integers is equal to the
  product of integers.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_4_L14A<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">m</span> <span class="main">∈</span> int"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">k</span> <span class="main">∈</span> int"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span>  <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="free">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="free">k</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⌋</span></span> <span class="main">=</span> <span class="free">m</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="free">k</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> T<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">m</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="free">k</span> <span class="main">∈</span> int"</span></span>
    <span class="keyword1"><span class="command">using</span></span> int0.Int_ZF_1_1_L5 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="free">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="free">k</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⌋</span></span> <span class="main">=</span> <span class="main"><span class="free">⌊</span></span><span class="main">(</span><span class="free">m</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="free">k</span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⌋</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L1C
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> T <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="free">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="free">k</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⌋</span></span> <span class="main">=</span> <span class="free">m</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="free">k</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L14
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Floor of the sum of a number and the embedding of an
  integer is the floor of the number plus the integer.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_4_L15<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">p</span> <span class="main">∈</span> int"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="free">x</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⌋</span></span> <span class="main">=</span> <span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">⌋</span></span> <span class="main"><span class="free">\&lt;za&gt;</span></span> <span class="free">p</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?A</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="bound">n</span> <span class="main">∈</span> int<span class="main">.</span> <span class="bound">n</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">x</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">}</span>"</span></span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"antisym<span class="main">(</span>IntegerOrder<span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> int0.Int_ZF_2_L4
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">⌋</span></span> <span class="main"><span class="free">\&lt;za&gt;</span></span> <span class="free">p</span> <span class="main">∈</span> <span class="var">?A</span>"</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
    <span class="keyword1"><span class="command">from</span></span> A1 A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">x</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L7 real_int_is_real <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">x</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> add_num_to_ineq <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">⌋</span></span> <span class="main"><span class="free">\&lt;za&gt;</span></span> <span class="free">p</span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">=</span> <span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L7 Real_ZF_1_4_L1A <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">⌋</span></span> <span class="main"><span class="free">\&lt;za&gt;</span></span> <span class="free">p</span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">x</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">⌋</span></span> <span class="main"><span class="free">\&lt;za&gt;</span></span> <span class="free">p</span> <span class="main">∈</span> int"</span></span>
      <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L7 int0.Int_ZF_1_1_L5 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">⌋</span></span> <span class="main"><span class="free">\&lt;za&gt;</span></span> <span class="free">p</span> <span class="main">∈</span> <span class="var">?A</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">n</span><span class="main">∈</span><span class="var">?A</span><span class="main">.</span> <span class="bound">n</span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span> <span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">⌋</span></span> <span class="main"><span class="free">\&lt;za&gt;</span></span> <span class="free">p</span>"</span></span>
  <span class="keyword1"><span class="command">proof</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">n</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">n</span><span class="main">∈</span><span class="var">?A</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> I<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">n</span> <span class="main">∈</span> int"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">n</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">x</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> A1 A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">n</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">x</span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> real_int_is_real Real_ZF_1_2_L19
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">with</span></span> A2 I <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="main">(</span><span class="skolem">n</span><span class="main"><span class="free">\&lt;zs&gt;</span></span><span class="free">p</span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⌋</span></span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span> <span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">⌋</span></span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L1B Real_ZF_1_4_L9
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">from</span></span> A2 I <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">n</span><span class="main"><span class="free">\&lt;zs&gt;</span></span><span class="free">p</span> <span class="main">∈</span> int"</span></span>
      <span class="keyword1"><span class="command">using</span></span> int0.Int_ZF_1_1_L5 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="main">(</span><span class="skolem">n</span><span class="main"><span class="free">\&lt;zs&gt;</span></span><span class="free">p</span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⌋</span></span> <span class="main">=</span> <span class="skolem">n</span><span class="main"><span class="free">\&lt;zs&gt;</span></span><span class="free">p</span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L14 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">n</span><span class="main"><span class="free">\&lt;zs&gt;</span></span><span class="free">p</span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span> <span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">⌋</span></span>"</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">with</span></span> A2 I <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">n</span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span> <span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">⌋</span></span> <span class="main"><span class="free">\&lt;za&gt;</span></span> <span class="free">p</span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> int0.Int_ZF_2_L9C <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="free">x</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⌋</span></span> <span class="main">=</span> <span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">⌋</span></span> <span class="main"><span class="free">\&lt;za&gt;</span></span> <span class="free">p</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Order_ZF_4_L14 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Floor of the difference of a number and the embedding of an
  integer is the floor of the number minus the integer.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_4_L16<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">p</span> <span class="main">∈</span> int"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="free">x</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⌋</span></span> <span class="main">=</span> <span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">⌋</span></span> <span class="main"><span class="free">\&lt;zs&gt;</span></span> <span class="free">p</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="free">x</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⌋</span></span> <span class="main">=</span> <span class="main"><span class="free">⌊</span></span><span class="free">x</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;zm&gt;</span></span><span class="free">p</span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⌋</span></span>"</span></span>
     <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> A1 A2 <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="free">x</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⌋</span></span> <span class="main">=</span> <span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">⌋</span></span> <span class="main"><span class="free">\&lt;zs&gt;</span></span> <span class="free">p</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> int0.Int_ZF_1_1_L4 Real_ZF_1_4_L15 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The floor of sum of embeddings is the sum of the integers.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_4_L17<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">m</span> <span class="main">∈</span> int"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">n</span> <span class="main">∈</span> int"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="main">(</span><span class="free">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">n</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⌋</span></span> <span class="main">=</span> <span class="free">m</span> <span class="main"><span class="free">\&lt;za&gt;</span></span> <span class="free">n</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms real_int_is_real Real_ZF_1_4_L15 Real_ZF_1_4_L14
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹A lemma about adding one to floor.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_4_L17A<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟭</span></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main"><span class="free">⌊</span></span><span class="free">a</span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">=</span> <span class="main">(</span><span class="keyword1"><span class="free">𝟭<span class="hidden">⇩</span><sub>Z</sub></span></span> <span class="main"><span class="free">\&lt;za&gt;</span></span> <span class="main"><span class="free">⌊</span></span><span class="free">a</span><span class="main"><span class="free">⌋</span></span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟭</span></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main"><span class="free">⌊</span></span><span class="free">a</span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">=</span> <span class="keyword1"><span class="free">𝟭<span class="hidden">⇩</span><sub>Z</sub></span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main"><span class="free">⌊</span></span><span class="free">a</span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> int_0_1_are_real_zero_one <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟭</span></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main"><span class="free">⌊</span></span><span class="free">a</span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">=</span> <span class="main">(</span><span class="keyword1"><span class="free">𝟭<span class="hidden">⇩</span><sub>Z</sub></span></span> <span class="main"><span class="free">\&lt;za&gt;</span></span> <span class="main"><span class="free">⌊</span></span><span class="free">a</span><span class="main"><span class="free">⌋</span></span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> int0.int_zero_one_are_int Real_ZF_1_4_L7 Real_ZF_1_4_L1A
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The difference between the a number and the embedding of its floor
  is (strictly) less than one.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_4_L17B<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="main"><span class="free">⌊</span></span><span class="free">a</span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="main"><span class="free">𝟭</span></span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="main">(</span><span class="keyword1"><span class="free">𝟭<span class="hidden">⇩</span><sub>Z</sub></span></span> <span class="main"><span class="free">\&lt;za&gt;</span></span> <span class="main"><span class="free">⌊</span></span><span class="free">a</span><span class="main"><span class="free">⌋</span></span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> T1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="free">a</span><span class="main"><span class="free">⌋</span></span> <span class="main">∈</span> int"</span></span>  <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="free">a</span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span>
    T2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟭</span></span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span>  <span class="main"><span class="free">⌊</span></span><span class="free">a</span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L7 real_int_is_real Real_ZF_1_L6 Real_ZF_1_L4
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">{</span></span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟭</span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">a</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span>  <span class="main"><span class="free">⌊</span></span><span class="free">a</span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
    <span class="keyword1"><span class="command">with</span></span> A1 T1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="keyword1"><span class="free">𝟭<span class="hidden">⇩</span><sub>Z</sub></span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main"><span class="free">⌊</span></span><span class="free">a</span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⌋</span></span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span> <span class="main"><span class="free">⌊</span></span><span class="free">a</span><span class="main"><span class="free">⌋</span></span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_2_L21 Real_ZF_1_4_L9 int_0_1_are_real_zero_one 
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">with</span></span> T1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted">False</span> 
      <span class="keyword1"><span class="command">using</span></span> int0.int_zero_one_are_int Real_ZF_1_4_L17
      int0.Int_ZF_1_2_L3AA <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> I<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">¬</span><span class="main">(</span><span class="main"><span class="free">𝟭</span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">a</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="main"><span class="free">⌊</span></span><span class="free">a</span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> T2 <span class="keyword3"><span class="command">show</span></span> II<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="main"><span class="free">⌊</span></span><span class="free">a</span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="main"><span class="free">𝟭</span></span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> Real_ZF_1_2_L20<span class="main">)</span>
   <span class="keyword1"><span class="command">with</span></span> A1 T1 I II <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="main"><span class="free">𝟭</span></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main"><span class="free">⌊</span></span><span class="free">a</span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_2_L26 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="main">(</span><span class="keyword1"><span class="free">𝟭<span class="hidden">⇩</span><sub>Z</sub></span></span> <span class="main"><span class="free">\&lt;za&gt;</span></span> <span class="main"><span class="free">⌊</span></span><span class="free">a</span><span class="main"><span class="free">⌋</span></span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L17A <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The next lemma corresponds to Lemma 14 iii) in \cite{Arthan2004}.
  It says that we can find a rational number between any two different
  real numbers.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Arthan_Lemma14iii<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main"><span class="free">\&lt;ls&gt;</span></span><span class="free">y</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">M</span><span class="main">∈</span>int<span class="main">.</span> <span class="main">∃</span><span class="bound">N</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">.</span>  <span class="free">x</span><span class="main"><span class="free">⋅</span></span><span class="bound">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="bound">M</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">∧</span> <span class="bound">M</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">y</span><span class="main"><span class="free">⋅</span></span><span class="bound">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">y</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">x</span><span class="main">)</span><span class="main"><span class="free">¯</span></span> <span class="main">∈</span> <span class="main"><span class="free">ℝ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_3_L3
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">N</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">.</span> <span class="main">(</span><span class="free">y</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">x</span><span class="main">)</span><span class="main"><span class="free">¯</span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="bound">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Arthan_Lemma14i PositiveSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">N</span></span> <span class="keyword2"><span class="keyword">where</span></span> I<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">N</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> II<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">y</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">x</span><span class="main">)</span><span class="main"><span class="free">¯</span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="skolem">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?M</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="keyword1"><span class="free">𝟭<span class="hidden">⇩</span><sub>Z</sub></span></span> <span class="main"><span class="free">\&lt;za&gt;</span></span> <span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">⋅</span></span><span class="skolem">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⌋</span></span>"</span></span>
  <span class="keyword1"><span class="command">from</span></span> A1 I <span class="keyword1"><span class="command">have</span></span> 
    T1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="skolem">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="skolem">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">∈</span> <span class="main"><span class="free">ℝ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main"><span class="free">⋅</span></span><span class="skolem">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_2_L15 PositiveSet_def real_int_is_real
      Real_ZF_1_L6 int_pos_is_real_pos <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> T2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="var">?M</span> <span class="main">∈</span> int"</span></span> <span class="keyword1"><span class="command">using</span></span>
    int0.int_zero_one_are_int Real_ZF_1_4_L7 int0.Int_ZF_1_1_L5 
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">from</span></span> T1 <span class="keyword1"><span class="command">have</span></span> III<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main"><span class="free">⋅</span></span><span class="skolem">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="var">?M</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L17B <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">from</span></span> T1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">𝟭</span></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">⋅</span></span><span class="skolem">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">𝟭</span></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">x</span><span class="main"><span class="free">⋅</span></span><span class="skolem">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L7  Real_ZF_1_L4 real_ord_transl_inv 
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> T1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?M</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">𝟭</span></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">x</span><span class="main"><span class="free">⋅</span></span><span class="skolem">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L17A <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 II <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">𝟭</span></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">x</span><span class="main"><span class="free">⋅</span></span><span class="skolem">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">y</span><span class="main"><span class="free">⋅</span></span><span class="skolem">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_3_L5 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?M</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">y</span><span class="main"><span class="free">⋅</span></span><span class="skolem">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> real_strict_ord_transit<span class="main">)</span>
  <span class="keyword1"><span class="command">with</span></span> I T2 III <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Some estimates for the homomorphism difference of the floor
  function.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_4_L18<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">y</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">abs</span><span class="main">(</span><span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">y</span><span class="main"><span class="free">⌋</span></span> <span class="main"><span class="free">\&lt;zs&gt;</span></span> <span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">⌋</span></span> <span class="main"><span class="free">\&lt;zs&gt;</span></span> <span class="main"><span class="free">⌊</span></span><span class="free">y</span><span class="main"><span class="free">⌋</span></span><span class="main">)</span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span> <span class="keyword1"><span class="free">𝟮<span class="hidden">⇩</span><sub>Z</sub></span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> T<span class="main">:</span> 
    <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="free">y</span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>  
    <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">y</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>
     <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L7 real_int_is_real Real_ZF_1_L6
     <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟬</span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">x</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="free">y</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">⌊</span></span><span class="free">y</span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span>  <span class="main">(</span><span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="free">y</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">⌊</span></span><span class="free">y</span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span><span class="main">)</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="main"><span class="free">𝟮</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L7 Real_ZF_1_2_L16 Real_ZF_1_2_L17
      Real_ZF_1_4_L17B Real_ZF_1_2_L18 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 T <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="free">y</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">⌊</span></span><span class="free">y</span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="free">x</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">y</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">⌊</span></span><span class="free">y</span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_L7A <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟬</span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">x</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">y</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">⌊</span></span><span class="free">y</span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">y</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">⌊</span></span><span class="free">y</span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="main"><span class="free">𝟮</span></span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="main"><span class="free">𝟬</span></span><span class="main"><span class="free">⌋</span></span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span> <span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">y</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">⌊</span></span><span class="free">y</span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span><span class="main"><span class="free">⌋</span></span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">y</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">⌊</span></span><span class="free">y</span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span><span class="main"><span class="free">⌋</span></span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span> <span class="main"><span class="free">⌊</span></span><span class="main"><span class="free">𝟮</span></span><span class="main"><span class="free">⌋</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L9 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"<span class="keyword1"><span class="free">𝟬<span class="hidden">⇩</span><sub>Z</sub></span></span>  <span class="main"><span class="free">\&lt;zlq&gt;</span></span> <span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">y</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">⌊</span></span><span class="free">y</span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span><span class="main"><span class="free">⌋</span></span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">y</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">⌊</span></span><span class="free">y</span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span><span class="main"><span class="free">⌋</span></span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span> <span class="keyword1"><span class="free">𝟮<span class="hidden">⇩</span><sub>Z</sub></span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> floor_01_is_zero_one floor_2_is_two <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span>
    <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">y</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">⌊</span></span><span class="free">y</span><span class="main"><span class="free">⌋</span></span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span><span class="main"><span class="free">⌋</span></span> <span class="main">=</span> <span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">y</span><span class="main"><span class="free">⌋</span></span> <span class="main"><span class="free">\&lt;zs&gt;</span></span> <span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">⌋</span></span> <span class="main"><span class="free">\&lt;zs&gt;</span></span> <span class="main"><span class="free">⌊</span></span><span class="free">y</span><span class="main"><span class="free">⌋</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_L6 Real_ZF_1_4_L7 real_int_is_real Real_ZF_1_4_L16
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span>
    <span class="quoted"><span class="quoted">"<span class="keyword1"><span class="free">𝟬<span class="hidden">⇩</span><sub>Z</sub></span></span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span> <span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">y</span><span class="main"><span class="free">⌋</span></span> <span class="main"><span class="free">\&lt;zs&gt;</span></span> <span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">⌋</span></span> <span class="main"><span class="free">\&lt;zs&gt;</span></span> <span class="main"><span class="free">⌊</span></span><span class="free">y</span><span class="main"><span class="free">⌋</span></span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">y</span><span class="main"><span class="free">⌋</span></span> <span class="main"><span class="free">\&lt;zs&gt;</span></span> <span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">⌋</span></span> <span class="main"><span class="free">\&lt;zs&gt;</span></span> <span class="main"><span class="free">⌊</span></span><span class="free">y</span><span class="main"><span class="free">⌋</span></span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span> <span class="keyword1"><span class="free">𝟮<span class="hidden">⇩</span><sub>Z</sub></span></span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">abs</span><span class="main">(</span><span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">y</span><span class="main"><span class="free">⌋</span></span> <span class="main"><span class="free">\&lt;zs&gt;</span></span> <span class="main"><span class="free">⌊</span></span><span class="free">x</span><span class="main"><span class="free">⌋</span></span> <span class="main"><span class="free">\&lt;zs&gt;</span></span> <span class="main"><span class="free">⌊</span></span><span class="free">y</span><span class="main"><span class="free">⌋</span></span><span class="main">)</span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span> <span class="keyword1"><span class="free">𝟮<span class="hidden">⇩</span><sub>Z</sub></span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> int0.Int_ZF_2_L16 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Suppose $S\neq \emptyset$ is bounded above and 
  $\Gamma(S,m) =\lfloor m^R\cdot x\rfloor$ for some positive integer $m$
  and $x\in S$. Then if $y\in S, x\leq y$ we also have 
  $\Gamma(S,m) =\lfloor m^R\cdot y\rfloor$.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_4_L20<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"IsBoundedAbove<span class="main">(</span><span class="free">S</span><span class="main">,</span>OrderOnReals<span class="main">)</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">S</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span>
  A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">n</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main">∈</span><span class="free">S</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span>
  A3<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="free">n</span><span class="main">)</span> <span class="main">=</span> <span class="main"><span class="free">⌊</span></span><span class="free">n</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="free">x</span><span class="main"><span class="free">⌋</span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span>
  A4<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">y</span><span class="main">∈</span><span class="free">S</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main"><span class="free">\&lt;lsq&gt;</span></span><span class="free">y</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="free">n</span><span class="main">)</span> <span class="main">=</span> <span class="main"><span class="free">⌊</span></span><span class="free">n</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="free">y</span><span class="main"><span class="free">⌋</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A2 A4 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="free">n</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="free">x</span><span class="main"><span class="free">⌋</span></span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span> <span class="main"><span class="free">⌊</span></span><span class="main">(</span><span class="free">n</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="free">y</span><span class="main"><span class="free">⌋</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> int_pos_is_real_pos Real_ZF_1_2_L14 Real_ZF_1_4_L9
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> A3 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="free">n</span><span class="main">)</span><span class="main">,</span><span class="main"><span class="free">⌊</span></span><span class="main">(</span><span class="free">n</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="free">y</span><span class="main"><span class="free">⌋</span></span><span class="main">⟩</span> <span class="main">∈</span> IntegerOrder"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 A2 A4 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="main"><span class="free">⌊</span></span><span class="free">n</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="free">y</span><span class="main"><span class="free">⌋</span></span><span class="main">,</span><span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="free">n</span><span class="main">)</span><span class="main">⟩</span> <span class="main">∈</span> IntegerOrder"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L11 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="free">n</span><span class="main">)</span> <span class="main">=</span> <span class="main"><span class="free">⌊</span></span><span class="free">n</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="free">y</span><span class="main"><span class="free">⌋</span></span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> int0.Int_ZF_2_L3<span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The homomorphism difference of $n\mapsto \Gamma(S,n)$ is bounded
  by $2$ on positive integers.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_4_L21<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"IsBoundedAbove<span class="main">(</span><span class="free">S</span><span class="main">,</span>OrderOnReals<span class="main">)</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">S</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span>
  A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">m</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">n</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">abs</span><span class="main">(</span><span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="free">m</span><span class="main"><span class="free">\&lt;za&gt;</span></span><span class="free">n</span><span class="main">)</span> <span class="main"><span class="free">\&lt;zs&gt;</span></span> <span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="free">m</span><span class="main">)</span> <span class="main"><span class="free">\&lt;zs&gt;</span></span> <span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="free">n</span><span class="main">)</span><span class="main">)</span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span>  <span class="keyword1"><span class="free">𝟮<span class="hidden">⇩</span><sub>Z</sub></span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A2 <span class="keyword1"><span class="command">have</span></span> T<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">m</span><span class="main"><span class="free">\&lt;za&gt;</span></span><span class="free">n</span> <span class="main">∈</span> <span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> int0.pos_int_closed_add_unfolded
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> A1 A2 <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"<span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="free">m</span><span class="main">)</span> <span class="main">∈</span> <span class="main">{</span><span class="main"><span class="free">⌊</span></span><span class="free">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="bound">x</span><span class="main"><span class="free">⌋</span></span><span class="main">.</span> <span class="bound">x</span><span class="main">∈</span><span class="free">S</span><span class="main">}</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="free">n</span><span class="main">)</span> <span class="main">∈</span> <span class="main">{</span><span class="main"><span class="free">⌊</span></span><span class="free">n</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="bound">x</span><span class="main"><span class="free">⌋</span></span><span class="main">.</span> <span class="bound">x</span><span class="main">∈</span><span class="free">S</span><span class="main">}</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="free">m</span><span class="main"><span class="free">\&lt;za&gt;</span></span><span class="free">n</span><span class="main">)</span> <span class="main">∈</span> <span class="main">{</span><span class="main"><span class="free">⌊</span></span><span class="main">(</span><span class="free">m</span><span class="main"><span class="free">\&lt;za&gt;</span></span><span class="free">n</span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="bound">x</span><span class="main"><span class="free">⌋</span></span><span class="main">.</span> <span class="bound">x</span><span class="main">∈</span><span class="free">S</span><span class="main">}</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L10 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">a</span></span> <span class="skolem"><span class="skolem">b</span></span> <span class="skolem"><span class="skolem">c</span></span> <span class="keyword2"><span class="keyword">where</span></span> I<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">a</span><span class="main">∈</span><span class="free">S</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">∈</span><span class="free">S</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="skolem">c</span><span class="main">∈</span><span class="free">S</span>"</span></span> 
    <span class="keyword2"><span class="keyword">and</span></span> II<span class="main">:</span>
    <span class="quoted"><span class="quoted">"<span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="free">m</span><span class="main">)</span> <span class="main">=</span> <span class="main"><span class="free">⌊</span></span><span class="free">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="skolem">a</span><span class="main"><span class="free">⌋</span></span>"</span></span>  
    <span class="quoted"><span class="quoted">"<span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="free">n</span><span class="main">)</span> <span class="main">=</span> <span class="main"><span class="free">⌊</span></span><span class="free">n</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="skolem">b</span><span class="main"><span class="free">⌋</span></span>"</span></span>  
    <span class="quoted"><span class="quoted">"<span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="free">m</span><span class="main"><span class="free">\&lt;za&gt;</span></span><span class="free">n</span><span class="main">)</span> <span class="main">=</span> <span class="main"><span class="free">⌊</span></span><span class="main">(</span><span class="free">m</span><span class="main"><span class="free">\&lt;za&gt;</span></span><span class="free">n</span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="skolem">c</span><span class="main"><span class="free">⌋</span></span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?d</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"Maximum<span class="main">(</span>OrderOnReals<span class="main">,</span><span class="main">{</span><span class="skolem">a</span><span class="main">,</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">c</span><span class="main">}</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">from</span></span> A1 I <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">a</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="skolem">c</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_2_L23 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> IV<span class="main">:</span>
    <span class="quoted"><span class="quoted">"<span class="var">?d</span> <span class="main">∈</span> <span class="main">{</span><span class="skolem">a</span><span class="main">,</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">c</span><span class="main">}</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="var">?d</span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="skolem">a</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="var">?d</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="skolem">b</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="var">?d</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="skolem">c</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="var">?d</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_2_L24 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> I <span class="keyword1"><span class="command">have</span></span> V<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="var">?d</span> <span class="main">∈</span> <span class="free">S</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">from</span></span> A1 T I II IV V <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="free">m</span><span class="main"><span class="free">\&lt;za&gt;</span></span><span class="free">n</span><span class="main">)</span> <span class="main">=</span> <span class="main"><span class="free">⌊</span></span><span class="main">(</span><span class="free">m</span><span class="main"><span class="free">\&lt;za&gt;</span></span><span class="free">n</span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="var">?d</span><span class="main"><span class="free">⌋</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L20 <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main"><span class="free">⌊</span></span><span class="main">(</span><span class="main">(</span><span class="free">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="main">(</span><span class="free">n</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="var">?d</span><span class="main"><span class="free">⌋</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L1A PositiveSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> A2 IV <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main"><span class="free">⌊</span></span><span class="main">(</span><span class="free">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="var">?d</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="free">n</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="var">?d</span><span class="main"><span class="free">⌋</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> PositiveSet_def real_int_is_real Real_ZF_1_L7
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">finally</span></span> <span class="keyword1"><span class="command">have</span></span>  <span class="quoted"><span class="quoted">"<span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="free">m</span><span class="main"><span class="free">\&lt;za&gt;</span></span><span class="free">n</span><span class="main">)</span> <span class="main">=</span>  <span class="main"><span class="free">⌊</span></span><span class="main">(</span><span class="free">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="var">?d</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="free">n</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="var">?d</span><span class="main"><span class="free">⌋</span></span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 A2 I II IV V <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="free">m</span><span class="main">)</span> <span class="main">=</span> <span class="main"><span class="free">⌊</span></span><span class="free">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="var">?d</span><span class="main"><span class="free">⌋</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L20 <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 A2 I II IV V <span class="keyword1"><span class="command">have</span></span>  <span class="quoted"><span class="quoted">"<span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="free">n</span><span class="main">)</span> <span class="main">=</span> <span class="main"><span class="free">⌊</span></span><span class="free">n</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="var">?d</span><span class="main"><span class="free">⌋</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L20 <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 T I II IV V <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="free">m</span><span class="main"><span class="free">\&lt;za&gt;</span></span><span class="free">n</span><span class="main">)</span> <span class="main">=</span> <span class="main"><span class="free">⌊</span></span><span class="main">(</span><span class="free">m</span><span class="main"><span class="free">\&lt;za&gt;</span></span><span class="free">n</span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="var">?d</span><span class="main"><span class="free">⌋</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L20 <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">abs</span><span class="main">(</span><span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="free">m</span><span class="main"><span class="free">\&lt;za&gt;</span></span><span class="free">n</span><span class="main">)</span> <span class="main"><span class="free">\&lt;zs&gt;</span></span> <span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="free">m</span><span class="main">)</span> <span class="main"><span class="free">\&lt;zs&gt;</span></span> <span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="free">n</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span>
    <span class="free">abs</span><span class="main">(</span><span class="main"><span class="free">⌊</span></span><span class="main">(</span><span class="free">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="var">?d</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="free">n</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="var">?d</span><span class="main"><span class="free">⌋</span></span> <span class="main"><span class="free">\&lt;zs&gt;</span></span> <span class="main"><span class="free">⌊</span></span><span class="free">m</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="var">?d</span><span class="main"><span class="free">⌋</span></span> <span class="main"><span class="free">\&lt;zs&gt;</span></span> <span class="main"><span class="free">⌊</span></span><span class="free">n</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="var">?d</span><span class="main"><span class="free">⌋</span></span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> A2 IV <span class="keyword3"><span class="command">show</span></span> 
    <span class="quoted"><span class="quoted">"<span class="free">abs</span><span class="main">(</span><span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="free">m</span><span class="main"><span class="free">\&lt;za&gt;</span></span><span class="free">n</span><span class="main">)</span> <span class="main"><span class="free">\&lt;zs&gt;</span></span> <span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="free">m</span><span class="main">)</span> <span class="main"><span class="free">\&lt;zs&gt;</span></span> <span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="free">n</span><span class="main">)</span><span class="main">)</span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span>  <span class="keyword1"><span class="free">𝟮<span class="hidden">⇩</span><sub>Z</sub></span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> PositiveSet_def real_int_is_real Real_ZF_1_L6
      Real_ZF_1_4_L18 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The next lemma provides sufficient condition for an odd function 
  to be an almost homomorphism. 
  It says for odd functions we only need to check that 
  the homomorphism difference
  (denoted <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>δ›</span></span></span></span> in the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>real1›</span></span></span></span> context) is bounded on positive 
  integers. This is really proven in <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>Int_ZF_2.thy›</span></span></span></span>, but we
  restate it here for convenience. Recall from <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>Group_ZF_3.thy›</span></span></span></span> that
  <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>OddExtension›</span></span></span></span> of a function defined on the set of positive elements
  (of an ordered group) is the only odd function that is equal to the given
  one when restricted to positive elements.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_4_L21A<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">:</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">→</span>int"</span></span>  <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">a</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">.</span> <span class="main">∀</span><span class="bound">b</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">.</span> <span class="free">abs</span><span class="main">(</span><span class="free">δ</span><span class="main">(</span><span class="free">f</span><span class="main">,</span><span class="bound">a</span><span class="main">,</span><span class="bound">b</span><span class="main">)</span><span class="main">)</span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span> <span class="free">L</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"OddExtension<span class="main">(</span>int<span class="main">,</span>IntegerAddition<span class="main">,</span>IntegerOrder<span class="main">,</span><span class="free">f</span><span class="main">)</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮</span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> A1 int1.Int_ZF_2_1_L24 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="comment1">(*A1 has to be here *)</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The candidate for (a representant of) the supremum of a 
  nonempty bounded above set is a slope.›</span></span>
  
<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_4_L22<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"IsBoundedAbove<span class="main">(</span><span class="free">S</span><span class="main">,</span>OrderOnReals<span class="main">)</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">S</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span>
  A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">g</span> <span class="main">=</span> <span class="main">{</span><span class="main">⟨</span><span class="bound">p</span><span class="main">,</span><span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="bound">p</span><span class="main">)</span><span class="main">⟩</span><span class="main">.</span> <span class="bound">p</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">}</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"OddExtension<span class="main">(</span>int<span class="main">,</span>IntegerAddition<span class="main">,</span>IntegerOrder<span class="main">,</span><span class="free">g</span><span class="main">)</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">g</span><span class="main">:</span> <span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">→</span>int"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> Real_ZF_1_4_L12<span class="main">)</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">m</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">.</span> <span class="main">∀</span><span class="bound">n</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">.</span> <span class="free">abs</span><span class="main">(</span><span class="free">δ</span><span class="main">(</span><span class="free">g</span><span class="main">,</span><span class="bound">m</span><span class="main">,</span><span class="bound">n</span><span class="main">)</span><span class="main">)</span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span> <span class="keyword1"><span class="free">𝟮<span class="hidden">⇩</span><sub>Z</sub></span></span>"</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
    <span class="keyword1"><span class="command">{</span></span> <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">m</span> <span class="skolem">n</span> <span class="keyword3"><span class="command">assume</span></span> A3<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">m</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="skolem">n</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">m</span><span class="main"><span class="free">\&lt;za&gt;</span></span><span class="skolem">n</span> <span class="main">∈</span> <span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="skolem">m</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="skolem">n</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span> 
	<span class="keyword1"><span class="command">using</span></span> int0.pos_int_closed_add_unfolded
	<span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">n</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">.</span> <span class="free">g</span><span class="main">`</span><span class="main">(</span><span class="bound">n</span><span class="main">)</span> <span class="main">=</span> <span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="bound">n</span><span class="main">)</span>"</span></span>
	<span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> Real_ZF_1_4_L12<span class="main">)</span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">δ</span><span class="main">(</span><span class="free">g</span><span class="main">,</span><span class="skolem">m</span><span class="main">,</span><span class="skolem">n</span><span class="main">)</span> <span class="main">=</span> <span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="skolem">m</span><span class="main"><span class="free">\&lt;za&gt;</span></span><span class="skolem">n</span><span class="main">)</span> <span class="main"><span class="free">\&lt;zs&gt;</span></span> <span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="skolem">m</span><span class="main">)</span> <span class="main"><span class="free">\&lt;zs&gt;</span></span> <span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="skolem">n</span><span class="main">)</span>"</span></span>
	<span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
      <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 A3 <span class="keyword1"><span class="command">have</span></span>
	<span class="quoted"><span class="quoted">"<span class="free">abs</span><span class="main">(</span><span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="skolem">m</span><span class="main"><span class="free">\&lt;za&gt;</span></span><span class="skolem">n</span><span class="main">)</span> <span class="main"><span class="free">\&lt;zs&gt;</span></span> <span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="skolem">m</span><span class="main">)</span> <span class="main"><span class="free">\&lt;zs&gt;</span></span> <span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="skolem">n</span><span class="main">)</span><span class="main">)</span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span>  <span class="keyword1"><span class="free">𝟮<span class="hidden">⇩</span><sub>Z</sub></span></span>"</span></span>
	<span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> Real_ZF_1_4_L21<span class="main">)</span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">abs</span><span class="main">(</span><span class="free">δ</span><span class="main">(</span><span class="free">g</span><span class="main">,</span><span class="skolem">m</span><span class="main">,</span><span class="skolem">n</span><span class="main">)</span><span class="main">)</span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span> <span class="keyword1"><span class="free">𝟮<span class="hidden">⇩</span><sub>Z</sub></span></span>"</span></span>
	<span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">m</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">.</span> <span class="main">∀</span><span class="bound">n</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">.</span> <span class="free">abs</span><span class="main">(</span><span class="free">δ</span><span class="main">(</span><span class="free">g</span><span class="main">,</span><span class="bound">m</span><span class="main">,</span><span class="bound">n</span><span class="main">)</span><span class="main">)</span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span> <span class="keyword1"><span class="free">𝟮<span class="hidden">⇩</span><sub>Z</sub></span></span>"</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> Real_ZF_1_4_L21A<span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹A technical lemma used in the proof that all elements
  of $S$ are less or equal than the candidate for supremum of $S$.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_4_L23<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">f</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮</span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">N</span> <span class="main">∈</span> int"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">M</span> <span class="main">∈</span> int"</span></span> <span class="keyword2"><span class="keyword">and</span></span>
  A3<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">n</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">.</span> <span class="free">M</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="bound">n</span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span> <span class="free">f</span><span class="main">`</span><span class="main">(</span><span class="free">N</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="bound">n</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">M</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="main"><span class="free">[</span></span><span class="free">f</span><span class="main"><span class="free">]</span></span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?M<span class="hidden">⇩</span><sub>S</sub></span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="main">⟨</span><span class="bound">n</span><span class="main">,</span> <span class="free">M</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="bound">n</span><span class="main">⟩</span> <span class="main">.</span> <span class="bound">n</span> <span class="main">∈</span> int<span class="main">}</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?N<span class="hidden">⇩</span><sub>S</sub></span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="main">⟨</span><span class="bound">n</span><span class="main">,</span> <span class="free">N</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="bound">n</span><span class="main">⟩</span> <span class="main">.</span> <span class="bound">n</span> <span class="main">∈</span> int<span class="main">}</span>"</span></span>
  <span class="keyword1"><span class="command">from</span></span> A1 A2 <span class="keyword1"><span class="command">have</span></span> T<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="var">?M<span class="hidden">⇩</span><sub>S</sub></span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="var">?N<span class="hidden">⇩</span><sub>S</sub></span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main"><span class="free">∘</span></span><span class="var">?N<span class="hidden">⇩</span><sub>S</sub></span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> int1.Int_ZF_2_5_L1 int1.Int_ZF_2_1_L11 SlopeOp2_def
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 A2 A3 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?M<span class="hidden">⇩</span><sub>S</sub></span> <span class="main"><span class="free">∼</span></span> <span class="free">f</span><span class="main"><span class="free">∘</span></span><span class="var">?N<span class="hidden">⇩</span><sub>S</sub></span> <span class="main">∨</span> <span class="free">f</span><span class="main"><span class="free">∘</span></span><span class="var">?N<span class="hidden">⇩</span><sub>S</sub></span> <span class="main"><span class="free">\&lt;fp&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;fm&gt;</span></span><span class="var">?M<span class="hidden">⇩</span><sub>S</sub></span><span class="main">)</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> int1.Int_ZF_2_5_L8 SlopeOp2_def SlopeOp1_def Slopes_def
      BoundedIntMaps_def SlopeEquivalenceRel_def PositiveIntegers_def
      PositiveSlopes_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">[</span></span><span class="var">?M<span class="hidden">⇩</span><sub>S</sub></span><span class="main"><span class="free">]</span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="main"><span class="free">[</span></span><span class="free">f</span><span class="main"><span class="free">∘</span></span><span class="var">?N<span class="hidden">⇩</span><sub>S</sub></span><span class="main"><span class="free">]</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_2_L12
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> A1 T <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">M</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="main"><span class="free">[</span></span><span class="free">f</span><span class="main"><span class="free">]</span></span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_1_L4
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹A technical lemma aimed used in the proof the candidate for supremum of 
  $S$ is less or equal than any upper bound for $S$.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_4_L23A<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">f</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮</span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">N</span> <span class="main">∈</span> int"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">M</span> <span class="main">∈</span> int"</span></span> <span class="keyword2"><span class="keyword">and</span></span>
  A3<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">n</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">.</span> <span class="free">f</span><span class="main">`</span><span class="main">(</span><span class="free">N</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="bound">n</span><span class="main">)</span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span>  <span class="free">M</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="bound">n</span> "</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">[</span></span><span class="free">f</span><span class="main"><span class="free">]</span></span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">M</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?M<span class="hidden">⇩</span><sub>S</sub></span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="main">⟨</span><span class="bound">n</span><span class="main">,</span> <span class="free">M</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="bound">n</span><span class="main">⟩</span> <span class="main">.</span> <span class="bound">n</span> <span class="main">∈</span> int<span class="main">}</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?N<span class="hidden">⇩</span><sub>S</sub></span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="main">⟨</span><span class="bound">n</span><span class="main">,</span> <span class="free">N</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="bound">n</span><span class="main">⟩</span> <span class="main">.</span> <span class="bound">n</span> <span class="main">∈</span> int<span class="main">}</span>"</span></span>
  <span class="keyword1"><span class="command">from</span></span> A1 A2 <span class="keyword1"><span class="command">have</span></span> T<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="var">?M<span class="hidden">⇩</span><sub>S</sub></span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="var">?N<span class="hidden">⇩</span><sub>S</sub></span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main"><span class="free">∘</span></span><span class="var">?N<span class="hidden">⇩</span><sub>S</sub></span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> int1.Int_ZF_2_5_L1 int1.Int_ZF_2_1_L11 SlopeOp2_def
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 A2 A3 <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main"><span class="free">∘</span></span><span class="var">?N<span class="hidden">⇩</span><sub>S</sub></span> <span class="main"><span class="free">∼</span></span> <span class="var">?M<span class="hidden">⇩</span><sub>S</sub></span> <span class="main">∨</span>  <span class="var">?M<span class="hidden">⇩</span><sub>S</sub></span> <span class="main"><span class="free">\&lt;fp&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;fm&gt;</span></span><span class="main">(</span><span class="free">f</span><span class="main"><span class="free">∘</span></span><span class="var">?N<span class="hidden">⇩</span><sub>S</sub></span><span class="main">)</span><span class="main">)</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> int1.Int_ZF_2_5_L9 SlopeOp2_def SlopeOp1_def Slopes_def
      BoundedIntMaps_def SlopeEquivalenceRel_def PositiveIntegers_def
      PositiveSlopes_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">[</span></span><span class="free">f</span><span class="main"><span class="free">∘</span></span><span class="var">?N<span class="hidden">⇩</span><sub>S</sub></span><span class="main"><span class="free">]</span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="main"><span class="free">[</span></span><span class="var">?M<span class="hidden">⇩</span><sub>S</sub></span><span class="main"><span class="free">]</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_2_L12
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> A1 T <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">" <span class="main"><span class="free">[</span></span><span class="free">f</span><span class="main"><span class="free">]</span></span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span><span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">M</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_1_L4
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The essential condition to claim that the candidate for supremum
  of $S$ is greater or equal than all elements of $S$.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_4_L24<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"IsBoundedAbove<span class="main">(</span><span class="free">S</span><span class="main">,</span>OrderOnReals<span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span>
  A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main"><span class="free">\&lt;ls&gt;</span></span><span class="free">y</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">y</span><span class="main">∈</span><span class="free">S</span>"</span></span>  <span class="keyword2"><span class="keyword">and</span></span>
  A4<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">N</span> <span class="main">∈</span> <span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">M</span> <span class="main">∈</span> int"</span></span> <span class="keyword2"><span class="keyword">and</span></span>
  A5<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">M</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">y</span><span class="main"><span class="free">⋅</span></span><span class="free">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A6<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">p</span> <span class="main">∈</span> <span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">p</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="free">M</span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span> <span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="free">p</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="free">N</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A2 A4 A6 <span class="keyword1"><span class="command">have</span></span> T1<span class="main">:</span>
    <span class="quoted"><span class="quoted">"<span class="free">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">∈</span> <span class="main"><span class="free">ℝ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>   <span class="quoted"><span class="quoted">"<span class="free">y</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>   <span class="quoted"><span class="quoted">"<span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">∈</span> <span class="main"><span class="free">ℝ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">p</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="free">N</span> <span class="main">∈</span> <span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>   <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">p</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="free">N</span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">∈</span> <span class="main"><span class="free">ℝ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>    
    <span class="keyword1"><span class="command">using</span></span> int_pos_is_real_pos Real_ZF_1_2_L15 
    int0.pos_int_closed_mul_unfold <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> A4 A6 <span class="keyword1"><span class="command">have</span></span> T2<span class="main">:</span> 
    <span class="quoted"><span class="quoted">"<span class="free">p</span> <span class="main">∈</span> int"</span></span>   <span class="quoted"><span class="quoted">"<span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>   <span class="quoted"><span class="quoted">"<span class="free">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">≠</span> <span class="main"><span class="free">𝟬</span></span>"</span></span>   <span class="quoted"><span class="quoted">"<span class="free">M</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> real_int_is_real PositiveSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">from</span></span> T1 A5 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="main">(</span><span class="free">p</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="free">N</span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">M</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span><span class="main"><span class="free">¯</span></span><span class="main">)</span><span class="main"><span class="free">⌋</span></span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span> <span class="main"><span class="free">⌊</span></span><span class="main">(</span><span class="free">p</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="free">N</span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="free">y</span><span class="main"><span class="free">⌋</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_3_L4A Real_ZF_1_3_L7 Real_ZF_1_4_L9
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 A2 T1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="main">(</span><span class="free">p</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="free">N</span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="free">y</span><span class="main"><span class="free">⌋</span></span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span> <span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="free">p</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="free">N</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L11 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> I<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="main">(</span><span class="free">p</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="free">N</span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">M</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span><span class="main"><span class="free">¯</span></span><span class="main">)</span><span class="main"><span class="free">⌋</span></span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span> <span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="free">p</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="free">N</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> int_order_transitive<span class="main">)</span>
  <span class="keyword1"><span class="command">from</span></span> A4 A6 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">p</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="free">N</span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">M</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span><span class="main"><span class="free">¯</span></span><span class="main">)</span> <span class="main">=</span> <span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="free">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">M</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span><span class="main"><span class="free">¯</span></span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> PositiveSet_def Real_ZF_1_4_L1C <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> A4 T2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="main">(</span><span class="free">p</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="free">N</span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">M</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span><span class="main"><span class="free">¯</span></span><span class="main">)</span><span class="main"><span class="free">⌋</span></span> <span class="main">=</span> <span class="free">p</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="free">M</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_3_L8 Real_ZF_1_4_L14A <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> I <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">p</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="free">M</span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span> <span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="free">p</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="free">N</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹An obvious fact about odd extension
  of a function $p\mapsto \Gamma(s,p)$ that is used a couple of times 
  in proofs.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_4_L24A<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"IsBoundedAbove<span class="main">(</span><span class="free">S</span><span class="main">,</span>OrderOnReals<span class="main">)</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">S</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">p</span> <span class="main">∈</span> <span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> A3<span class="main">:</span>
  <span class="quoted"><span class="quoted">"<span class="free">h</span> <span class="main">=</span> OddExtension<span class="main">(</span>int<span class="main">,</span>IntegerAddition<span class="main">,</span>IntegerOrder<span class="main">,</span><span class="main">{</span><span class="main">⟨</span><span class="bound">p</span><span class="main">,</span><span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="bound">p</span><span class="main">)</span><span class="main">⟩</span><span class="main">.</span> <span class="bound">p</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">}</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">h</span><span class="main">`</span><span class="main">(</span><span class="free">p</span><span class="main">)</span> <span class="main">=</span> <span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="free">p</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?g</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="main">⟨</span><span class="bound">p</span><span class="main">,</span><span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="bound">p</span><span class="main">)</span><span class="main">⟩</span><span class="main">.</span> <span class="bound">p</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">}</span>"</span></span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> I<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="var">?g</span> <span class="main">:</span> <span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">→</span>int"</span></span> <span class="keyword1"><span class="command">using</span></span>  Real_ZF_1_4_L12
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">with</span></span> A2 A3 <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">h</span><span class="main">`</span><span class="main">(</span><span class="free">p</span><span class="main">)</span> <span class="main">=</span> <span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="free">p</span><span class="main">)</span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> int0.Int_ZF_1_5_L11 ZF_fun_from_tot_val
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The candidate for the supremum of $S$ is not smaller than 
  any element of $S$.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_4_L25<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"IsBoundedAbove<span class="main">(</span><span class="free">S</span><span class="main">,</span>OrderOnReals<span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> 
  A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">¬</span>HasAmaximum<span class="main">(</span>OrderOnReals<span class="main">,</span><span class="free">S</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span>
  A3<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main">∈</span><span class="free">S</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A4<span class="main">:</span>
  <span class="quoted"><span class="quoted">"<span class="free">h</span> <span class="main">=</span> OddExtension<span class="main">(</span>int<span class="main">,</span>IntegerAddition<span class="main">,</span>IntegerOrder<span class="main">,</span><span class="main">{</span><span class="main">⟨</span><span class="bound">p</span><span class="main">,</span><span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="bound">p</span><span class="main">)</span><span class="main">⟩</span><span class="main">.</span> <span class="bound">p</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">}</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="main"><span class="free">[</span></span><span class="free">h</span><span class="main"><span class="free">]</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 A2 A3 <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"<span class="free">S</span> <span class="main">⊆</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="main">¬</span>HasAmaximum<span class="main">(</span>OrderOnReals<span class="main">,</span><span class="free">S</span><span class="main">)</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main">∈</span><span class="free">S</span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_2_L23 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">y</span><span class="main">∈</span><span class="free">S</span><span class="main">.</span> <span class="free">x</span><span class="main"><span class="free">\&lt;ls&gt;</span></span><span class="bound">y</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> Real_ZF_1_2_L27<span class="main">)</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">y</span></span> <span class="keyword2"><span class="keyword">where</span></span> I<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">∈</span><span class="free">S</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span>  II<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main"><span class="free">\&lt;ls&gt;</span></span><span class="skolem">y</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">from</span></span> II <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">M</span><span class="main">∈</span>int<span class="main">.</span> <span class="main">∃</span><span class="bound">N</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">.</span>  <span class="free">x</span><span class="main"><span class="free">⋅</span></span><span class="bound">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="bound">M</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">∧</span> <span class="bound">M</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="skolem">y</span><span class="main"><span class="free">⋅</span></span><span class="bound">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Arthan_Lemma14iii <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">M</span></span> <span class="skolem"><span class="skolem">N</span></span> <span class="keyword2"><span class="keyword">where</span></span> III<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span> <span class="main">∈</span> int"</span></span>  <span class="quoted"><span class="quoted">"<span class="skolem">N</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> 
    IV<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main"><span class="free">⋅</span></span><span class="skolem">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="skolem">M</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="skolem">M</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="skolem">y</span><span class="main"><span class="free">⋅</span></span><span class="skolem">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">from</span></span> II III IV <span class="keyword1"><span class="command">have</span></span> V<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="skolem">M</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="skolem">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span><span class="main"><span class="free">¯</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> int_pos_is_real_pos Real_ZF_1_2_L15 Real_ZF_1_3_L4
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">from</span></span> A3 <span class="keyword1"><span class="command">have</span></span> VI<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">S</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> A1 A4 <span class="keyword1"><span class="command">have</span></span> T1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">h</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L22
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> III <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">N</span> <span class="main">∈</span> int"</span></span>  <span class="quoted"><span class="quoted">"<span class="skolem">M</span> <span class="main">∈</span> int"</span></span>
    <span class="keyword1"><span class="command">using</span></span> PositiveSet_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">n</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">.</span> <span class="skolem">M</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="bound">n</span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span> <span class="free">h</span><span class="main">`</span><span class="main">(</span><span class="skolem">N</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="bound">n</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">proof</span></span>
    <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?g</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="main">⟨</span><span class="bound">p</span><span class="main">,</span><span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="bound">p</span><span class="main">)</span><span class="main">⟩</span><span class="main">.</span> <span class="bound">p</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">}</span>"</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">n</span> <span class="keyword3"><span class="command">assume</span></span> A5<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">n</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>
    <span class="keyword1"><span class="command">with</span></span> III <span class="keyword1"><span class="command">have</span></span> T2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">N</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="skolem">n</span> <span class="main">∈</span> <span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> int0.pos_int_closed_mul_unfold <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">from</span></span> III A5 <span class="keyword1"><span class="command">have</span></span> 
      <span class="quoted"><span class="quoted">"<span class="skolem">N</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="skolem">n</span> <span class="main">=</span> <span class="skolem">n</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="skolem">N</span>"</span></span>  <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">n</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="skolem">M</span> <span class="main">=</span> <span class="skolem">M</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="skolem">n</span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> PositiveSet_def int0.Int_ZF_1_1_L5 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>   
    <span class="keyword1"><span class="command">moreover</span></span> 
    <span class="keyword1"><span class="command">from</span></span> A1 I II III IV A5 <span class="keyword1"><span class="command">have</span></span>
      <span class="quoted"><span class="quoted">"IsBoundedAbove<span class="main">(</span><span class="free">S</span><span class="main">,</span>OrderOnReals<span class="main">)</span>"</span></span>
      <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main"><span class="free">\&lt;ls&gt;</span></span><span class="skolem">y</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">∈</span><span class="free">S</span>"</span></span>
      <span class="quoted"><span class="quoted">"<span class="skolem">N</span> <span class="main">∈</span> <span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="skolem">M</span> <span class="main">∈</span> int"</span></span>
      <span class="quoted"><span class="quoted">"<span class="skolem">M</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="skolem">y</span><span class="main"><span class="free">⋅</span></span><span class="skolem">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="skolem">n</span> <span class="main">∈</span> <span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">n</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="skolem">M</span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span> <span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="skolem">n</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="skolem">N</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> Real_ZF_1_4_L24<span class="main">)</span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 A4 VI T2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">h</span><span class="main">`</span><span class="main">(</span><span class="skolem">N</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="skolem">n</span><span class="main">)</span> <span class="main">=</span> <span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="skolem">N</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="skolem">n</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L24A <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="skolem">n</span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span> <span class="free">h</span><span class="main">`</span><span class="main">(</span><span class="skolem">N</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="skolem">n</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">qed</span></span> 
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="main"><span class="free">[</span></span><span class="free">h</span><span class="main"><span class="free">]</span></span><span class="main"><span class="free">⋅</span></span><span class="skolem">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L23
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> III T1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="skolem">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span><span class="main"><span class="free">¯</span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="main"><span class="free">[</span></span><span class="free">h</span><span class="main"><span class="free">]</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> int_pos_is_real_pos Real_ZF_1_1_L3 Real_ZF_1_3_L4B
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> V <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="main"><span class="free">[</span></span><span class="free">h</span><span class="main"><span class="free">]</span></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> real_ord_transitive<span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The essential condition to claim that the candidate for supremum
  of $S$ is less or equal than any upper bound of $S$.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_4_L26<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"IsBoundedAbove<span class="main">(</span><span class="free">S</span><span class="main">,</span>OrderOnReals<span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span>
  A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main"><span class="free">\&lt;lsq&gt;</span></span><span class="free">y</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main">∈</span><span class="free">S</span>"</span></span>  <span class="keyword2"><span class="keyword">and</span></span>
  A4<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">N</span> <span class="main">∈</span> <span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">M</span> <span class="main">∈</span> int"</span></span> <span class="keyword2"><span class="keyword">and</span></span>
  A5<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">y</span><span class="main"><span class="free">⋅</span></span><span class="free">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">M</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> "</span></span> <span class="keyword2"><span class="keyword">and</span></span> A6<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">p</span> <span class="main">∈</span> <span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="main">(</span><span class="free">N</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="free">p</span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="free">x</span><span class="main"><span class="free">⌋</span></span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span> <span class="free">M</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="free">p</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A2 A4 A6 <span class="keyword1"><span class="command">have</span></span> T<span class="main">:</span>
    <span class="quoted"><span class="quoted">"<span class="free">p</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="free">N</span> <span class="main">∈</span> <span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">p</span> <span class="main">∈</span> int"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">N</span> <span class="main">∈</span> int"</span></span>  
    <span class="quoted"><span class="quoted">"<span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">∈</span> <span class="main"><span class="free">ℝ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">y</span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> int0.pos_int_closed_mul_unfold PositiveSet_def
      real_int_is_real Real_ZF_1_2_L15 int_pos_is_real_pos
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">p</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="free">N</span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="free">x</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="main">(</span><span class="free">p</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="free">N</span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="free">y</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> int_pos_is_real_pos Real_ZF_1_2_L14A
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A4 T <span class="keyword1"><span class="command">have</span></span> I<span class="main">:</span> 
    <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">p</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="free">N</span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">=</span> <span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="free">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">p</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="free">M</span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">=</span> <span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="free">M</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L1C <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">p</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="free">N</span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="free">x</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="free">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="free">y</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">from</span></span> A5 T I <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">y</span><span class="main"><span class="free">⋅</span></span><span class="free">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="main">(</span><span class="free">p</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="free">M</span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_3_L7 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> T <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="free">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="free">y</span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="main">(</span><span class="free">p</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="free">M</span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_1_L9
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">p</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="free">N</span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="free">x</span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="main">(</span><span class="free">p</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="free">M</span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> real_strict_ord_transit<span class="main">)</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="main">(</span><span class="free">p</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="free">N</span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="free">x</span><span class="main"><span class="free">⌋</span></span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span> <span class="main"><span class="free">⌊</span></span><span class="main">(</span><span class="free">p</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="free">M</span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⌋</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L9 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> 
  <span class="keyword1"><span class="command">from</span></span> A4 T <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">p</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="free">M</span> <span class="main">∈</span> int"</span></span> <span class="keyword1"><span class="command">using</span></span> int0.Int_ZF_1_1_L5
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="main">(</span><span class="free">p</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="free">M</span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⌋</span></span> <span class="main">=</span> <span class="free">p</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="free">M</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L14
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
   <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A4 A6 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">p</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="free">N</span> <span class="main">=</span> <span class="free">N</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="free">p</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">p</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="free">M</span> <span class="main">=</span> <span class="free">M</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="free">p</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> PositiveSet_def int0.Int_ZF_1_1_L5 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⌊</span></span><span class="main">(</span><span class="free">N</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="free">p</span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="free">x</span><span class="main"><span class="free">⌋</span></span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span> <span class="free">M</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="free">p</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹A piece of the proof of the fact that the candidate for the supremum 
  of $S$ is not greater than any upper bound of $S$, done separately for 
  clarity (of mind).›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_4_L27<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"IsBoundedAbove<span class="main">(</span><span class="free">S</span><span class="main">,</span>OrderOnReals<span class="main">)</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">S</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">h</span> <span class="main">=</span> OddExtension<span class="main">(</span>int<span class="main">,</span>IntegerAddition<span class="main">,</span>IntegerOrder<span class="main">,</span><span class="main">{</span><span class="main">⟨</span><span class="bound">p</span><span class="main">,</span><span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="bound">p</span><span class="main">)</span><span class="main">⟩</span><span class="main">.</span> <span class="bound">p</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">}</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">p</span> <span class="main">∈</span> <span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span> 
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">x</span><span class="main">∈</span><span class="free">S</span><span class="main">.</span> <span class="free">h</span><span class="main">`</span><span class="main">(</span><span class="free">p</span><span class="main">)</span> <span class="main">=</span> <span class="main"><span class="free">⌊</span></span><span class="free">p</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="bound">x</span><span class="main"><span class="free">⌋</span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms Real_ZF_1_4_L10 Real_ZF_1_4_L24A <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The candidate for the supremum of $S$ is not greater than 
  any upper bound of $S$.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> Real_ZF_1_4_L28<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"IsBoundedAbove<span class="main">(</span><span class="free">S</span><span class="main">,</span>OrderOnReals<span class="main">)</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">S</span><span class="main">≠</span><span class="main">0</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">x</span><span class="main">∈</span><span class="free">S</span><span class="main">.</span> <span class="bound">x</span><span class="main"><span class="free">\&lt;lsq&gt;</span></span><span class="free">y</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A3<span class="main">:</span>
  <span class="quoted"><span class="quoted">"<span class="free">h</span> <span class="main">=</span> OddExtension<span class="main">(</span>int<span class="main">,</span>IntegerAddition<span class="main">,</span>IntegerOrder<span class="main">,</span><span class="main">{</span><span class="main">⟨</span><span class="bound">p</span><span class="main">,</span><span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="bound">p</span><span class="main">)</span><span class="main">⟩</span><span class="main">.</span> <span class="bound">p</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">}</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">[</span></span><span class="free">h</span><span class="main"><span class="free">]</span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">y</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">a</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">a</span><span class="main">∈</span><span class="free">S</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> A1 A2 A3 <span class="keyword1"><span class="command">have</span></span> T<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">y</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">h</span> <span class="main">∈</span> <span class="keyword1"><span class="free">𝒮</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="main"><span class="free">[</span></span><span class="free">h</span><span class="main"><span class="free">]</span></span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_2_L15 Real_ZF_1_4_L22 Real_ZF_1_1_L3
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">{</span></span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="main">¬</span><span class="main">(</span><span class="main"><span class="free">[</span></span><span class="free">h</span><span class="main"><span class="free">]</span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">y</span><span class="main">)</span>"</span></span> 
    <span class="keyword1"><span class="command">with</span></span> T <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">y</span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="main"><span class="free">[</span></span><span class="free">h</span><span class="main"><span class="free">]</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_2_L28
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">M</span><span class="main">∈</span>int<span class="main">.</span> <span class="main">∃</span><span class="bound">N</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">.</span>  <span class="free">y</span><span class="main"><span class="free">⋅</span></span><span class="bound">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="bound">M</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">∧</span> <span class="bound">M</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="main"><span class="free">[</span></span><span class="free">h</span><span class="main"><span class="free">]</span></span><span class="main"><span class="free">⋅</span></span><span class="bound">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> Arthan_Lemma14iii <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">M</span></span> <span class="skolem"><span class="skolem">N</span></span> <span class="keyword2"><span class="keyword">where</span></span> I<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span><span class="main">∈</span>int"</span></span>  <span class="quoted"><span class="quoted">"<span class="skolem">N</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span>
      II<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">y</span><span class="main"><span class="free">⋅</span></span><span class="skolem">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="skolem">M</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="skolem">M</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="main"><span class="free">[</span></span><span class="free">h</span><span class="main"><span class="free">]</span></span><span class="main"><span class="free">⋅</span></span><span class="skolem">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">from</span></span> I <span class="keyword1"><span class="command">have</span></span> III<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main">∈</span> <span class="main"><span class="free">ℝ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> int_pos_is_real_pos
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">p</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">.</span> <span class="free">h</span><span class="main">`</span><span class="main">(</span><span class="skolem">N</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="bound">p</span><span class="main">)</span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span>  <span class="skolem">M</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="bound">p</span>"</span></span>
    <span class="keyword1"><span class="command">proof</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">p</span> <span class="keyword3"><span class="command">assume</span></span> A4<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">p</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span>"</span></span>
      <span class="keyword1"><span class="command">with</span></span> A1 A3 I <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">x</span><span class="main">∈</span><span class="free">S</span><span class="main">.</span> <span class="free">h</span><span class="main">`</span><span class="main">(</span><span class="skolem">N</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="skolem">p</span><span class="main">)</span> <span class="main">=</span> <span class="main"><span class="free">⌊</span></span><span class="main">(</span><span class="skolem">N</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="skolem">p</span><span class="main">)</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="bound">x</span><span class="main"><span class="free">⌋</span></span>"</span></span>
	<span class="keyword1"><span class="command">using</span></span> int0.pos_int_closed_mul_unfold Real_ZF_1_4_L27
	<span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
      <span class="keyword1"><span class="command">with</span></span> A1 A2 I II A4 <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">h</span><span class="main">`</span><span class="main">(</span><span class="skolem">N</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="skolem">p</span><span class="main">)</span> <span class="main"><span class="free">\&lt;zlq&gt;</span></span>  <span class="skolem">M</span><span class="main"><span class="free">\&lt;zmu&gt;</span></span><span class="skolem">p</span>"</span></span>
	<span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L26 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">with</span></span> T I <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">[</span></span><span class="free">h</span><span class="main"><span class="free">]</span></span><span class="main"><span class="free">⋅</span></span><span class="skolem">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="skolem">M</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span>"</span></span> 
      <span class="keyword1"><span class="command">using</span></span> PositiveSet_def Real_ZF_1_4_L23A
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">with</span></span> T III <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">[</span></span><span class="free">h</span><span class="main"><span class="free">]</span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span>  <span class="skolem">M</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="skolem">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span><span class="main"><span class="free">¯</span></span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_3_L4C <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> T II III <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="skolem">N</span><span class="keyword1"><span class="free"><span class="hidden">⇧</span><sup>R</sup></span></span><span class="main">)</span><span class="main"><span class="free">¯</span></span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="main"><span class="free">[</span></span><span class="free">h</span><span class="main"><span class="free">]</span></span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_3_L4A <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted">False</span> <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_2_L29 <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">[</span></span><span class="free">h</span><span class="main"><span class="free">]</span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">y</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Now we can prove that every nonempty subset of reals that is bounded
  above has a supremum. Proof by considering two cases: when the set has a
  maximum and when it does not.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real1<span class="main">)</span> real_order_complete<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"IsBoundedAbove<span class="main">(</span><span class="free">S</span><span class="main">,</span>OrderOnReals<span class="main">)</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">S</span><span class="main">≠</span><span class="main">0</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"HasAminimum<span class="main">(</span>OrderOnReals<span class="main">,</span><span class="main">⋂</span><span class="bound">a</span><span class="main">∈</span><span class="free">S</span><span class="main">.</span> OrderOnReals<span class="main">``</span><span class="main">{</span><span class="bound">a</span><span class="main">}</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">{</span></span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"HasAmaximum<span class="main">(</span>OrderOnReals<span class="main">,</span><span class="free">S</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"HasAminimum<span class="main">(</span>OrderOnReals<span class="main">,</span><span class="main">⋂</span><span class="bound">a</span><span class="main">∈</span><span class="free">S</span><span class="main">.</span> OrderOnReals<span class="main">``</span><span class="main">{</span><span class="bound">a</span><span class="main">}</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_2_L10 IsAnOrdGroup_def IsPartOrder_def
	Order_ZF_5_L6 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span> <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">{</span></span> <span class="keyword3"><span class="command">assume</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">¬</span>HasAmaximum<span class="main">(</span>OrderOnReals<span class="main">,</span><span class="free">S</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?h</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"OddExtension<span class="main">(</span>int<span class="main">,</span>IntegerAddition<span class="main">,</span>IntegerOrder<span class="main">,</span><span class="main">{</span><span class="main">⟨</span><span class="bound">p</span><span class="main">,</span><span class="free">Γ</span><span class="main">(</span><span class="free">S</span><span class="main">,</span><span class="bound">p</span><span class="main">)</span><span class="main">⟩</span><span class="main">.</span> <span class="bound">p</span><span class="main">∈</span><span class="main"><span class="free">ℤ<span class="hidden">⇩</span><sub>+</sub></span></span><span class="main">}</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?r</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"OrderOnReals"</span></span>
    <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"antisym<span class="main">(</span>OrderOnReals<span class="main">)</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">S</span><span class="main">≠</span><span class="main">0</span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_2_L10 IsAnOrdGroup_def IsPartOrder_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">x</span><span class="main">∈</span><span class="free">S</span><span class="main">.</span> <span class="main">⟨</span><span class="bound">x</span><span class="main">,</span><span class="main"><span class="free">[</span></span><span class="var">?h</span><span class="main"><span class="free">]</span></span><span class="main">⟩</span> <span class="main">∈</span> <span class="var">?r</span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L25 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">y</span><span class="main">.</span> <span class="main">(</span><span class="main">∀</span><span class="bound">x</span><span class="main">∈</span><span class="free">S</span><span class="main">.</span> <span class="main">⟨</span><span class="bound">x</span><span class="main">,</span><span class="bound">y</span><span class="main">⟩</span> <span class="main">∈</span> <span class="var">?r</span><span class="main">)</span> <span class="main">⟶</span> <span class="main">⟨</span><span class="main"><span class="free">[</span></span><span class="var">?h</span><span class="main"><span class="free">]</span></span><span class="main">,</span><span class="bound">y</span><span class="main">⟩</span> <span class="main">∈</span> <span class="var">?r</span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_4_L28 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"HasAminimum<span class="main">(</span>OrderOnReals<span class="main">,</span><span class="main">⋂</span><span class="bound">a</span><span class="main">∈</span><span class="free">S</span><span class="main">.</span> OrderOnReals<span class="main">``</span><span class="main">{</span><span class="bound">a</span><span class="main">}</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> Order_ZF_5_L5<span class="main">)</span> <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
<span class="keyword1"><span class="command">qed</span></span>


<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Finally, we are ready to formulate the main result: that the 
  construction of real numbers from the additive group of integers
  results in a complete ordered field. 
  This theorem completes the construction. It was fun.›</span></span>

<span class="keyword1"><span class="command">theorem</span></span> eudoxus_reals_are_reals<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"IsAmodelOfReals<span class="main">(</span>RealNumbers<span class="main">,</span>RealAddition<span class="main">,</span>RealMultiplication<span class="main">,</span>OrderOnReals<span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> real1.reals_are_ord_field real1.real_order_complete 
    IsComplete_def IsAmodelOfReals_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword2"><span class="keyword">end</span></span>
</pre>
</body>

</html>