<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory Loop_ZF</title>
</head>


<body>
<div class="head">
<h1>Theory Loop_ZF</h1>
</div>

<pre class="source"><span class="comment1">(* 
This file is a part of IsarMathLib - 
a library of formalized mathematics for Isabelle/Isar.

Copyright (C) 2021  Slawomir Kolodynski

This program is free software; Redistribution and use in source and binary forms, 
with or without modification, are permitted provided that the 
following conditions are met:

1. Redistributions of source code must retain the above copyright notice, 
   this list of conditions and the following disclaimer.
   2. Redistributions in binary form must reproduce the above copyright notice, 
   this list of conditions and the following disclaimer in the documentation and/or 
   other materials provided with the distribution.
   3. The name of the author may not be used to endorse or promote products 
   derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED 
WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF 
MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, 
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, 
PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; 
OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR 
OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, 
EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

*)</span>

<span class="keyword1"><span class="command">section</span></span> <span class="quoted"><span class="plain_text">‚Äπ Loops ‚Ä∫</span></span>

<span class="keyword1"><span class="command">theory</span></span> Loop_ZF <span class="keyword2"><span class="keyword">imports</span></span> <a href="Quasigroup_ZF.html">Quasigroup_ZF</a>

<span class="keyword2"><span class="keyword">begin</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπThis theory specifies the definition and proves basic  properites of loops. 
  Loops are very similar to groups, the only property that is missing is associativity 
  of the operation.‚Ä∫</span></span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‚Äπ Definitions and notation ‚Ä∫</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚Äπ In this section we define the notions of identity element and left and right inverse. ‚Ä∫</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚Äπ A loop is a quasigroup with an identity elemen. ‚Ä∫</span></span>

<span class="keyword1"><span class="command">definition</span></span> <span class="quoted"><span class="quoted">"<span class="free">IsAloop</span><span class="main">(</span><span class="free"><span class="bound"><span class="entity">G</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">)</span> <span class="main">‚â°</span> IsAquasigroup<span class="main">(</span><span class="free"><span class="bound"><span class="entity">G</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">)</span> <span class="main">‚àß</span> <span class="main">(</span><span class="main">‚àÉ</span><span class="bound">e</span><span class="main">‚àà</span><span class="free"><span class="bound"><span class="entity">G</span></span></span><span class="main">.</span> <span class="main">‚àÄ</span><span class="bound">x</span><span class="main">‚àà</span><span class="free"><span class="bound"><span class="entity">G</span></span></span><span class="main">.</span> <span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">`</span><span class="main">‚ü®</span><span class="bound">e</span><span class="main">,</span><span class="bound">x</span><span class="main">‚ü©</span> <span class="main">=</span> <span class="bound">x</span> <span class="main">‚àß</span> <span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">`</span><span class="main">‚ü®</span><span class="bound">x</span><span class="main">,</span><span class="bound">e</span><span class="main">‚ü©</span> <span class="main">=</span> <span class="bound">x</span><span class="main">)</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚Äπ The neutral element for a binary operation $A:G\times G \rightarrow G $ is defined
  as the only element $e$ of $G$ such that $A\langle x,e\rangle = x$ and $A\langle e,x\rangle = x$
  for all $x\in G$. Note that although the loop definition guarantees the existence of (some) 
  such element(s) at this point we do not know if this element is unique. 
  We can define this notion   h ere but it will become usable only after we prove uniqueness. ‚Ä∫</span></span> 

<span class="keyword1"><span class="command">definition</span></span> 
 <span class="quoted"><span class="quoted">"<span class="free">TheNeutralElement</span><span class="main">(</span><span class="free"><span class="bound"><span class="entity">G</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">f</span></span></span><span class="main">)</span> <span class="main">‚â°</span> 
  <span class="main">(</span> <span class="keyword1">THE</span> <span class="bound">e</span><span class="main">.</span> <span class="bound">e</span><span class="main">‚àà</span><span class="free"><span class="bound"><span class="entity">G</span></span></span> <span class="main">‚àß</span> <span class="main">(</span><span class="main">‚àÄ</span> <span class="bound">g</span><span class="main">‚àà</span><span class="free"><span class="bound"><span class="entity">G</span></span></span><span class="main">.</span> <span class="free"><span class="bound"><span class="entity">f</span></span></span><span class="main">`</span><span class="main">‚ü®</span><span class="bound">e</span><span class="main">,</span><span class="bound">g</span><span class="main">‚ü©</span> <span class="main">=</span> <span class="bound">g</span> <span class="main">‚àß</span> <span class="free"><span class="bound"><span class="entity">f</span></span></span><span class="main">`</span><span class="main">‚ü®</span><span class="bound">g</span><span class="main">,</span><span class="bound">e</span><span class="main">‚ü©</span> <span class="main">=</span> <span class="bound">g</span><span class="main">)</span><span class="main">)</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπWe will reuse the notation defined in the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>quasigroup0‚Ä∫</span></span></span></span> locale, 
  just adding the assumption about the existence of a neutral element and notation for it.‚Ä∫</span></span>

<span class="keyword1"><span class="command">locale</span></span> loop0 <span class="main">=</span> quasigroup0 <span class="main">+</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> ex_ident<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">‚àÉ</span><span class="bound">e</span><span class="main">‚àà</span><span class="free">G</span><span class="main">.</span> <span class="main">‚àÄ</span><span class="bound">x</span><span class="main">‚àà</span><span class="free">G</span><span class="main">.</span> <span class="bound">e</span><span class="main"><span class="free">‚ãÖ</span></span><span class="bound">x</span> <span class="main">=</span> <span class="bound">x</span> <span class="main">‚àß</span> <span class="bound">x</span><span class="main"><span class="free">‚ãÖ</span></span><span class="bound">e</span> <span class="main">=</span> <span class="bound">x</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">neut</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">ùü≠</span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> neut_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùü≠</span></span> <span class="main">‚â°</span> TheNeutralElement<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">A</span><span class="main">)</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚Äπ In the loop context the pair <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>(G,A)‚Ä∫</span></span></span></span> forms a loop. ‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> loop0<span class="main">)</span> is_loop<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"IsAloop<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">A</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">unfolding</span></span> IsAloop_def <span class="keyword1"><span class="command">using</span></span> ex_ident qgroupassum <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπIf we know that a pair <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>(G,A)‚Ä∫</span></span></span></span> forms a loop then the assumptions of the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>loop0‚Ä∫</span></span></span></span> locale hold. ‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> loop_loop0_valid<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"IsAloop<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">A</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"loop0<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">A</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms <span class="keyword1"><span class="command">unfolding</span></span> IsAloop_def loop0_axioms_def quasigroup0_def loop0_def
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπThe neutral element is unique in the loop. ‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> loop0<span class="main">)</span> neut_uniq_loop<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"<span class="main">‚àÉ!</span><span class="bound">e</span><span class="main">.</span> <span class="bound">e</span><span class="main">‚àà</span><span class="free">G</span> <span class="main">‚àß</span> <span class="main">(</span><span class="main">‚àÄ</span><span class="bound">x</span><span class="main">‚àà</span><span class="free">G</span><span class="main">.</span> <span class="bound">e</span><span class="main"><span class="free">‚ãÖ</span></span><span class="bound">x</span> <span class="main">=</span> <span class="bound">x</span> <span class="main">‚àß</span> <span class="bound">x</span><span class="main"><span class="free">‚ãÖ</span></span><span class="bound">e</span> <span class="main">=</span> <span class="bound">x</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span>
  <span class="keyword1"><span class="command">from</span></span> ex_ident <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚àÉ</span><span class="bound">e</span><span class="main">.</span> <span class="bound">e</span> <span class="main">‚àà</span> <span class="free">G</span> <span class="main">‚àß</span> <span class="main">(</span><span class="main">‚àÄ</span><span class="bound">x</span><span class="main">‚àà</span><span class="free">G</span><span class="main">.</span> <span class="bound">e</span> <span class="main"><span class="free">‚ãÖ</span></span> <span class="bound">x</span> <span class="main">=</span> <span class="bound">x</span> <span class="main">‚àß</span> <span class="bound">x</span> <span class="main"><span class="free">‚ãÖ</span></span> <span class="bound">e</span> <span class="main">=</span> <span class="bound">x</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">next</span></span>
  <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">e</span> <span class="skolem">y</span> 
  <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">e</span> <span class="main">‚àà</span> <span class="free">G</span> <span class="main">‚àß</span> <span class="main">(</span><span class="main">‚àÄ</span><span class="bound">x</span><span class="main">‚àà</span><span class="free">G</span><span class="main">.</span> <span class="skolem">e</span> <span class="main"><span class="free">‚ãÖ</span></span> <span class="bound">x</span> <span class="main">=</span> <span class="bound">x</span> <span class="main">‚àß</span> <span class="bound">x</span> <span class="main"><span class="free">‚ãÖ</span></span> <span class="skolem">e</span> <span class="main">=</span> <span class="bound">x</span><span class="main">)</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="skolem">y</span> <span class="main">‚àà</span> <span class="free">G</span> <span class="main">‚àß</span> <span class="main">(</span><span class="main">‚àÄ</span><span class="bound">x</span><span class="main">‚àà</span><span class="free">G</span><span class="main">.</span> <span class="skolem">y</span> <span class="main"><span class="free">‚ãÖ</span></span> <span class="bound">x</span> <span class="main">=</span> <span class="bound">x</span> <span class="main">‚àß</span> <span class="bound">x</span> <span class="main"><span class="free">‚ãÖ</span></span> <span class="skolem">y</span> <span class="main">=</span> <span class="bound">x</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">e</span><span class="main"><span class="free">‚ãÖ</span></span><span class="skolem">y</span> <span class="main">=</span><span class="skolem">y</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">e</span><span class="main"><span class="free">‚ãÖ</span></span><span class="skolem">y</span> <span class="main">=</span> <span class="skolem">e</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword3"><span class="command">thus</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">e</span><span class="main">=</span><span class="skolem">y</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚Äπ The neutral element as defined in the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>loop0‚Ä∫</span></span></span></span> locale is indeed neutral. ‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> loop0<span class="main">)</span> neut_props_loop<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùü≠</span></span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚àÄ</span><span class="bound">x</span><span class="main">‚àà</span><span class="free">G</span><span class="main">.</span> <span class="main"><span class="free">ùü≠</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="bound">x</span> <span class="main">=</span><span class="bound">x</span> <span class="main">‚àß</span> <span class="bound">x</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main"><span class="free">ùü≠</span></span> <span class="main">=</span> <span class="bound">x</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>  
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?n</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="keyword1">THE</span> <span class="bound">e</span><span class="main">.</span> <span class="bound">e</span><span class="main">‚àà</span><span class="free">G</span> <span class="main">‚àß</span> <span class="main">(</span><span class="main">‚àÄ</span><span class="bound">x</span><span class="main">‚àà</span><span class="free">G</span><span class="main">.</span> <span class="bound">e</span><span class="main"><span class="free">‚ãÖ</span></span><span class="bound">x</span> <span class="main">=</span> <span class="bound">x</span> <span class="main">‚àß</span> <span class="bound">x</span><span class="main"><span class="free">‚ãÖ</span></span><span class="bound">e</span> <span class="main">=</span> <span class="bound">x</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùü≠</span></span> <span class="main">=</span> TheNeutralElement<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">A</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùü≠</span></span> <span class="main">=</span> <span class="var">?n</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> TheNeutralElement_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?n</span><span class="main">‚àà</span><span class="free">G</span> <span class="main">‚àß</span> <span class="main">(</span><span class="main">‚àÄ</span><span class="bound">x</span><span class="main">‚àà</span><span class="free">G</span><span class="main">.</span> <span class="var">?n</span><span class="main"><span class="free">‚ãÖ</span></span><span class="bound">x</span> <span class="main">=</span> <span class="bound">x</span> <span class="main">‚àß</span> <span class="bound">x</span><span class="main"><span class="free">‚ãÖ</span></span><span class="var">?n</span> <span class="main">=</span> <span class="bound">x</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> neut_uniq_loop theI
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùü≠</span></span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚àÄ</span><span class="bound">x</span><span class="main">‚àà</span><span class="free">G</span><span class="main">.</span> <span class="main"><span class="free">ùü≠</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="bound">x</span> <span class="main">=</span> <span class="bound">x</span> <span class="main">‚àß</span> <span class="bound">x</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main"><span class="free">ùü≠</span></span> <span class="main">=</span> <span class="bound">x</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπEvery element of a loop has unique left and right inverse (which need not be the same). 
  Here we define the left inverse as a function on $G$. ‚Ä∫</span></span>

<span class="keyword1"><span class="command">definition</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">LeftInv</span><span class="main">(</span><span class="free"><span class="bound"><span class="entity">G</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">)</span> <span class="main">‚â°</span> <span class="main">{</span><span class="main">‚ü®</span><span class="bound">x</span><span class="main">,</span><span class="main">‚ãÉ</span><span class="main">{</span><span class="bound">y</span><span class="main">‚àà</span><span class="free"><span class="bound"><span class="entity">G</span></span></span><span class="main">.</span> <span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">`</span><span class="main">‚ü®</span><span class="bound">y</span><span class="main">,</span><span class="bound">x</span><span class="main">‚ü©</span> <span class="main">=</span> TheNeutralElement<span class="main">(</span><span class="free"><span class="bound"><span class="entity">G</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">)</span><span class="main">}</span><span class="main">‚ü©</span><span class="main">.</span> <span class="bound">x</span><span class="main">‚àà</span><span class="free"><span class="bound"><span class="entity">G</span></span></span><span class="main">}</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπDefinition of the right inverse as a function on $G$: ‚Ä∫</span></span>

<span class="keyword1"><span class="command">definition</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">RightInv</span><span class="main">(</span><span class="free"><span class="bound"><span class="entity">G</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">)</span> <span class="main">‚â°</span> <span class="main">{</span><span class="main">‚ü®</span><span class="bound">x</span><span class="main">,</span><span class="main">‚ãÉ</span><span class="main">{</span><span class="bound">y</span><span class="main">‚àà</span><span class="free"><span class="bound"><span class="entity">G</span></span></span><span class="main">.</span> <span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">`</span><span class="main">‚ü®</span><span class="bound">x</span><span class="main">,</span><span class="bound">y</span><span class="main">‚ü©</span> <span class="main">=</span> TheNeutralElement<span class="main">(</span><span class="free"><span class="bound"><span class="entity">G</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">)</span><span class="main">}</span><span class="main">‚ü©</span><span class="main">.</span> <span class="bound">x</span><span class="main">‚àà</span><span class="free"><span class="bound"><span class="entity">G</span></span></span><span class="main">}</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπIn a loop $G$ right and left inverses are functions on $G$. ‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> loop0<span class="main">)</span> lr_inv_fun<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"LeftInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">A</span><span class="main">)</span><span class="main">:</span><span class="free">G</span><span class="main">‚Üí</span><span class="free">G</span>"</span></span> <span class="quoted"><span class="quoted">"RightInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">A</span><span class="main">)</span><span class="main">:</span><span class="free">G</span><span class="main">‚Üí</span><span class="free">G</span>"</span></span>
  <span class="keyword1"><span class="command">unfolding</span></span> LeftInv_def RightInv_def
  <span class="keyword1"><span class="command">using</span></span> neut_props_loop lrdiv_props<span class="main">(</span>1<span class="main">,</span>4<span class="main">)</span> ZF1_1_L9 ZF_fun_from_total
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπRight and left inverses have desired properties.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> loop0<span class="main">)</span> lr_inv_props<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main">‚àà</span><span class="free">G</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> 
    <span class="quoted"><span class="quoted">"LeftInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">A</span><span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="free">x</span><span class="main">)</span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span>LeftInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">A</span><span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="free">x</span><span class="main">)</span><span class="main">)</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">x</span> <span class="main">=</span> <span class="main"><span class="free">ùü≠</span></span>"</span></span> 
    <span class="quoted"><span class="quoted">"RightInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">A</span><span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="free">x</span><span class="main">)</span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span>RightInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">A</span><span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="free">x</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="main"><span class="free">ùü≠</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"LeftInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">A</span><span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="free">x</span><span class="main">)</span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"RightInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">A</span><span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="free">x</span><span class="main">)</span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> lr_inv_fun apply_funtype <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚àÉ!</span><span class="bound">y</span><span class="main">.</span> <span class="bound">y</span><span class="main">‚àà</span><span class="free">G</span> <span class="main">‚àß</span> <span class="bound">y</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">x</span> <span class="main">=</span> <span class="main"><span class="free">ùü≠</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> neut_props_loop<span class="main">(</span>1<span class="main">)</span> lrdiv_props<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">‚ãÉ</span><span class="main">{</span><span class="bound">y</span><span class="main">‚àà</span><span class="free">G</span><span class="main">.</span>  <span class="bound">y</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">x</span> <span class="main">=</span> <span class="main"><span class="free">ùü≠</span></span><span class="main">}</span><span class="main">)</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">x</span> <span class="main">=</span> <span class="main"><span class="free">ùü≠</span></span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> ZF1_1_L9<span class="main">)</span>
  <span class="keyword1"><span class="command">with</span></span> assms <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span>LeftInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">A</span><span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="free">x</span><span class="main">)</span><span class="main">)</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">x</span> <span class="main">=</span> <span class="main"><span class="free">ùü≠</span></span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> lr_inv_fun<span class="main">(</span>1<span class="main">)</span> ZF_fun_from_tot_val <span class="keyword1"><span class="command">unfolding</span></span> LeftInv_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚àÉ!</span><span class="bound">y</span><span class="main">.</span> <span class="bound">y</span><span class="main">‚àà</span><span class="free">G</span> <span class="main">‚àß</span> <span class="free">x</span><span class="main"><span class="free">‚ãÖ</span></span><span class="bound">y</span> <span class="main">=</span> <span class="main"><span class="free">ùü≠</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> neut_props_loop<span class="main">(</span>1<span class="main">)</span> lrdiv_props<span class="main">(</span>4<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="main">‚ãÉ</span><span class="main">{</span><span class="bound">y</span><span class="main">‚àà</span><span class="free">G</span><span class="main">.</span>  <span class="free">x</span><span class="main"><span class="free">‚ãÖ</span></span><span class="bound">y</span> <span class="main">=</span> <span class="main"><span class="free">ùü≠</span></span><span class="main">}</span><span class="main">)</span> <span class="main">=</span> <span class="main"><span class="free">ùü≠</span></span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> ZF1_1_L9<span class="main">)</span>
  <span class="keyword1"><span class="command">with</span></span> assms <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span>RightInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">A</span><span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="free">x</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="main"><span class="free">ùü≠</span></span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> lr_inv_fun<span class="main">(</span>2<span class="main">)</span> ZF_fun_from_tot_val <span class="keyword1"><span class="command">unfolding</span></span> RightInv_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword2"><span class="keyword">end</span></span>
</pre>
</body>

</html>