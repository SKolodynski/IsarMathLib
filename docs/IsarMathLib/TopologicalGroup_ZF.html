<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory TopologicalGroup_ZF</title>
</head>


<body>
<div class="head">
<h1>Theory TopologicalGroup_ZF</h1>
</div>

<pre class="source"><span class="comment1">(* 
    This file is a part of IsarMathLib - 
    a library of formalized mathematics written for Isabelle/Isar.

    Copyright (C) 2009-2020  Slawomir Kolodynski

    This program is free software; Redistribution and use in source and binary forms, 
    with or without modification, are permitted provided that the following conditions are met:

   1. Redistributions of source code must retain the above copyright notice, 
   this list of conditions and the following disclaimer.
   2. Redistributions in binary form must reproduce the above copyright notice, 
   this list of conditions and the following disclaimer in the documentation and/or 
   other materials provided with the distribution.
   3. The name of the author may not be used to endorse or promote products 
   derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED WARRANTIES,
INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT,
INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES LOSS OF USE, DATA, OR PROFITS OR
BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE
USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

*)</span>

<span class="keyword1"><span class="command">section</span></span> <span class="quoted"><span class="plain_text">‚ÄπTopological groups - introduction‚Ä∫</span></span>

<span class="keyword1"><span class="command">theory</span></span> TopologicalGroup_ZF <span class="keyword2"><span class="keyword">imports</span></span> <a href="Topology_ZF_3.html">Topology_ZF_3</a> <a href="Group_ZF_1.html">Group_ZF_1</a> <a href="Semigroup_ZF.html">Semigroup_ZF</a>

<span class="keyword2"><span class="keyword">begin</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπThis theory is about the first subject of algebraic topology:
  topological groups.‚Ä∫</span></span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‚ÄπTopological group: definition and notation‚Ä∫</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπTopological group is a group that is a topological space 
  at the same time. This means that a topological group is a triple of sets, 
  say $(G,f,T)$ such that $T$ is a topology on $G$, $f$ is a group 
  operation on $G$ and both $f$ and the operation of taking inverse in $G$ 
  are continuous. Since IsarMathLib defines topology without using the carrier,
  (see <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>Topology_ZF‚Ä∫</span></span></span></span>), in our setup we just use $\bigcup T$ instead
  of $G$ and say that the  pair of sets $(\bigcup T , f)$ is a group.
  This way our definition of being a topological group is a statement about two
  sets: the topology $T$ and the group operation $f$ on $G=\bigcup T$.
  Since the domain of the group operation is $G\times G$, the pair of 
  topologies in which $f$ is supposed to be continuous is $T$ and
  the product topology on $G\times G$ (which we will call $\tau$ below).‚Ä∫</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπThis way we arrive at the following definition of a predicate that
  states that pair of sets is a topological group.‚Ä∫</span></span>

<span class="keyword1"><span class="command">definition</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">IsAtopologicalGroup</span><span class="main">(</span><span class="free"><span class="bound"><span class="entity">T</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">f</span></span></span><span class="main">)</span> <span class="main">‚â°</span> <span class="main">(</span><span class="free"><span class="bound"><span class="entity">T</span></span></span> <span class="keyword1">{is</span> <span class="keyword1">a</span> <span class="keyword1">topology}</span><span class="main">)</span> <span class="main">‚àß</span> IsAgroup<span class="main">(</span><span class="main">‚ãÉ</span><span class="free"><span class="bound"><span class="entity">T</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">f</span></span></span><span class="main">)</span> <span class="main">‚àß</span>
  IsContinuous<span class="main">(</span>ProductTopology<span class="main">(</span><span class="free"><span class="bound"><span class="entity">T</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">T</span></span></span><span class="main">)</span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">T</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">f</span></span></span><span class="main">)</span> <span class="main">‚àß</span> 
  IsContinuous<span class="main">(</span><span class="free"><span class="bound"><span class="entity">T</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">T</span></span></span><span class="main">,</span>GroupInv<span class="main">(</span><span class="main">‚ãÉ</span><span class="free"><span class="bound"><span class="entity">T</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">f</span></span></span><span class="main">)</span><span class="main">)</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπWe will inherit notation from the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>topology0‚Ä∫</span></span></span></span> locale. That locale assumes that
  $T$ is a topology. For convenience we will denote $G=\bigcup T$ and $\tau$ to be 
  the product topology on $G\times G$. To that we add some
  notation specific to groups. We will use additive notation
  for the group operation, even though we don't assume that the group is abelian.
  The notation $g+A$ will mean the left translation of the set $A$ by element $g$, i.e.
  $g+A=\{g+a|a\in A\}$.
  The group operation $G$ induces a natural operation on the subsets of $G$
  defined as $\langle A,B\rangle \mapsto \{x+y | x\in A, y\in B \}$.
  Such operation has been considered in <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>func_ZF‚Ä∫</span></span></span></span> and called 
  $f$ ''lifted to subsets of'' $G$. We will denote the value of such operation 
  on sets $A,B$ as $A+B$.
  The set of neigboorhoods of zero (denoted <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>ùí©<span class="hidden">‚á©</span><sub>0</sub>‚Ä∫</span></span></span></span>) is the 
  collection of (not necessarily open) sets whose interior contains the neutral
  element of the group.‚Ä∫</span></span>

<span class="keyword1"><span class="command">locale</span></span> topgroup <span class="main">=</span> topology0 <span class="main">+</span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">G</span>
  <span class="keyword2"><span class="keyword">defines</span></span> G_def <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">G</span> <span class="main">‚â°</span> <span class="main">‚ãÉ</span><span class="free">T</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">prodtop</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">œÑ</span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> prodtop_def <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="keyword1"><span class="free">œÑ</span></span> <span class="main">‚â°</span> ProductTopology<span class="main">(</span><span class="free">T</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">f</span>

  <span class="keyword2"><span class="keyword">assumes</span></span> Ggroup<span class="main">:</span> <span class="quoted"><span class="quoted">"IsAgroup<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">assumes</span></span> fcon<span class="main">:</span> <span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span><span class="keyword1"><span class="free">œÑ</span></span><span class="main">,</span><span class="free">T</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">assumes</span></span> inv_cont<span class="main">:</span> <span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span><span class="free">T</span><span class="main">,</span><span class="free">T</span><span class="main">,</span>GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">)</span><span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">grop</span> <span class="main">(</span><span class="keyword2"><span class="keyword">infixl</span></span> <span class="quoted">"<span class="keyword1">\&lt;ra&gt;</span>"</span> 90<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> grop_def <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">y</span> <span class="main">‚â°</span> <span class="free">f</span><span class="main">`</span><span class="main">‚ü®</span><span class="free">x</span><span class="main">,</span><span class="free">y</span><span class="main">‚ü©</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">grinv</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">\&lt;rm&gt;</span> _"</span> 89<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> grinv_def <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x</span><span class="main">)</span> <span class="main">‚â°</span> GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="free">x</span><span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">grsub</span> <span class="main">(</span><span class="keyword2"><span class="keyword">infixl</span></span> <span class="quoted">"<span class="keyword1">\&lt;rs&gt;</span>"</span> 90<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> grsub_def <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">y</span> <span class="main">‚â°</span> <span class="free">x</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">y</span><span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">setinv</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">\&lt;sm&gt;</span> _"</span> 72<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> setninv_def <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">\&lt;sm&gt;</span></span><span class="free">A</span> <span class="main">‚â°</span> GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">)</span><span class="main">``</span><span class="main">(</span><span class="free">A</span><span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">ltrans</span> <span class="main">(</span><span class="keyword2"><span class="keyword">infix</span></span> <span class="quoted">"<span class="keyword1">\&lt;ltr&gt;</span>"</span> 73<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> ltrans_def <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main"><span class="free">\&lt;ltr&gt;</span></span> <span class="free">A</span> <span class="main">‚â°</span> LeftTranslation<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">,</span><span class="free">x</span><span class="main">)</span><span class="main">``</span><span class="main">(</span><span class="free">A</span><span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">rtrans</span> <span class="main">(</span><span class="keyword2"><span class="keyword">infix</span></span> <span class="quoted">"<span class="keyword1">\&lt;rtr&gt;</span>"</span> 73<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> rtrans_def <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">A</span> <span class="main"><span class="free">\&lt;rtr&gt;</span></span> <span class="free">x</span> <span class="main">‚â°</span> RightTranslation<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">,</span><span class="free">x</span><span class="main">)</span><span class="main">``</span><span class="main">(</span><span class="free">A</span><span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">setadd</span> <span class="main">(</span><span class="keyword2"><span class="keyword">infixl</span></span> <span class="quoted">"<span class="keyword1">\&lt;sad&gt;</span>"</span> 71<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> setadd_def <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main"><span class="free">\&lt;sad&gt;</span></span><span class="free">B</span> <span class="main">‚â°</span> <span class="main">(</span><span class="free">f</span> <span class="keyword1">{lifted</span> <span class="keyword1">to</span> <span class="keyword1">subsets</span> <span class="keyword1">of}</span> <span class="free">G</span><span class="main">)</span><span class="main">`</span><span class="main">‚ü®</span><span class="free">A</span><span class="main">,</span><span class="free">B</span><span class="main">‚ü©</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">gzero</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">ùü¨</span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> gzero_def <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùü¨</span></span> <span class="main">‚â°</span> TheNeutralElement<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">zerohoods</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">ùí©<span class="hidden">‚á©</span><sub>0</sub></span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> zerohoods_def <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="keyword1"><span class="free">ùí©<span class="hidden">‚á©</span><sub>0</sub></span></span> <span class="main">‚â°</span> <span class="main">{</span><span class="bound">A</span> <span class="main">‚àà</span> Pow<span class="main">(</span><span class="free">G</span><span class="main">)</span><span class="main">.</span> <span class="main"><span class="free">ùü¨</span></span> <span class="main">‚àà</span> <span class="free">int</span><span class="main">(</span><span class="bound">A</span><span class="main">)</span><span class="main">}</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">listsum</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">‚àë</span> _"</span> 70<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> listsum_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">‚àë</span></span><span class="free">k</span> <span class="main">‚â°</span> Fold1<span class="main">(</span><span class="free">f</span><span class="main">,</span><span class="free">k</span><span class="main">)</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπThe first lemma states that we indeeed talk about topological group
  in the context of <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>topgroup‚Ä∫</span></span></span></span> locale.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> topGroup<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"IsAtopologicalGroup<span class="main">(</span><span class="free">T</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> topSpaceAssum Ggroup fcon inv_cont IsAtopologicalGroup_def 
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπIf a pair of sets $(T,f)$ forms a topological group, then
 all theorems proven in the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>topgroup‚Ä∫</span></span></span></span> context are valid as applied to 
 $(T,f)$.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> topGroupLocale<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"IsAtopologicalGroup<span class="main">(</span><span class="free">T</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"topgroup<span class="main">(</span><span class="free">T</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms IsAtopologicalGroup_def topgroup_def 
    topgroup_axioms.intro topology0_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπWe can use the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>group0‚Ä∫</span></span></span></span> locale in the context of <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>topgroup‚Ä∫</span></span></span></span>.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> group0_valid_in_tgroup<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"group0<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> Ggroup group0_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπWe can use the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>group0‚Ä∫</span></span></span></span> locale in the context of <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>topgroup‚Ä∫</span></span></span></span>.‚Ä∫</span></span>

<span class="keyword1"><span class="command">sublocale</span></span> topgroup <span class="main">&lt;</span> group0 <span class="quoted"><span class="free">G</span></span> <span class="quoted"><span class="free">f</span></span> <span class="quoted"><span class="free">gzero</span></span> <span class="quoted"><span class="free">grop</span></span> <span class="quoted"><span class="free">grinv</span></span> 
    <span class="keyword1"><span class="command">unfolding</span></span> group0_def gzero_def grop_def grinv_def <span class="keyword1"><span class="command">using</span></span> Ggroup <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπWe can use <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>semigr0‚Ä∫</span></span></span></span> locale in the context of <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>topgroup‚Ä∫</span></span></span></span>.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> semigr0_valid_in_tgroup<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"semigr0<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> Ggroup IsAgroup_def IsAmonoid_def semigr0_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span> 

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπWe can use the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>prod_top_spaces0‚Ä∫</span></span></span></span> locale in the context of <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>topgroup‚Ä∫</span></span></span></span>.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> prod_top_spaces0_valid<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"prod_top_spaces0<span class="main">(</span><span class="free">T</span><span class="main">,</span><span class="free">T</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> topSpaceAssum prod_top_spaces0_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπNegative of a group element is in group.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> neg_in_tgroup<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">g</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">g</span><span class="main">)</span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms inverse_in_group <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπSum of two group elements is in the group.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> group_op_closed_add<span class="main">:</span>  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span> 
  <span class="keyword1"><span class="command">using</span></span> assms group_op_closed <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπZero is in the group.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> zero_in_tgroup<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùü¨</span></span><span class="main">‚àà</span><span class="free">G</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> group0_2_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚Äπ Another lemma about canceling with two group elements written in additive notation ‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> inv_cancel_two_add<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span> 
  <span class="keyword2"><span class="keyword">shows</span></span> 
    <span class="quoted"><span class="quoted">"<span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">)</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span> <span class="main">=</span> <span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">)</span> <span class="main">=</span> <span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">)</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="main">(</span><span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">)</span> <span class="main">=</span> <span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="main">(</span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">)</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">)</span> <span class="main">=</span> <span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms inv_cancel_two <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπUseful identities proven in the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>Group_ZF‚Ä∫</span></span></span></span> theory, rewritten here in additive notation.
  Note since the group operation notation is left associative we don't really need the first set
  of parentheses in some cases.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> cancel_middle_add<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">x<span class="hidden">‚á©</span><sub>3</sub></span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> 
    <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">)</span><span class="main">)</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="main">(</span><span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>3</sub></span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>3</sub></span><span class="main">)</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">)</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">)</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="main">(</span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">)</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>3</sub></span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">)</span><span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">x<span class="hidden">‚á©</span><sub>3</sub></span>"</span></span> 
    <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span> <span class="main">(</span><span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">)</span><span class="main">)</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>3</sub></span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">)</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>3</sub></span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">)</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="main">(</span><span class="free">x<span class="hidden">‚á©</span><sub>3</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">)</span><span class="main">)</span> <span class="main">=</span><span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>3</sub></span><span class="main">)</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">)</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>3</sub></span><span class="main">)</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>3</sub></span><span class="main">)</span> <span class="main">=</span> <span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span> 
  <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>3</sub></span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">)</span><span class="main">)</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="main">(</span><span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>3</sub></span><span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> group0_2_L14A<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword3"><span class="command">thus</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">)</span><span class="main">)</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="main">(</span><span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>3</sub></span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>3</sub></span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">)</span><span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">x<span class="hidden">‚á©</span><sub>3</sub></span> <span class="main">=</span> <span class="main">(</span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">)</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">)</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="main">(</span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">)</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>3</sub></span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> group0_2_L14A<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword3"><span class="command">thus</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">)</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">)</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="main">(</span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">)</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>3</sub></span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">)</span><span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">x<span class="hidden">‚á©</span><sub>3</sub></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span> <span class="main">(</span><span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">)</span><span class="main">)</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>3</sub></span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">)</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>3</sub></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> cancel_middle<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">)</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="main">(</span><span class="free">x<span class="hidden">‚á©</span><sub>3</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">)</span><span class="main">)</span> <span class="main">=</span><span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>3</sub></span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> cancel_middle<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">)</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>3</sub></span><span class="main">)</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>3</sub></span><span class="main">)</span> <span class="main">=</span> <span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> cancel_middle<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚Äπ We can cancel an element on the right from both sides of an equation. ‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> cancel_right_add<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">x<span class="hidden">‚á©</span><sub>3</sub></span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span> <span class="main">=</span> <span class="free">x<span class="hidden">‚á©</span><sub>3</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span>"</span></span> 
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span> <span class="main">=</span> <span class="free">x<span class="hidden">‚á©</span><sub>3</sub></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms cancel_right <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚Äπ We can cancel an element on the left from both sides of an equation. ‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> cancel_left_add<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">x<span class="hidden">‚á©</span><sub>3</sub></span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span> <span class="main">=</span> <span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>3</sub></span>"</span></span> 
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span> <span class="main">=</span> <span class="free">x<span class="hidden">‚á©</span><sub>3</sub></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms cancel_left <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπWe can put an element on the other side of an equation.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> put_on_the_other_side<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">x<span class="hidden">‚á©</span><sub>3</sub></span> <span class="main">=</span> <span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">x<span class="hidden">‚á©</span><sub>3</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">)</span> <span class="main">=</span> <span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">)</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>3</sub></span> <span class="main">=</span> <span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span>"</span></span> 
  <span class="keyword1"><span class="command">using</span></span> assms group0_2_L18 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> 

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπA simple equation from lemma <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>simple_equation0‚Ä∫</span></span></span></span> in <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>Group_ZF‚Ä∫</span></span></span></span> in additive notation ‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> simple_equation0_add<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">x<span class="hidden">‚á©</span><sub>3</sub></span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>3</sub></span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">x<span class="hidden">‚á©</span><sub>3</sub></span> <span class="main">=</span> <span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms simple_equation0 <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπA simple equation from lemma <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>simple_equation1‚Ä∫</span></span></span></span> in <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>Group_ZF‚Ä∫</span></span></span></span> in additive notation ‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> simple_equation1_add<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">x<span class="hidden">‚á©</span><sub>3</sub></span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">)</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span> <span class="main">=</span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>3</sub></span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">x<span class="hidden">‚á©</span><sub>3</sub></span> <span class="main">=</span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">)</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">x<span class="hidden">‚á©</span><sub>1</sub></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms simple_equation1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπThe set comprehension form of negative of a set. The proof uses the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>ginv_image‚Ä∫</span></span></span></span> lemma from 
  <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>Group_ZF‚Ä∫</span></span></span></span> theory which states the same thing in multiplicative notation. ‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> ginv_image_add<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">V</span><span class="main">‚äÜ</span><span class="free">G</span>"</span></span> 
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;sm&gt;</span></span><span class="free">V</span><span class="main">)</span><span class="main">‚äÜ</span><span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;sm&gt;</span></span><span class="free">V</span><span class="main">)</span> <span class="main">=</span> <span class="main">{</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="bound">x</span><span class="main">.</span> <span class="bound">x</span> <span class="main">‚àà</span> <span class="free">V</span><span class="main">}</span>"</span></span> 
  <span class="keyword1"><span class="command">using</span></span> assms ginv_image <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚Äπ The additive notation version of <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>ginv_image_el‚Ä∫</span></span></span></span> lemma from <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>Group_ZF‚Ä∫</span></span></span></span> theory ‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> ginv_image_el_add<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">V</span><span class="main">‚äÜ</span><span class="free">G</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">‚àà</span> <span class="main">(</span><span class="main"><span class="free">\&lt;sm&gt;</span></span><span class="free">V</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x</span><span class="main">)</span> <span class="main">‚àà</span> <span class="free">V</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms ginv_image_el <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπOf course the product topology is a topology (on $G\times G$).‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> prod_top_on_G<span class="main">:</span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="keyword1"><span class="free">œÑ</span></span> <span class="keyword1">{is</span> <span class="keyword1">a</span> <span class="keyword1">topology}</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚ãÉ</span><span class="keyword1"><span class="free">œÑ</span></span> <span class="main">=</span> <span class="free">G</span><span class="main">√ó</span><span class="free">G</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> topSpaceAssum Top_1_4_T1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπLet's recall that $f$ is a binary operation on $G$ in this context.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> topgroup_f_binop<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span> <span class="main">:</span> <span class="free">G</span><span class="main">√ó</span><span class="free">G</span> <span class="main">‚Üí</span> <span class="free">G</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> Ggroup group0_def group0.group_oper_assocA <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπA subgroup of a topological group is a topological group 
  with relative topology
  and restricted operation. Relative topology is the same
  as <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>T {restricted to} H‚Ä∫</span></span></span></span>
  which is defined to be $\{V \cap H: V\in T\}$ in <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>ZF1‚Ä∫</span></span></span></span> theory.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> top_subgroup<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"IsAsubgroup<span class="main">(</span><span class="free">H</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"IsAtopologicalGroup<span class="main">(</span><span class="free">T</span> <span class="keyword1">{restricted</span> <span class="keyword1">to}</span> <span class="free">H</span><span class="main">,</span>restrict<span class="main">(</span><span class="free">f</span><span class="main">,</span><span class="free">H</span><span class="main">√ó</span><span class="free">H</span><span class="main">)</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?œÑ<span class="hidden">‚á©</span><sub>0</sub></span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="free">T</span> <span class="keyword1">{restricted</span> <span class="keyword1">to}</span> <span class="free">H</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?f<span class="hidden">‚á©</span><sub>H</sub></span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"restrict<span class="main">(</span><span class="free">f</span><span class="main">,</span><span class="free">H</span><span class="main">√ó</span><span class="free">H</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚ãÉ</span><span class="var">?œÑ<span class="hidden">‚á©</span><sub>0</sub></span> <span class="main">=</span> <span class="free">G</span> <span class="main">‚à©</span> <span class="free">H</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> union_restrict <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚Ä¶</span> <span class="main">=</span> <span class="free">H</span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> group0_3_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">finally</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚ãÉ</span><span class="var">?œÑ<span class="hidden">‚á©</span><sub>0</sub></span> <span class="main">=</span> <span class="free">H</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?œÑ<span class="hidden">‚á©</span><sub>0</sub></span> <span class="keyword1">{is</span> <span class="keyword1">a</span> <span class="keyword1">topology}</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Top_1_L4 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 <span class="quoted"><span class="quoted">‚Äπ<span class="main">‚ãÉ</span><span class="var">?œÑ<span class="hidden">‚á©</span><sub>0</sub></span> <span class="main">=</span> <span class="free">H</span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IsAgroup<span class="main">(</span><span class="main">‚ãÉ</span><span class="var">?œÑ<span class="hidden">‚á©</span><sub>0</sub></span><span class="main">,</span><span class="var">?f<span class="hidden">‚á©</span><sub>H</sub></span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> IsAsubgroup_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span>ProductTopology<span class="main">(</span><span class="var">?œÑ<span class="hidden">‚á©</span><sub>0</sub></span><span class="main">,</span><span class="var">?œÑ<span class="hidden">‚á©</span><sub>0</sub></span><span class="main">)</span><span class="main">,</span><span class="var">?œÑ<span class="hidden">‚á©</span><sub>0</sub></span><span class="main">,</span><span class="var">?f<span class="hidden">‚á©</span><sub>H</sub></span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"two_top_spaces0<span class="main">(</span><span class="keyword1"><span class="free">œÑ</span></span><span class="main">,</span> <span class="free">T</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> topSpaceAssum prod_top_on_G topgroup_f_binop prod_top_on_G
	two_top_spaces0_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">moreover</span></span> 
    <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">H</span> <span class="main">‚äÜ</span> <span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> group0_3_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">H</span><span class="main">√ó</span><span class="free">H</span> <span class="main">‚äÜ</span> <span class="main">‚ãÉ</span><span class="keyword1"><span class="free">œÑ</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> prod_top_on_G <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span><span class="keyword1"><span class="free">œÑ</span></span><span class="main">,</span><span class="free">T</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> fcon <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> 
      <span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span><span class="keyword1"><span class="free">œÑ</span></span> <span class="keyword1">{restricted</span> <span class="keyword1">to}</span> <span class="free">H</span><span class="main">√ó</span><span class="free">H</span><span class="main">,</span> <span class="free">T</span> <span class="keyword1">{restricted</span> <span class="keyword1">to}</span> <span class="var">?f<span class="hidden">‚á©</span><sub>H</sub></span><span class="main">``</span><span class="main">(</span><span class="free">H</span><span class="main">√ó</span><span class="free">H</span><span class="main">)</span><span class="main">,</span><span class="var">?f<span class="hidden">‚á©</span><sub>H</sub></span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> two_top_spaces0.restr_restr_image_cont
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span>
      <span class="quoted"><span class="quoted">"ProductTopology<span class="main">(</span><span class="var">?œÑ<span class="hidden">‚á©</span><sub>0</sub></span><span class="main">,</span><span class="var">?œÑ<span class="hidden">‚á©</span><sub>0</sub></span><span class="main">)</span> <span class="main">=</span> <span class="keyword1"><span class="free">œÑ</span></span> <span class="keyword1">{restricted</span> <span class="keyword1">to}</span> <span class="free">H</span><span class="main">√ó</span><span class="free">H</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> topSpaceAssum prod_top_restr_comm
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?f<span class="hidden">‚á©</span><sub>H</sub></span><span class="main">``</span><span class="main">(</span><span class="free">H</span><span class="main">√ó</span><span class="free">H</span><span class="main">)</span> <span class="main">=</span> <span class="free">H</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> image_subgr_op
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">qed</span></span> 
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span><span class="var">?œÑ<span class="hidden">‚á©</span><sub>0</sub></span><span class="main">,</span><span class="var">?œÑ<span class="hidden">‚á©</span><sub>0</sub></span><span class="main">,</span>GroupInv<span class="main">(</span><span class="main">‚ãÉ</span><span class="var">?œÑ<span class="hidden">‚á©</span><sub>0</sub></span><span class="main">,</span><span class="var">?f<span class="hidden">‚á©</span><sub>H</sub></span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
    <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?g</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"restrict<span class="main">(</span>GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">)</span><span class="main">,</span><span class="free">H</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">)</span> <span class="main">:</span> <span class="free">G</span> <span class="main">‚Üí</span> <span class="free">G</span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> Ggroup group0_2_T2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"two_top_spaces0<span class="main">(</span><span class="free">T</span><span class="main">,</span><span class="free">T</span><span class="main">,</span>GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">)</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> topSpaceAssum two_top_spaces0_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">H</span> <span class="main">‚äÜ</span> <span class="main">‚ãÉ</span><span class="free">T</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> group0_3_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> 
      <span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span><span class="var">?œÑ<span class="hidden">‚á©</span><sub>0</sub></span><span class="main">,</span><span class="free">T</span> <span class="keyword1">{restricted</span> <span class="keyword1">to}</span> <span class="var">?g</span><span class="main">``</span><span class="main">(</span><span class="free">H</span><span class="main">)</span><span class="main">,</span><span class="var">?g</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> inv_cont two_top_spaces0.restr_restr_image_cont
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?g</span><span class="main">``</span><span class="main">(</span><span class="free">H</span><span class="main">)</span> <span class="main">=</span> <span class="free">H</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> restr_inv_onto <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>  
    <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"GroupInv<span class="main">(</span><span class="free">H</span><span class="main">,</span><span class="var">?f<span class="hidden">‚á©</span><sub>H</sub></span><span class="main">)</span> <span class="main">=</span> <span class="var">?g</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> group0_3_T1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="main">‚ãÉ</span><span class="var">?œÑ<span class="hidden">‚á©</span><sub>0</sub></span> <span class="main">=</span> <span class="free">H</span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?g</span> <span class="main">=</span> GroupInv<span class="main">(</span><span class="main">‚ãÉ</span><span class="var">?œÑ<span class="hidden">‚á©</span><sub>0</sub></span><span class="main">,</span><span class="var">?f<span class="hidden">‚á©</span><sub>H</sub></span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsAtopologicalGroup_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‚ÄπInterval arithmetic, translations and inverse of set‚Ä∫</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπIn this section we list some properties of operations of translating a
  set and reflecting it around the neutral element of the group. Many of the results
  are proven in other theories, here we just collect them and rewrite in notation
  specific to the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>topgroup‚Ä∫</span></span></span></span> context.‚Ä∫</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπDifferent ways of looking at adding sets.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> interval_add<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">‚äÜ</span><span class="free">G</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">B</span><span class="main">‚äÜ</span><span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">shows</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main"><span class="free">\&lt;sad&gt;</span></span><span class="free">B</span> <span class="main">‚äÜ</span> <span class="free">G</span>"</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main"><span class="free">\&lt;sad&gt;</span></span><span class="free">B</span> <span class="main">=</span> <span class="free">f</span><span class="main">``</span><span class="main">(</span><span class="free">A</span><span class="main">√ó</span><span class="free">B</span><span class="main">)</span>"</span></span>  
  <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main"><span class="free">\&lt;sad&gt;</span></span><span class="free">B</span> <span class="main">=</span> <span class="main">(</span><span class="main">‚ãÉ</span><span class="bound">x</span><span class="main">‚àà</span><span class="free">A</span><span class="main">.</span> <span class="bound">x</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="free">B</span><span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main"><span class="free">\&lt;sad&gt;</span></span><span class="free">B</span> <span class="main">=</span> <span class="main">{</span><span class="bound">x</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="bound">y</span><span class="main">.</span> <span class="main">‚ü®</span><span class="bound">x</span><span class="main">,</span><span class="bound">y</span><span class="main">‚ü©</span> <span class="main">‚àà</span> <span class="free">A</span><span class="main">√ó</span><span class="free">B</span><span class="main">}</span>"</span></span> 
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main"><span class="free">\&lt;sad&gt;</span></span><span class="free">B</span> <span class="main">‚äÜ</span> <span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main"><span class="free">\&lt;sad&gt;</span></span><span class="free">B</span> <span class="main">=</span> <span class="free">f</span><span class="main">``</span><span class="main">(</span><span class="free">A</span><span class="main">√ó</span><span class="free">B</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main"><span class="free">\&lt;sad&gt;</span></span><span class="free">B</span> <span class="main">=</span> <span class="main">{</span><span class="bound">x</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="bound">y</span><span class="main">.</span> <span class="main">‚ü®</span><span class="bound">x</span><span class="main">,</span><span class="bound">y</span><span class="main">‚ü©</span> <span class="main">‚àà</span> <span class="free">A</span><span class="main">√ó</span><span class="free">B</span><span class="main">}</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> topgroup_f_binop lift_subsets_explained <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main"><span class="free">\&lt;sad&gt;</span></span><span class="free">B</span> <span class="main">=</span> <span class="main">(</span><span class="main">‚ãÉ</span><span class="bound">x</span><span class="main">‚àà</span><span class="free">A</span><span class="main">.</span> <span class="bound">x</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="free">B</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> image_ltrans_union <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚Äπ If the neutral element is in a set, then it is in the sum of the sets. ‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> interval_add_zero<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">‚äÜ</span><span class="free">G</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùü¨</span></span><span class="main">‚àà</span><span class="free">A</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùü¨</span></span> <span class="main">‚àà</span> <span class="free">A</span><span class="main"><span class="free">\&lt;sad&gt;</span></span><span class="free">A</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùü¨</span></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="main"><span class="free">ùü¨</span></span> <span class="main">‚àà</span> <span class="free">A</span><span class="main"><span class="free">\&lt;sad&gt;</span></span><span class="free">A</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> interval_add<span class="main">(</span>4<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùü¨</span></span> <span class="main">‚àà</span> <span class="free">A</span><span class="main"><span class="free">\&lt;sad&gt;</span></span><span class="free">A</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> group0_2_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπSome lemmas from <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>Group_ZF_1‚Ä∫</span></span></span></span> about images of set by translations 
  written in additive notation‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> lrtrans_image<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">V</span><span class="main">‚äÜ</span><span class="free">G</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main">‚àà</span><span class="free">G</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> 
    <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="free">V</span> <span class="main">=</span> <span class="main">{</span><span class="free">x</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="bound">v</span><span class="main">.</span> <span class="bound">v</span><span class="main">‚àà</span><span class="free">V</span><span class="main">}</span>"</span></span> 
    <span class="quoted"><span class="quoted">"<span class="free">V</span><span class="main"><span class="free">\&lt;rtr&gt;</span></span><span class="free">x</span> <span class="main">=</span> <span class="main">{</span><span class="bound">v</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">x</span><span class="main">.</span> <span class="bound">v</span><span class="main">‚àà</span><span class="free">V</span><span class="main">}</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms ltrans_image rtrans_image <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  
<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚Äπ Right and left translations of a set are subsets of the group. 
  This is of course typically applied to the subsets of the group, but formally we don't
  need to assume that. ‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> lrtrans_in_group_add<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> 
  <span class="keyword2"><span class="keyword">shows</span></span>  <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="free">V</span> <span class="main">‚äÜ</span> <span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">V</span><span class="main"><span class="free">\&lt;rtr&gt;</span></span><span class="free">x</span> <span class="main">‚äÜ</span><span class="free">G</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms lrtrans_in_group <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    
<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚Äπ A corollary from <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>interval_add‚Ä∫</span></span></span></span> ‚Ä∫</span></span>

<span class="keyword1"><span class="command">corollary</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> elements_in_set_sum<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">‚äÜ</span><span class="free">G</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">B</span><span class="main">‚äÜ</span><span class="free">G</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">t</span> <span class="main">‚àà</span> <span class="free">A</span><span class="main"><span class="free">\&lt;sad&gt;</span></span><span class="free">B</span>"</span></span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚àÉ</span><span class="bound">s</span><span class="main">‚àà</span><span class="free">A</span><span class="main">.</span> <span class="main">‚àÉ</span><span class="bound">q</span><span class="main">‚àà</span><span class="free">B</span><span class="main">.</span> <span class="free">t</span><span class="main">=</span><span class="bound">s</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="bound">q</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms interval_add<span class="main">(</span>4<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> 

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚Äπ A corollary from <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span> lrtrans_image‚Ä∫</span></span></span></span> ‚Ä∫</span></span> 

<span class="keyword1"><span class="command">corollary</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> elements_in_ltrans<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">B</span><span class="main">‚äÜ</span><span class="free">G</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">g</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">t</span> <span class="main">‚àà</span> <span class="free">g</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="free">B</span>"</span></span> 
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚àÉ</span><span class="bound">q</span><span class="main">‚àà</span><span class="free">B</span><span class="main">.</span> <span class="free">t</span><span class="main">=</span><span class="free">g</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="bound">q</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms lrtrans_image<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span> 

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚Äπ Another corollary of <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>lrtrans_image‚Ä∫</span></span></span></span> ‚Ä∫</span></span>

<span class="keyword1"><span class="command">corollary</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> elements_in_rtrans<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">B</span><span class="main">‚äÜ</span><span class="free">G</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">g</span><span class="main">‚àà</span><span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">t</span> <span class="main">‚àà</span> <span class="free">B</span><span class="main"><span class="free">\&lt;rtr&gt;</span></span><span class="free">g</span>"</span></span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚àÉ</span><span class="bound">q</span><span class="main">‚àà</span><span class="free">B</span><span class="main">.</span> <span class="free">t</span><span class="main">=</span><span class="bound">q</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">g</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms lrtrans_image<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπAnother corollary from <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>interval_add‚Ä∫</span></span></span></span> ‚Ä∫</span></span>

<span class="keyword1"><span class="command">corollary</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> elements_in_set_sum_inv<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">‚äÜ</span><span class="free">G</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">B</span><span class="main">‚äÜ</span><span class="free">G</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">t</span><span class="main">=</span><span class="free">s</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">q</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">s</span><span class="main">‚àà</span><span class="free">A</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">q</span><span class="main">‚àà</span><span class="free">B</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">t</span> <span class="main">‚àà</span> <span class="free">A</span><span class="main"><span class="free">\&lt;sad&gt;</span></span><span class="free">B</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms interval_add <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> 

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπAnother corollary of <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>lrtrans_image‚Ä∫</span></span></span></span> ‚Ä∫</span></span>

<span class="keyword1"><span class="command">corollary</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> elements_in_ltrans_inv<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">B</span><span class="main">‚äÜ</span><span class="free">G</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">g</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">q</span><span class="main">‚àà</span><span class="free">B</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">t</span><span class="main">=</span><span class="free">g</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">q</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">t</span> <span class="main">‚àà</span> <span class="free">g</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="free">B</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms lrtrans_image<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> 

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπAnother corollary of <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>rtrans_image_add‚Ä∫</span></span></span></span> ‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> elements_in_rtrans_inv<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">B</span><span class="main">‚äÜ</span><span class="free">G</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">g</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">q</span><span class="main">‚àà</span><span class="free">B</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">t</span><span class="main">=</span><span class="free">q</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">g</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">t</span> <span class="main">‚àà</span> <span class="free">B</span><span class="main"><span class="free">\&lt;rtr&gt;</span></span><span class="free">g</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms lrtrans_image<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> 

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπRight and left translations are continuous.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> trans_cont<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">g</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">shows</span></span>
  <span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span><span class="free">T</span><span class="main">,</span><span class="free">T</span><span class="main">,</span>RightTranslation<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">,</span><span class="free">g</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span>
  <span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span><span class="free">T</span><span class="main">,</span><span class="free">T</span><span class="main">,</span>LeftTranslation<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">,</span><span class="free">g</span><span class="main">)</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">using</span></span> assms trans_eq_section topgroup_f_binop fcon prod_top_spaces0_valid 
  prod_top_spaces0.fix_1st_var_cont prod_top_spaces0.fix_2nd_var_cont
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπLeft and right translations of an open set are open.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> open_tr_open<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">g</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">V</span><span class="main">‚àà</span><span class="free">T</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">g</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="free">V</span> <span class="main">‚àà</span> <span class="free">T</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span>  <span class="quoted"><span class="quoted">"<span class="free">V</span><span class="main"><span class="free">\&lt;rtr&gt;</span></span><span class="free">g</span> <span class="main">‚àà</span> <span class="free">T</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms neg_in_tgroup trans_cont IsContinuous_def trans_image_vimage <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπRight and left translations are homeomorphisms.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> tr_homeo<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">g</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">shows</span></span>
  <span class="quoted"><span class="quoted">"IsAhomeomorphism<span class="main">(</span><span class="free">T</span><span class="main">,</span><span class="free">T</span><span class="main">,</span>RightTranslation<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">,</span><span class="free">g</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span>
  <span class="quoted"><span class="quoted">"IsAhomeomorphism<span class="main">(</span><span class="free">T</span><span class="main">,</span><span class="free">T</span><span class="main">,</span>LeftTranslation<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">,</span><span class="free">g</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms trans_bij trans_cont open_tr_open bij_cont_open_homeo 
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπLeft translations preserve interior.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> ltrans_interior<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">g</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">‚äÜ</span><span class="free">G</span>"</span></span> 
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">g</span> <span class="main"><span class="free">\&lt;ltr&gt;</span></span> <span class="free">int</span><span class="main">(</span><span class="free">A</span><span class="main">)</span> <span class="main">=</span> <span class="free">int</span><span class="main">(</span><span class="free">g</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="free">A</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span> <span class="main">‚äÜ</span> <span class="main">‚ãÉ</span><span class="free">T</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"IsAhomeomorphism<span class="main">(</span><span class="free">T</span><span class="main">,</span><span class="free">T</span><span class="main">,</span>LeftTranslation<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">,</span><span class="free">g</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> tr_homeo 
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> int_top_invariant <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπRight translations preserve interior.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> rtrans_interior<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">g</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">‚äÜ</span><span class="free">G</span>"</span></span> 
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">int</span><span class="main">(</span><span class="free">A</span><span class="main">)</span> <span class="main"><span class="free">\&lt;rtr&gt;</span></span> <span class="free">g</span> <span class="main">=</span> <span class="free">int</span><span class="main">(</span><span class="free">A</span><span class="main"><span class="free">\&lt;rtr&gt;</span></span><span class="free">g</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span> <span class="main">‚äÜ</span> <span class="main">‚ãÉ</span><span class="free">T</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"IsAhomeomorphism<span class="main">(</span><span class="free">T</span><span class="main">,</span><span class="free">T</span><span class="main">,</span>RightTranslation<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">,</span><span class="free">g</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> tr_homeo 
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> int_top_invariant <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπTranslating by an inverse and then by an element cancels out.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> trans_inverse_elem<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">g</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">‚äÜ</span><span class="free">G</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">g</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="main">(</span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">g</span><span class="main">)</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="free">A</span><span class="main">)</span> <span class="main">=</span> <span class="free">A</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms neg_in_tgroup trans_comp_image group0_2_L6 trans_neutral image_id_same 
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπInverse of an open set is open.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> open_inv_open<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">V</span><span class="main">‚àà</span><span class="free">T</span>"</span></span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;sm&gt;</span></span><span class="free">V</span><span class="main">)</span> <span class="main">‚àà</span> <span class="free">T</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms inv_image_vimage inv_cont IsContinuous_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπInverse is a homeomorphism.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> inv_homeo<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"IsAhomeomorphism<span class="main">(</span><span class="free">T</span><span class="main">,</span><span class="free">T</span><span class="main">,</span>GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> group_inv_bij inv_cont open_inv_open bij_cont_open_homeo <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπTaking negative preserves interior.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> int_inv_inv_int<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span> <span class="main">‚äÜ</span> <span class="free">G</span>"</span></span> 
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">int</span><span class="main">(</span><span class="main"><span class="free">\&lt;sm&gt;</span></span><span class="free">A</span><span class="main">)</span> <span class="main">=</span> <span class="main"><span class="free">\&lt;sm&gt;</span></span><span class="main">(</span><span class="free">int</span><span class="main">(</span><span class="free">A</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms inv_homeo int_top_invariant <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‚ÄπNeighborhoods of zero‚Ä∫</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπZero neighborhoods are (not necessarily open) sets whose interior
  contains the neutral element of the group. In the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>topgroup‚Ä∫</span></span></span></span> locale
  the collection of neighboorhoods of zero is denoted <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>ùí©<span class="hidden">‚á©</span><sub>0</sub>‚Ä∫</span></span></span></span>. ‚Ä∫</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπThe whole space is a neighborhood of zero.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> zneigh_not_empty<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">G</span> <span class="main">‚àà</span> <span class="keyword1"><span class="free">ùí©<span class="hidden">‚á©</span><sub>0</sub></span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> topSpaceAssum IsATopology_def Top_2_L3 zero_in_tgroup
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>


<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπAny element that belongs to a subset of the group belongs to that subset with the 
  interior of a neighborhood of zero added. ‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> elem_in_int_sad<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">‚äÜ</span><span class="free">G</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">g</span><span class="main">‚àà</span><span class="free">A</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">H</span> <span class="main">‚àà</span> <span class="keyword1"><span class="free">ùí©<span class="hidden">‚á©</span><sub>0</sub></span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">g</span> <span class="main">‚àà</span> <span class="free">A</span><span class="main"><span class="free">\&lt;sad&gt;</span></span><span class="free">int</span><span class="main">(</span><span class="free">H</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùü¨</span></span> <span class="main">‚àà</span> <span class="free">int</span><span class="main">(</span><span class="free">H</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">int</span><span class="main">(</span><span class="free">H</span><span class="main">)</span> <span class="main">‚äÜ</span> <span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Top_2_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>1<span class="main">,</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">g</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="main"><span class="free">ùü¨</span></span> <span class="main">‚àà</span> <span class="free">A</span><span class="main"><span class="free">\&lt;sad&gt;</span></span><span class="free">int</span><span class="main">(</span><span class="free">H</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> elements_in_set_sum_inv
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>1<span class="main">,</span>2<span class="main">)</span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> group0_2_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπAny element belongs to the interior of any neighboorhood of zero
  left translated by that element.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> elem_in_int_ltrans<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">g</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">H</span> <span class="main">‚àà</span> <span class="keyword1"><span class="free">ùí©<span class="hidden">‚á©</span><sub>0</sub></span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">g</span> <span class="main">‚àà</span> <span class="free">int</span><span class="main">(</span><span class="free">g</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="free">H</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">g</span> <span class="main">‚àà</span> <span class="free">int</span><span class="main">(</span><span class="free">g</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="free">H</span><span class="main">)</span> <span class="main"><span class="free">\&lt;sad&gt;</span></span> <span class="free">int</span><span class="main">(</span><span class="free">H</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùü¨</span></span> <span class="main">‚àà</span> <span class="free">int</span><span class="main">(</span><span class="free">H</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">int</span><span class="main">(</span><span class="free">H</span><span class="main">)</span> <span class="main">‚äÜ</span> <span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Top_2_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">g</span> <span class="main">‚àà</span> <span class="free">g</span> <span class="main"><span class="free">\&lt;ltr&gt;</span></span> <span class="free">int</span><span class="main">(</span><span class="free">H</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> neut_trans_elem <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> assms <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">g</span> <span class="main">‚àà</span> <span class="free">int</span><span class="main">(</span><span class="free">g</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="free">H</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> ltrans_interior <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">int</span><span class="main">(</span><span class="free">g</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="free">H</span><span class="main">)</span> <span class="main">‚äÜ</span> <span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lrtrans_in_group_add<span class="main">(</span>1<span class="main">)</span> Top_2_L1
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="free">g</span> <span class="main">‚àà</span> <span class="free">int</span><span class="main">(</span><span class="free">g</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="free">H</span><span class="main">)</span>‚Ä∫</span></span> assms<span class="main">(</span>2<span class="main">)</span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">g</span> <span class="main">‚àà</span> <span class="free">int</span><span class="main">(</span><span class="free">g</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="free">H</span><span class="main">)</span> <span class="main"><span class="free">\&lt;sad&gt;</span></span> <span class="free">int</span><span class="main">(</span><span class="free">H</span><span class="main">)</span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> elem_in_int_sad <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπAny element belongs to the interior of any neighboorhood of zero
  right translated by that element.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> elem_in_int_rtrans<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">g</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">H</span> <span class="main">‚àà</span> <span class="keyword1"><span class="free">ùí©<span class="hidden">‚á©</span><sub>0</sub></span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">g</span> <span class="main">‚àà</span> <span class="free">int</span><span class="main">(</span><span class="free">H</span><span class="main"><span class="free">\&lt;rtr&gt;</span></span><span class="free">g</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">g</span> <span class="main">‚àà</span> <span class="free">int</span><span class="main">(</span><span class="free">H</span><span class="main"><span class="free">\&lt;rtr&gt;</span></span><span class="free">g</span><span class="main">)</span> <span class="main"><span class="free">\&lt;sad&gt;</span></span> <span class="free">int</span><span class="main">(</span><span class="free">H</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùü¨</span></span> <span class="main">‚àà</span> <span class="free">int</span><span class="main">(</span><span class="free">H</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">int</span><span class="main">(</span><span class="free">H</span><span class="main">)</span> <span class="main">‚äÜ</span> <span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Top_2_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">g</span> <span class="main">‚àà</span> <span class="free">int</span><span class="main">(</span><span class="free">H</span><span class="main">)</span> <span class="main"><span class="free">\&lt;rtr&gt;</span></span> <span class="free">g</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> neut_trans_elem <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> assms <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">g</span> <span class="main">‚àà</span> <span class="free">int</span><span class="main">(</span><span class="free">H</span><span class="main"><span class="free">\&lt;rtr&gt;</span></span><span class="free">g</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> rtrans_interior <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">int</span><span class="main">(</span><span class="free">H</span><span class="main"><span class="free">\&lt;rtr&gt;</span></span><span class="free">g</span><span class="main">)</span> <span class="main">‚äÜ</span> <span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lrtrans_in_group_add<span class="main">(</span>2<span class="main">)</span> Top_2_L1
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="free">g</span> <span class="main">‚àà</span> <span class="free">int</span><span class="main">(</span><span class="free">H</span><span class="main"><span class="free">\&lt;rtr&gt;</span></span><span class="free">g</span><span class="main">)</span>‚Ä∫</span></span> assms<span class="main">(</span>2<span class="main">)</span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">g</span> <span class="main">‚àà</span> <span class="free">int</span><span class="main">(</span><span class="free">H</span><span class="main"><span class="free">\&lt;rtr&gt;</span></span><span class="free">g</span><span class="main">)</span> <span class="main"><span class="free">\&lt;sad&gt;</span></span> <span class="free">int</span><span class="main">(</span><span class="free">H</span><span class="main">)</span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> elem_in_int_sad <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπNegative of a neighborhood of zero is a neighborhood of zero.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> neg_neigh_neigh<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">H</span> <span class="main">‚àà</span> <span class="keyword1"><span class="free">ùí©<span class="hidden">‚á©</span><sub>0</sub></span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;sm&gt;</span></span><span class="free">H</span><span class="main">)</span> <span class="main">‚àà</span> <span class="keyword1"><span class="free">ùí©<span class="hidden">‚á©</span><sub>0</sub></span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">int</span><span class="main">(</span><span class="free">H</span><span class="main">)</span> <span class="main">‚äÜ</span> <span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùü¨</span></span> <span class="main">‚àà</span> <span class="free">int</span><span class="main">(</span><span class="free">H</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Top_2_L1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùü¨</span></span> <span class="main">‚àà</span> <span class="free">int</span><span class="main">(</span><span class="main"><span class="free">\&lt;sm&gt;</span></span><span class="free">H</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> neut_inv_neut int_inv_inv_int <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">)</span><span class="main">:</span><span class="free">G</span><span class="main">‚Üí</span><span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Ggroup group0_2_T2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;sm&gt;</span></span><span class="free">H</span><span class="main">)</span> <span class="main">‚äÜ</span> <span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> func1_1_L6 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπLeft translating an open set by a negative of a point that belongs to it
  makes it a neighboorhood of zero.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> open_trans_neigh<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">U</span><span class="main">‚àà</span><span class="free">T</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">g</span><span class="main">‚àà</span><span class="free">U</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">g</span><span class="main">)</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="free">U</span> <span class="main">‚àà</span> <span class="keyword1"><span class="free">ùí©<span class="hidden">‚á©</span><sub>0</sub></span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?H</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">g</span><span class="main">)</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="free">U</span>"</span></span>
  <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">g</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">g</span><span class="main">)</span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> neg_in_tgroup <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?H</span><span class="main">‚àà</span><span class="free">T</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> open_tr_open <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"<span class="var">?H</span> <span class="main">‚äÜ</span> <span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùü¨</span></span> <span class="main">‚àà</span> <span class="free">int</span><span class="main">(</span><span class="var">?H</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
    <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">U</span><span class="main">‚äÜ</span><span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">g</span><span class="main">‚àà</span><span class="free">U</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="var">?H</span><span class="main">‚àà</span><span class="free">T</span>‚Ä∫</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùü¨</span></span> <span class="main">‚àà</span> <span class="free">int</span><span class="main">(</span><span class="var">?H</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> elem_trans_neut Top_2_L3 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπRight translating an open set by a negative of a point that belongs to it
  makes it a neighboorhood of zero.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> open_trans_neigh_2<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">U</span><span class="main">‚àà</span><span class="free">T</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">g</span><span class="main">‚àà</span><span class="free">U</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">U</span><span class="main"><span class="free">\&lt;rtr&gt;</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">g</span><span class="main">)</span> <span class="main">‚àà</span> <span class="keyword1"><span class="free">ùí©<span class="hidden">‚á©</span><sub>0</sub></span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?H</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="free">U</span><span class="main"><span class="free">\&lt;rtr&gt;</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">g</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">g</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">g</span><span class="main">)</span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> neg_in_tgroup <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?H</span><span class="main">‚àà</span><span class="free">T</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> open_tr_open <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"<span class="var">?H</span> <span class="main">‚äÜ</span> <span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùü¨</span></span> <span class="main">‚àà</span> <span class="free">int</span><span class="main">(</span><span class="var">?H</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
    <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">U</span><span class="main">‚äÜ</span><span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">g</span><span class="main">‚àà</span><span class="free">U</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="var">?H</span><span class="main">‚àà</span><span class="free">T</span>‚Ä∫</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùü¨</span></span> <span class="main">‚àà</span> <span class="free">int</span><span class="main">(</span><span class="var">?H</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> elem_trans_neut Top_2_L3  <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπRight and left translating an neighboorhood of zero by a point and its negative 
  makes it back a neighboorhood of zero.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> lrtrans_neigh<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">W</span><span class="main">‚àà</span><span class="keyword1"><span class="free">ùí©<span class="hidden">‚á©</span><sub>0</sub></span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main">‚àà</span><span class="free">G</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="main">(</span><span class="free">W</span><span class="main"><span class="free">\&lt;rtr&gt;</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x</span><span class="main">)</span><span class="main">)</span> <span class="main">‚àà</span> <span class="keyword1"><span class="free">ùí©<span class="hidden">‚á©</span><sub>0</sub></span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">x</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="free">W</span><span class="main">)</span><span class="main"><span class="free">\&lt;rtr&gt;</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x</span><span class="main">)</span> <span class="main">‚àà</span> <span class="keyword1"><span class="free">ùí©<span class="hidden">‚á©</span><sub>0</sub></span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="main">(</span><span class="free">W</span><span class="main"><span class="free">\&lt;rtr&gt;</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x</span><span class="main">)</span><span class="main">)</span> <span class="main">‚äÜ</span> <span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lrtrans_in_group_add<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùü¨</span></span> <span class="main">‚àà</span> <span class="free">int</span><span class="main">(</span><span class="free">x</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="main">(</span><span class="free">W</span><span class="main"><span class="free">\&lt;rtr&gt;</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
    <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">int</span><span class="main">(</span><span class="free">W</span><span class="main"><span class="free">\&lt;rtr&gt;</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x</span><span class="main">)</span><span class="main">)</span> <span class="main">‚äÜ</span> <span class="free">G</span>"</span></span> 
      <span class="keyword1"><span class="command">using</span></span> neg_in_tgroup lrtrans_in_group_add<span class="main">(</span>2<span class="main">)</span> Top_2_L1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">x</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="free">int</span><span class="main">(</span><span class="main">(</span><span class="free">W</span><span class="main"><span class="free">\&lt;rtr&gt;</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="main">{</span><span class="free">x</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="bound">y</span><span class="main">.</span> <span class="bound">y</span><span class="main">‚àà</span><span class="free">int</span><span class="main">(</span><span class="free">W</span><span class="main"><span class="free">\&lt;rtr&gt;</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x</span><span class="main">)</span><span class="main">)</span><span class="main">}</span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> lrtrans_image<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x</span><span class="main">)</span> <span class="main">‚àà</span> <span class="free">int</span><span class="main">(</span><span class="free">W</span><span class="main"><span class="free">\&lt;rtr&gt;</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x</span><span class="main">)</span><span class="main">)</span>"</span></span> 
      <span class="keyword1"><span class="command">using</span></span> neg_in_tgroup elem_in_int_rtrans<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x</span><span class="main">)</span> <span class="main">‚àà</span> <span class="free">x</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="free">int</span><span class="main">(</span><span class="free">W</span><span class="main"><span class="free">\&lt;rtr&gt;</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> assms <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> group0_2_L6 neg_in_tgroup lrtrans_in_group_add<span class="main">(</span>2<span class="main">)</span> ltrans_interior 
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="main">(</span><span class="free">W</span><span class="main"><span class="free">\&lt;rtr&gt;</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x</span><span class="main">)</span><span class="main">)</span> <span class="main">‚àà</span> <span class="keyword1"><span class="free">ùí©<span class="hidden">‚á©</span><sub>0</sub></span></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">x</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="free">W</span><span class="main">)</span><span class="main"><span class="free">\&lt;rtr&gt;</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x</span><span class="main">)</span> <span class="main">‚äÜ</span> <span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lrtrans_in_group_add<span class="main">(</span>2<span class="main">)</span> neg_in_tgroup 
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùü¨</span></span> <span class="main">‚àà</span> <span class="free">int</span><span class="main">(</span><span class="main">(</span><span class="free">x</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="free">W</span><span class="main">)</span><span class="main"><span class="free">\&lt;rtr&gt;</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
    <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">int</span><span class="main">(</span><span class="main">(</span><span class="free">x</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="free">W</span><span class="main">)</span><span class="main">)</span> <span class="main">‚äÜ</span> <span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lrtrans_in_group_add<span class="main">(</span>1<span class="main">)</span> Top_2_L1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">int</span><span class="main">(</span><span class="free">x</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="free">W</span><span class="main">)</span> <span class="main"><span class="free">\&lt;rtr&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x</span><span class="main">)</span> <span class="main">=</span> <span class="main">{</span><span class="bound">y</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x</span><span class="main">)</span><span class="main">.</span><span class="bound">y</span><span class="main">‚àà</span><span class="free">int</span><span class="main">(</span><span class="free">x</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="free">W</span><span class="main">)</span><span class="main">}</span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> neg_in_tgroup  lrtrans_image<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">‚àà</span> <span class="free">int</span><span class="main">(</span><span class="free">x</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="free">W</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> elem_in_int_ltrans<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x</span><span class="main">)</span> <span class="main">‚àà</span> <span class="free">int</span><span class="main">(</span><span class="free">x</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="free">W</span><span class="main">)</span> <span class="main"><span class="free">\&lt;rtr&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùü¨</span></span> <span class="main">‚àà</span> <span class="free">int</span><span class="main">(</span><span class="free">x</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="free">W</span><span class="main">)</span> <span class="main"><span class="free">\&lt;rtr&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> group0_2_L6 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">with</span></span> assms <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> group0_2_L6 neg_in_tgroup lrtrans_in_group_add<span class="main">(</span>1<span class="main">)</span> rtrans_interior
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">x</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="free">W</span><span class="main">)</span><span class="main"><span class="free">\&lt;rtr&gt;</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x</span><span class="main">)</span> <span class="main">‚àà</span> <span class="keyword1"><span class="free">ùí©<span class="hidden">‚á©</span><sub>0</sub></span></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπIf $A$ is a subset of $B$ translated by $-x$ then its translation by $x$ is a subset of $B$.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> trans_subset<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span> <span class="main">‚äÜ</span> <span class="main">(</span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x</span><span class="main">)</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="free">B</span><span class="main">)</span>"</span></span><span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">B</span><span class="main">‚äÜ</span><span class="free">G</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="free">A</span> <span class="main">‚äÜ</span> <span class="free">B</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="free">A</span> <span class="main">‚äÜ</span> <span class="main">(</span><span class="free">x</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span> <span class="main">(</span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x</span><span class="main">)</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="free">B</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>2<span class="main">,</span>3<span class="main">)</span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="free">A</span> <span class="main">‚äÜ</span> <span class="free">B</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> neg_in_tgroup trans_comp_image group0_2_L6 trans_neutral image_id_same <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚Äπ Every neighborhood of zero has a symmetric subset that is a neighborhood of zero.‚Ä∫</span></span>

<span class="keyword1"><span class="command">theorem</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> exists_sym_zerohood<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">U</span><span class="main">‚àà</span><span class="keyword1"><span class="free">ùí©<span class="hidden">‚á©</span><sub>0</sub></span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚àÉ</span><span class="bound">V</span><span class="main">‚àà</span><span class="keyword1"><span class="free">ùí©<span class="hidden">‚á©</span><sub>0</sub></span></span><span class="main">.</span> <span class="main">(</span><span class="bound">V</span><span class="main">‚äÜ</span><span class="free">U</span> <span class="main">‚àß</span> <span class="main">(</span><span class="main"><span class="free">\&lt;sm&gt;</span></span><span class="bound">V</span><span class="main">)</span><span class="main">=</span><span class="bound">V</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?V</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="free">U</span><span class="main">‚à©</span><span class="main">(</span><span class="main"><span class="free">\&lt;sm&gt;</span></span><span class="free">U</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">U</span><span class="main">‚äÜ</span><span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms <span class="keyword1"><span class="command">unfolding</span></span> zerohoods_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?V</span><span class="main">‚äÜ</span><span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">have</span></span> invg<span class="main">:</span><span class="quoted"><span class="quoted">" GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span> <span class="free">f</span><span class="main">)</span> <span class="main">‚àà</span> <span class="free">G</span> <span class="main">‚Üí</span> <span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> group0_2_T2 Ggroup <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">have</span></span> invb<span class="main">:</span><span class="quoted"><span class="quoted">"GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span> <span class="free">f</span><span class="main">)</span> <span class="main">‚àà</span>bij<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">G</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> group_inv_bij<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;sm&gt;</span></span><span class="var">?V</span><span class="main">)</span><span class="main">=</span>GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">)</span><span class="main">-``</span><span class="var">?V</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> setninv_def <span class="keyword1"><span class="command">using</span></span> inv_image_vimage 
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚Ä¶</span><span class="main">=</span><span class="main">(</span>GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">)</span><span class="main">-``</span><span class="free">U</span><span class="main">)</span><span class="main">‚à©</span><span class="main">(</span>GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">)</span><span class="main">-``</span><span class="main">(</span><span class="main"><span class="free">\&lt;sm&gt;</span></span><span class="free">U</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> invim_inter_inter_invim invg 
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚Ä¶</span><span class="main">=</span><span class="main">(</span><span class="main"><span class="free">\&lt;sm&gt;</span></span><span class="free">U</span><span class="main">)</span><span class="main">‚à©</span><span class="main">(</span>GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">)</span><span class="main">-``</span><span class="main">(</span>GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">)</span><span class="main">``</span><span class="free">U</span><span class="main">)</span><span class="main">)</span>"</span></span> 
    <span class="keyword1"><span class="command">unfolding</span></span> setninv_def <span class="keyword1"><span class="command">using</span></span> inv_image_vimage <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="free">U</span><span class="main">‚äÜ</span><span class="free">G</span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚Ä¶</span><span class="main">=</span><span class="main">(</span><span class="main"><span class="free">\&lt;sm&gt;</span></span><span class="free">U</span><span class="main">)</span><span class="main">‚à©</span><span class="free">U</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> inj_vimage_image invb <span class="keyword1"><span class="command">unfolding</span></span> bij_def
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">finally</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;sm&gt;</span></span><span class="var">?V</span><span class="main">)</span><span class="main">=</span><span class="var">?V</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="var">?V</span> <span class="main">‚äÜ</span> <span class="free">U</span> <span class="main">‚àß</span> <span class="main">(</span><span class="main"><span class="free">\&lt;sm&gt;</span></span> <span class="var">?V</span><span class="main">)</span> <span class="main">=</span> <span class="var">?V</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;sm&gt;</span></span><span class="free">U</span><span class="main">)</span><span class="main">‚àà</span><span class="keyword1"><span class="free">ùí©<span class="hidden">‚á©</span><sub>0</sub></span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> neg_neigh_neigh <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùü¨</span></span> <span class="main">‚àà</span> <span class="free">int</span><span class="main">(</span><span class="free">U</span><span class="main">)</span><span class="main">‚à©</span><span class="free">int</span><span class="main">(</span><span class="main"><span class="free">\&lt;sm&gt;</span></span><span class="free">U</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> zerohoods_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">int</span><span class="main">(</span><span class="free">U</span><span class="main">)</span><span class="main">‚à©</span><span class="free">int</span><span class="main">(</span><span class="main"><span class="free">\&lt;sm&gt;</span></span><span class="free">U</span><span class="main">)</span> <span class="main">=</span> <span class="free">int</span><span class="main">(</span><span class="var">?V</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> int_inter_int <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùü¨</span></span> <span class="main">‚àà</span> <span class="free">int</span><span class="main">(</span><span class="var">?V</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> set_mem_eq<span class="main">)</span>
  <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="var">?V</span><span class="main">‚äÜ</span><span class="free">G</span>‚Ä∫</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="var">?V</span><span class="main">‚àà</span><span class="keyword1"><span class="free">ùí©<span class="hidden">‚á©</span><sub>0</sub></span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> zerohoods_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span> 

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚Äπ We can say even more than in <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>exists_sym_zerohood‚Ä∫</span></span></span></span>:
  every neighborhood of zero $U$ has a symmetric subset that is a neighborhood of zero and its 
  set double is contained in $U$.‚Ä∫</span></span>

<span class="keyword1"><span class="command">theorem</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> exists_procls_zerohood<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">U</span><span class="main">‚àà</span><span class="keyword1"><span class="free">ùí©<span class="hidden">‚á©</span><sub>0</sub></span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚àÉ</span><span class="bound">V</span><span class="main">‚àà</span><span class="keyword1"><span class="free">ùí©<span class="hidden">‚á©</span><sub>0</sub></span></span><span class="main">.</span> <span class="main">(</span><span class="bound">V</span><span class="main">‚äÜ</span><span class="free">U</span><span class="main">‚àß</span> <span class="main">(</span><span class="bound">V</span><span class="main"><span class="free">\&lt;sad&gt;</span></span><span class="bound">V</span><span class="main">)</span><span class="main">‚äÜ</span><span class="free">U</span> <span class="main">‚àß</span> <span class="main">(</span><span class="main"><span class="free">\&lt;sm&gt;</span></span><span class="bound">V</span><span class="main">)</span><span class="main">=</span><span class="bound">V</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">int</span><span class="main">(</span><span class="free">U</span><span class="main">)</span><span class="main">‚àà</span><span class="free">T</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Top_2_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">-``</span><span class="main">(</span><span class="free">int</span><span class="main">(</span><span class="free">U</span><span class="main">)</span><span class="main">)</span><span class="main">‚àà</span><span class="keyword1"><span class="free">œÑ</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> fcon IsContinuous_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> fne<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="free">f</span> <span class="main">`</span> <span class="main">‚ü®</span><span class="main"><span class="free">ùü¨</span></span><span class="main">,</span> <span class="main"><span class="free">ùü¨</span></span><span class="main">‚ü©</span> <span class="main">=</span> <span class="main"><span class="free">ùü¨</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> group0_2_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùü¨</span></span><span class="main">‚àà</span><span class="free">int</span><span class="main">(</span><span class="free">U</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms <span class="keyword1"><span class="command">unfolding</span></span> zerohoods_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span> <span class="main">-``</span> <span class="main">{</span><span class="main"><span class="free">ùü¨</span></span><span class="main">}</span><span class="main">‚äÜ</span><span class="free">f</span><span class="main">-``</span><span class="main">(</span><span class="free">int</span><span class="main">(</span><span class="free">U</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> func1_1_L8 vimage_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">)</span><span class="main">‚äÜ</span><span class="free">f</span><span class="main">-``</span><span class="main">(</span><span class="free">int</span><span class="main">(</span><span class="free">U</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> group0_2_T3 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚ü®</span><span class="main"><span class="free">ùü¨</span></span><span class="main">,</span><span class="main"><span class="free">ùü¨</span></span><span class="main">‚ü©</span><span class="main">‚àà</span><span class="free">f</span><span class="main">-``</span><span class="main">(</span><span class="free">int</span><span class="main">(</span><span class="free">U</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> fne zero_in_tgroup <span class="keyword1"><span class="command">unfolding</span></span> GroupInv_def
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">W</span></span> <span class="skolem"><span class="skolem">V</span></span> <span class="keyword2"><span class="keyword">where</span></span> 
    wop<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">W</span><span class="main">‚àà</span><span class="free">T</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> vop<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">‚àà</span><span class="free">T</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> cartsub<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">W</span><span class="main">√ó</span><span class="skolem">V</span><span class="main">‚äÜ</span><span class="free">f</span><span class="main">-``</span><span class="main">(</span><span class="free">int</span><span class="main">(</span><span class="free">U</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> zerhood<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">‚ü®</span><span class="main"><span class="free">ùü¨</span></span><span class="main">,</span><span class="main"><span class="free">ùü¨</span></span><span class="main">‚ü©</span><span class="main">‚àà</span><span class="skolem">W</span><span class="main">√ó</span><span class="skolem">V</span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> prod_top_point_neighb topSpaceAssum
    <span class="keyword1"><span class="command">unfolding</span></span> prodtop_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">force</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùü¨</span></span><span class="main">‚àà</span><span class="skolem">W</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùü¨</span></span><span class="main">‚àà</span><span class="skolem">V</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùü¨</span></span><span class="main">‚àà</span><span class="skolem">W</span><span class="main">‚à©</span><span class="skolem">V</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">have</span></span> sub<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">W</span><span class="main">‚à©</span><span class="skolem">V</span><span class="main">‚äÜ</span><span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> wop vop G_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">have</span></span> assoc<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">‚àà</span><span class="free">G</span><span class="main">√ó</span><span class="free">G</span><span class="main">‚Üí</span><span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> group_oper_assocA <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">t</span> <span class="skolem">s</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">t</span><span class="main">‚àà</span><span class="skolem">W</span><span class="main">‚à©</span><span class="skolem">V</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">s</span><span class="main">‚àà</span><span class="skolem">W</span><span class="main">‚à©</span><span class="skolem">V</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">t</span><span class="main">‚àà</span><span class="skolem">W</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">s</span><span class="main">‚àà</span><span class="skolem">V</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚ü®</span><span class="skolem">t</span><span class="main">,</span><span class="skolem">s</span><span class="main">‚ü©</span><span class="main">‚àà</span><span class="skolem">W</span><span class="main">√ó</span><span class="skolem">V</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚ü®</span><span class="skolem">t</span><span class="main">,</span><span class="skolem">s</span><span class="main">‚ü©</span><span class="main">‚àà</span><span class="free">f</span><span class="main">-``</span><span class="main">(</span><span class="free">int</span><span class="main">(</span><span class="free">U</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> cartsub <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">`</span><span class="main">‚ü®</span><span class="skolem">t</span><span class="main">,</span><span class="skolem">s</span><span class="main">‚ü©</span><span class="main">‚àà</span><span class="free">int</span><span class="main">(</span><span class="free">U</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> func1_1_L15 assoc <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="free">f</span><span class="main">`</span><span class="main">‚ü®</span><span class="bound">t</span><span class="main">,</span><span class="bound">s</span><span class="main">‚ü©</span><span class="main">.</span> <span class="main">‚ü®</span><span class="bound">t</span><span class="main">,</span><span class="bound">s</span><span class="main">‚ü©</span><span class="main">‚àà</span><span class="main">(</span><span class="skolem">W</span><span class="main">‚à©</span><span class="skolem">V</span><span class="main">)</span><span class="main">√ó</span><span class="main">(</span><span class="skolem">W</span><span class="main">‚à©</span><span class="skolem">V</span><span class="main">)</span><span class="main">}</span><span class="main">‚äÜ</span><span class="free">int</span><span class="main">(</span><span class="free">U</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="skolem">W</span><span class="main">‚à©</span><span class="skolem">V</span><span class="main">)</span><span class="main"><span class="free">\&lt;sad&gt;</span></span><span class="main">(</span><span class="skolem">W</span><span class="main">‚à©</span><span class="skolem">V</span><span class="main">)</span><span class="main">‚äÜ</span><span class="free">int</span><span class="main">(</span><span class="free">U</span><span class="main">)</span>"</span></span> 
    <span class="keyword1"><span class="command">unfolding</span></span> setadd_def <span class="keyword1"><span class="command">using</span></span> lift_subsets_explained<span class="main">(</span>4<span class="main">)</span> assoc sub
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="skolem">W</span><span class="main">‚à©</span><span class="skolem">V</span><span class="main">)</span><span class="main"><span class="free">\&lt;sad&gt;</span></span><span class="main">(</span><span class="skolem">W</span><span class="main">‚à©</span><span class="skolem">V</span><span class="main">)</span><span class="main">‚äÜ</span><span class="free">U</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Top_2_L1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">from</span></span> topSpaceAssum <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">W</span><span class="main">‚à©</span><span class="skolem">V</span><span class="main">‚àà</span><span class="free">T</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> vop wop <span class="keyword1"><span class="command">unfolding</span></span> IsATopology_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">int</span><span class="main">(</span><span class="skolem">W</span><span class="main">‚à©</span><span class="skolem">V</span><span class="main">)</span><span class="main">=</span><span class="skolem">W</span><span class="main">‚à©</span><span class="skolem">V</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Top_2_L3 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> sub <span class="quoted"><span class="quoted">‚Äπ<span class="main"><span class="free">ùü¨</span></span><span class="main">‚àà</span><span class="skolem">W</span><span class="main">‚à©</span><span class="skolem">V</span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">W</span><span class="main">‚à©</span><span class="skolem">V</span><span class="main">‚àà</span><span class="keyword1"><span class="free">ùí©<span class="hidden">‚á©</span><sub>0</sub></span></span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> zerohoods_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">Q</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">Q</span><span class="main">‚àà</span><span class="keyword1"><span class="free">ùí©<span class="hidden">‚á©</span><sub>0</sub></span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">Q</span><span class="main">‚äÜ</span><span class="skolem">W</span><span class="main">‚à©</span><span class="skolem">V</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;sm&gt;</span></span><span class="skolem">Q</span><span class="main">)</span><span class="main">=</span><span class="skolem">Q</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> exists_sym_zerohood <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">Q</span><span class="main">√ó</span><span class="skolem">Q</span><span class="main">‚äÜ</span><span class="main">(</span><span class="skolem">W</span><span class="main">‚à©</span><span class="skolem">V</span><span class="main">)</span><span class="main">√ó</span><span class="main">(</span><span class="skolem">W</span><span class="main">‚à©</span><span class="skolem">V</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> 
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">Q</span><span class="main">‚äÜ</span><span class="skolem">W</span><span class="main">‚à©</span><span class="skolem">V</span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">W</span><span class="main">‚à©</span><span class="skolem">V</span><span class="main">‚äÜ</span><span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">Q</span><span class="main">‚äÜ</span><span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> vop wop <span class="keyword1"><span class="command">unfolding</span></span> G_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">Q</span><span class="main"><span class="free">\&lt;sad&gt;</span></span><span class="skolem">Q</span><span class="main">‚äÜ</span><span class="main">(</span><span class="skolem">W</span><span class="main">‚à©</span><span class="skolem">V</span><span class="main">)</span><span class="main"><span class="free">\&lt;sad&gt;</span></span><span class="main">(</span><span class="skolem">W</span><span class="main">‚à©</span><span class="skolem">V</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> interval_add<span class="main">(</span>2<span class="main">)</span> func1_1_L8 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="main">(</span><span class="skolem">W</span><span class="main">‚à©</span><span class="skolem">V</span><span class="main">)</span><span class="main"><span class="free">\&lt;sad&gt;</span></span><span class="main">(</span><span class="skolem">W</span><span class="main">‚à©</span><span class="skolem">V</span><span class="main">)</span><span class="main">‚äÜ</span><span class="free">U</span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">Q</span><span class="main"><span class="free">\&lt;sad&gt;</span></span><span class="skolem">Q</span><span class="main">‚äÜ</span><span class="free">U</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">from</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">Q</span><span class="main">‚àà</span><span class="keyword1"><span class="free">ùí©<span class="hidden">‚á©</span><sub>0</sub></span></span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùü¨</span></span><span class="main">‚àà</span><span class="skolem">Q</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> zerohoods_def <span class="keyword1"><span class="command">using</span></span> Top_2_L1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">Q</span><span class="main"><span class="free">\&lt;sad&gt;</span></span><span class="skolem">Q</span><span class="main">‚äÜ</span><span class="free">U</span>‚Ä∫</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">Q</span><span class="main">‚äÜ</span><span class="free">G</span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùü¨</span></span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="skolem">Q</span><span class="main">‚äÜ</span><span class="free">U</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> interval_add<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">Q</span><span class="main">‚äÜ</span><span class="free">G</span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">Q</span><span class="main">‚äÜ</span><span class="free">U</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> ltrans_def gzero_def <span class="keyword1"><span class="command">using</span></span> trans_neutral<span class="main">(</span>2<span class="main">)</span> image_id_same 
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">Q</span><span class="main">‚àà</span><span class="keyword1"><span class="free">ùí©<span class="hidden">‚á©</span><sub>0</sub></span></span>‚Ä∫</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">Q</span><span class="main"><span class="free">\&lt;sad&gt;</span></span><span class="skolem">Q</span><span class="main">‚äÜ</span><span class="free">U</span>‚Ä∫</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="main">(</span><span class="main"><span class="free">\&lt;sm&gt;</span></span><span class="skolem">Q</span><span class="main">)</span><span class="main">=</span><span class="skolem">Q</span>‚Ä∫</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>
 
<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‚ÄπClosure in topological groups‚Ä∫</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπThis section is devoted to a characterization of closure
  in topological groups.‚Ä∫</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπClosure of a set is contained in the sum of the set and any
  neighboorhood of zero.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> cl_contains_zneigh<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">‚äÜ</span><span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">H</span> <span class="main">‚àà</span> <span class="keyword1"><span class="free">ùí©<span class="hidden">‚á©</span><sub>0</sub></span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">cl</span><span class="main">(</span><span class="free">A</span><span class="main">)</span> <span class="main">‚äÜ</span> <span class="free">A</span><span class="main"><span class="free">\&lt;sad&gt;</span></span><span class="free">H</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span>
  <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span> <span class="main">‚àà</span> <span class="free">cl</span><span class="main">(</span><span class="free">A</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">cl</span><span class="main">(</span><span class="free">A</span><span class="main">)</span> <span class="main">‚äÜ</span> <span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Top_3_L11 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">x</span> <span class="main">‚àà</span> <span class="free">cl</span><span class="main">(</span><span class="free">A</span><span class="main">)</span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">int</span><span class="main">(</span><span class="free">H</span><span class="main">)</span> <span class="main">‚äÜ</span> <span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Top_2_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?V</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="free">int</span><span class="main">(</span><span class="skolem">x</span> <span class="main"><span class="free">\&lt;ltr&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;sm&gt;</span></span><span class="free">H</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?V</span> <span class="main">=</span> <span class="skolem">x</span> <span class="main"><span class="free">\&lt;ltr&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;sm&gt;</span></span><span class="free">int</span><span class="main">(</span><span class="free">H</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
    <span class="keyword1"><span class="command">from</span></span> A2 <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">x</span><span class="main">‚àà</span><span class="free">G</span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?V</span> <span class="main">=</span> <span class="skolem">x</span> <span class="main"><span class="free">\&lt;ltr&gt;</span></span> <span class="free">int</span><span class="main">(</span><span class="main"><span class="free">\&lt;sm&gt;</span></span><span class="free">H</span><span class="main">)</span>"</span></span> 
      <span class="keyword1"><span class="command">using</span></span> neg_neigh_neigh ltrans_interior <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">with</span></span> A2 <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span>  <span class="keyword1"><span class="command">using</span></span> int_inv_inv_int <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">‚à©</span><span class="var">?V</span> <span class="main">‚â†</span> <span class="main">0</span>"</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
    <span class="keyword1"><span class="command">from</span></span> A2 <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">x</span><span class="main">‚àà</span><span class="free">G</span>‚Ä∫</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">x</span> <span class="main">‚àà</span> <span class="free">cl</span><span class="main">(</span><span class="free">A</span><span class="main">)</span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?V</span><span class="main">‚àà</span><span class="free">T</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span> <span class="main">‚àà</span> <span class="free">cl</span><span class="main">(</span><span class="free">A</span><span class="main">)</span> <span class="main">‚à©</span> <span class="var">?V</span>"</span></span> 
      <span class="keyword1"><span class="command">using</span></span> neg_neigh_neigh elem_in_int_ltrans<span class="main">(</span>1<span class="main">)</span> Top_2_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">‚à©</span><span class="var">?V</span> <span class="main">‚â†</span> <span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> cl_inter_neigh <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">y</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">‚àà</span><span class="free">A</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">‚àà</span><span class="var">?V</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="var">?V</span> <span class="main">=</span> <span class="skolem">x</span> <span class="main"><span class="free">\&lt;ltr&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;sm&gt;</span></span><span class="free">int</span><span class="main">(</span><span class="free">H</span><span class="main">)</span><span class="main">)</span>‚Ä∫</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="free">int</span><span class="main">(</span><span class="free">H</span><span class="main">)</span> <span class="main">‚äÜ</span> <span class="free">G</span>‚Ä∫</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">x</span><span class="main">‚àà</span><span class="free">G</span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span> <span class="main">‚àà</span> <span class="skolem">y</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="free">int</span><span class="main">(</span><span class="free">H</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> ltrans_inv_in <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">y</span><span class="main">‚àà</span><span class="free">A</span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span> <span class="main">‚àà</span> <span class="main">(</span><span class="main">‚ãÉ</span><span class="bound">y</span><span class="main">‚àà</span><span class="free">A</span><span class="main">.</span> <span class="bound">y</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="free">H</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Top_2_L1 func1_1_L8 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> assms <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span> <span class="main">‚àà</span> <span class="free">A</span><span class="main"><span class="free">\&lt;sad&gt;</span></span><span class="free">H</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> interval_add<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπThe next theorem provides a characterization of closure in topological
  groups in terms of neighborhoods of zero.‚Ä∫</span></span>

<span class="keyword1"><span class="command">theorem</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> cl_topgroup<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">‚äÜ</span><span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">cl</span><span class="main">(</span><span class="free">A</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="main">‚ãÇ</span><span class="bound">H</span><span class="main">‚àà</span><span class="keyword1"><span class="free">ùí©<span class="hidden">‚á©</span><sub>0</sub></span></span><span class="main">.</span> <span class="free">A</span><span class="main"><span class="free">\&lt;sad&gt;</span></span><span class="bound">H</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span>
  <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">cl</span><span class="main">(</span><span class="free">A</span><span class="main">)</span> <span class="main">‚äÜ</span> <span class="main">(</span><span class="main">‚ãÇ</span><span class="bound">H</span><span class="main">‚àà</span><span class="keyword1"><span class="free">ùí©<span class="hidden">‚á©</span><sub>0</sub></span></span><span class="main">.</span> <span class="free">A</span><span class="main"><span class="free">\&lt;sad&gt;</span></span><span class="bound">H</span><span class="main">)</span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> zneigh_not_empty cl_contains_zneigh <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">next</span></span>
  <span class="keyword1"><span class="command">{</span></span> <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span> <span class="main">‚àà</span> <span class="main">(</span><span class="main">‚ãÇ</span><span class="bound">H</span><span class="main">‚àà</span><span class="keyword1"><span class="free">ùí©<span class="hidden">‚á©</span><sub>0</sub></span></span><span class="main">.</span> <span class="free">A</span><span class="main"><span class="free">\&lt;sad&gt;</span></span><span class="bound">H</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span> <span class="main">‚àà</span> <span class="free">A</span><span class="main"><span class="free">\&lt;sad&gt;</span></span><span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> zneigh_not_empty <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> interval_add <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚àÄ</span><span class="bound">U</span><span class="main">‚àà</span><span class="free">T</span><span class="main">.</span> <span class="skolem">x</span><span class="main">‚àà</span><span class="bound">U</span> <span class="main">‚ü∂</span> <span class="bound">U</span><span class="main">‚à©</span><span class="free">A</span> <span class="main">‚â†</span> <span class="main">0</span>"</span></span>
    <span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
      <span class="keyword1"><span class="command">{</span></span> <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">U</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">‚àà</span><span class="free">T</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">‚àà</span><span class="skolem">U</span>"</span></span>
        <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?H</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">\&lt;sm&gt;</span></span><span class="main">(</span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="skolem">x</span><span class="main">)</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="skolem">U</span><span class="main">)</span>"</span></span>
        <span class="keyword1"><span class="command">from</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">U</span><span class="main">‚àà</span><span class="free">T</span>‚Ä∫</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">x</span><span class="main">‚àà</span><span class="skolem">U</span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="skolem">x</span><span class="main">)</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="skolem">U</span> <span class="main">‚äÜ</span> <span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="var">?H</span> <span class="main">‚àà</span> <span class="keyword1"><span class="free">ùí©<span class="hidden">‚á©</span><sub>0</sub></span></span>"</span></span> 
          <span class="keyword1"><span class="command">using</span></span> open_trans_neigh neg_neigh_neigh <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">x</span> <span class="main">‚àà</span> <span class="main">(</span><span class="main">‚ãÇ</span><span class="bound">H</span><span class="main">‚àà</span><span class="keyword1"><span class="free">ùí©<span class="hidden">‚á©</span><sub>0</sub></span></span><span class="main">.</span> <span class="free">A</span><span class="main"><span class="free">\&lt;sad&gt;</span></span><span class="bound">H</span><span class="main">)</span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span> <span class="main">‚àà</span> <span class="free">A</span><span class="main"><span class="free">\&lt;sad&gt;</span></span><span class="var">?H</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">with</span></span> assms <span class="quoted"><span class="quoted">‚Äπ<span class="var">?H</span> <span class="main">‚àà</span> <span class="keyword1"><span class="free">ùí©<span class="hidden">‚á©</span><sub>0</sub></span></span>‚Ä∫</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">y</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">‚àà</span><span class="free">A</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span> <span class="main">‚àà</span> <span class="skolem">y</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="var">?H</span>"</span></span>
          <span class="keyword1"><span class="command">using</span></span> interval_add<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">‚àà</span><span class="skolem">U</span>"</span></span>
        <span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
          <span class="keyword1"><span class="command">from</span></span> assms <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">y</span><span class="main">‚àà</span><span class="free">A</span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="skolem">x</span><span class="main">)</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="skolem">U</span> <span class="main">‚äÜ</span> <span class="free">G</span>‚Ä∫</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">x</span> <span class="main">‚àà</span> <span class="skolem">y</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="var">?H</span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span> <span class="main">‚àà</span> <span class="skolem">x</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="main">(</span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="skolem">x</span><span class="main">)</span><span class="main"><span class="free">\&lt;ltr&gt;</span></span><span class="skolem">U</span><span class="main">)</span>"</span></span>
            <span class="keyword1"><span class="command">using</span></span> ltrans_inv_in <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
          <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">U</span><span class="main">‚àà</span><span class="free">T</span>‚Ä∫</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">x</span><span class="main">‚àà</span><span class="free">G</span>‚Ä∫</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">‚àà</span><span class="skolem">U</span>"</span></span> 
            <span class="keyword1"><span class="command">using</span></span> neg_in_tgroup trans_comp_image group0_2_L6 trans_neutral image_id_same
              <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">qed</span></span>
        <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">y</span><span class="main">‚àà</span><span class="free">A</span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">‚à©</span><span class="free">A</span> <span class="main">‚â†</span> <span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">}</span></span> <span class="keyword3"><span class="command">thus</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">with</span></span> assms <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">x</span><span class="main">‚àà</span><span class="free">G</span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span> <span class="main">‚àà</span> <span class="free">cl</span><span class="main">(</span><span class="free">A</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> inter_neigh_cl <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword3"><span class="command">thus</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">‚ãÇ</span><span class="bound">H</span><span class="main">‚àà</span><span class="keyword1"><span class="free">ùí©<span class="hidden">‚á©</span><sub>0</sub></span></span><span class="main">.</span> <span class="free">A</span><span class="main"><span class="free">\&lt;sad&gt;</span></span><span class="bound">H</span><span class="main">)</span> <span class="main">‚äÜ</span> <span class="free">cl</span><span class="main">(</span><span class="free">A</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‚ÄπSums of sequences of elements and subsets‚Ä∫</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπIn this section we consider properties of the function $G^n\rightarrow G$, 
  $x=(x_0,x_1,...,x_{n-1})\mapsto \sum_{i=0}^{n-1}x_i$. We will model the cartesian product
  $G^n$ by the space of sequences $n\rightarrow G$, where $n=\{0,1,...,n-1 \}$ is a natural number. 
  This space is equipped with a natural product topology defined in <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>Topology_ZF_3‚Ä∫</span></span></span></span>.‚Ä∫</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπLet's recall first that the sum of elements of a group is an element of the group.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> sum_list_in_group<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">n</span> <span class="main">‚àà</span> nat"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main">:</span> succ<span class="main">(</span><span class="free">n</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">‚àë</span></span><span class="free">x</span><span class="main">)</span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"semigr0<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">n</span> <span class="main">‚àà</span> nat"</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main">:</span> succ<span class="main">(</span><span class="free">n</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> semigr0_valid_in_tgroup <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Fold1<span class="main">(</span><span class="free">f</span><span class="main">,</span><span class="free">x</span><span class="main">)</span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> semigr0.prod_type<span class="main">)</span>
  <span class="keyword3"><span class="command">thus</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">‚àë</span></span><span class="free">x</span><span class="main">)</span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπIn this context <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>x\&lt;ra&gt;y‚Ä∫</span></span></span></span> is the same as the value of the group operation
  on the elements $x$ and $y$. Normally we shouldn't need to state this a s separate lemma.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> grop_def1<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">`</span><span class="main">‚ü®</span><span class="free">x</span><span class="main">,</span><span class="free">y</span><span class="main">‚ü©</span> <span class="main">=</span> <span class="free">x</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">y</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span> 

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπAnother theorem from <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>Semigroup_ZF‚Ä∫</span></span></span></span> theory that is useful to have in the
  additive notation.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> shorter_set_add<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">n</span> <span class="main">‚àà</span> nat"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main">:</span> succ<span class="main">(</span>succ<span class="main">(</span><span class="free">n</span><span class="main">)</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">‚àë</span></span><span class="free">x</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="main"><span class="free">‚àë</span></span>Init<span class="main">(</span><span class="free">x</span><span class="main">)</span><span class="main">)</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="free">x</span><span class="main">`</span><span class="main">(</span>succ<span class="main">(</span><span class="free">n</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"semigr0<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">n</span> <span class="main">‚àà</span> nat"</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main">:</span> succ<span class="main">(</span>succ<span class="main">(</span><span class="free">n</span><span class="main">)</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> semigr0_valid_in_tgroup <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Fold1<span class="main">(</span><span class="free">f</span><span class="main">,</span><span class="free">x</span><span class="main">)</span> <span class="main">=</span> <span class="free">f</span><span class="main">`</span><span class="main">‚ü®</span>Fold1<span class="main">(</span><span class="free">f</span><span class="main">,</span>Init<span class="main">(</span><span class="free">x</span><span class="main">)</span><span class="main">)</span><span class="main">,</span><span class="free">x</span><span class="main">`</span><span class="main">(</span>succ<span class="main">(</span><span class="free">n</span><span class="main">)</span><span class="main">)</span><span class="main">‚ü©</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> semigr0.shorter_seq<span class="main">)</span>
  <span class="keyword3"><span class="command">thus</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>   
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπSum is a continuous function in the product topology.‚Ä∫</span></span>

<span class="keyword1"><span class="command">theorem</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> topgroup<span class="main">)</span> sum_continuous<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">n</span> <span class="main">‚àà</span> nat"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span>SeqProductTopology<span class="main">(</span>succ<span class="main">(</span><span class="free">n</span><span class="main">)</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span><span class="free">T</span><span class="main">,</span><span class="main">{</span><span class="main">‚ü®</span><span class="bound">x</span><span class="main">,</span><span class="main"><span class="free">‚àë</span></span><span class="bound">x</span><span class="main">‚ü©</span><span class="main">.</span><span class="bound">x</span><span class="main">‚àà</span>succ<span class="main">(</span><span class="free">n</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span><span class="main">}</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
    <span class="keyword1"><span class="command">note</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="free">n</span> <span class="main">‚àà</span> nat‚Ä∫</span></span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span>SeqProductTopology<span class="main">(</span>succ<span class="main">(</span><span class="main">0</span><span class="main">)</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span><span class="free">T</span><span class="main">,</span><span class="main">{</span><span class="main">‚ü®</span><span class="bound">x</span><span class="main">,</span><span class="main"><span class="free">‚àë</span></span><span class="bound">x</span><span class="main">‚ü©</span><span class="main">.</span><span class="bound">x</span><span class="main">‚àà</span>succ<span class="main">(</span><span class="main">0</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span><span class="main">}</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
      <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="main">‚ü®</span><span class="bound">x</span><span class="main">,</span><span class="main"><span class="free">‚àë</span></span><span class="bound">x</span><span class="main">‚ü©</span><span class="main">.</span><span class="bound">x</span><span class="main">‚àà</span>succ<span class="main">(</span><span class="main">0</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span><span class="main">}</span> <span class="main">=</span> <span class="main">{</span><span class="main">‚ü®</span><span class="bound">x</span><span class="main">,</span><span class="bound">x</span><span class="main">`</span><span class="main">(</span><span class="main">0</span><span class="main">)</span><span class="main">‚ü©</span><span class="main">.</span> <span class="bound">x</span><span class="main">‚àà</span><span class="main">1</span><span class="main">‚Üí</span><span class="free">G</span><span class="main">}</span>"</span></span>
        <span class="keyword1"><span class="command">using</span></span> semigr0_valid_in_tgroup semigr0.prod_of_1elem <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
      <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span>
        <span class="quoted"><span class="quoted">"IsAhomeomorphism<span class="main">(</span>SeqProductTopology<span class="main">(</span><span class="main">1</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span><span class="free">T</span><span class="main">,</span><span class="main">{</span><span class="main">‚ü®</span><span class="bound">x</span><span class="main">,</span><span class="bound">x</span><span class="main">`</span><span class="main">(</span><span class="main">0</span><span class="main">)</span><span class="main">‚ü©</span><span class="main">.</span> <span class="bound">x</span><span class="main">‚àà</span><span class="main">1</span><span class="main">‚Üí</span><span class="main">‚ãÉ</span><span class="free">T</span><span class="main">}</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> topSpaceAssum singleton_prod_top1
          <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> IsAhomeomorphism_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚àÄ</span><span class="bound">k</span><span class="main">‚àà</span>nat<span class="main">.</span>
      IsContinuous<span class="main">(</span>SeqProductTopology<span class="main">(</span>succ<span class="main">(</span><span class="bound">k</span><span class="main">)</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span><span class="free">T</span><span class="main">,</span><span class="main">{</span><span class="main">‚ü®</span><span class="bound">x</span><span class="main">,</span><span class="main"><span class="free">‚àë</span></span><span class="bound">x</span><span class="main">‚ü©</span><span class="main">.</span><span class="bound">x</span><span class="main">‚àà</span>succ<span class="main">(</span><span class="bound">k</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span><span class="main">}</span><span class="main">)</span>
      <span class="main">‚ü∂</span>
      IsContinuous<span class="main">(</span>SeqProductTopology<span class="main">(</span>succ<span class="main">(</span>succ<span class="main">(</span><span class="bound">k</span><span class="main">)</span><span class="main">)</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span><span class="free">T</span><span class="main">,</span><span class="main">{</span><span class="main">‚ü®</span><span class="bound">x</span><span class="main">,</span><span class="main"><span class="free">‚àë</span></span><span class="bound">x</span><span class="main">‚ü©</span><span class="main">.</span><span class="bound">x</span><span class="main">‚àà</span>succ<span class="main">(</span>succ<span class="main">(</span><span class="bound">k</span><span class="main">)</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span><span class="main">}</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
        <span class="keyword1"><span class="command">{</span></span> <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">k</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">k</span> <span class="main">‚àà</span> nat"</span></span>
          <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?s</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="main">‚ü®</span><span class="bound">x</span><span class="main">,</span><span class="main"><span class="free">‚àë</span></span><span class="bound">x</span><span class="main">‚ü©</span><span class="main">.</span><span class="bound">x</span><span class="main">‚àà</span>succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span><span class="main">}</span>"</span></span>
          <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?g</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="main">‚ü®</span><span class="bound">p</span><span class="main">,</span><span class="main">‚ü®</span><span class="var">?s</span><span class="main">`</span><span class="main">(</span>fst<span class="main">(</span><span class="bound">p</span><span class="main">)</span><span class="main">)</span><span class="main">,</span>snd<span class="main">(</span><span class="bound">p</span><span class="main">)</span><span class="main">‚ü©</span><span class="main">‚ü©</span><span class="main">.</span> <span class="bound">p</span> <span class="main">‚àà</span> <span class="main">(</span>succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span><span class="main">)</span><span class="main">√ó</span><span class="free">G</span><span class="main">}</span>"</span></span>
          <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?h</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="main">‚ü®</span><span class="bound">x</span><span class="main">,</span><span class="main">‚ü®</span>Init<span class="main">(</span><span class="bound">x</span><span class="main">)</span><span class="main">,</span><span class="bound">x</span><span class="main">`</span><span class="main">(</span>succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">)</span><span class="main">‚ü©</span><span class="main">‚ü©</span><span class="main">.</span> <span class="bound">x</span> <span class="main">‚àà</span> succ<span class="main">(</span>succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span><span class="main">}</span>"</span></span>
          <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?œÜ</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"SeqProductTopology<span class="main">(</span>succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span>
          <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?œà</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"SeqProductTopology<span class="main">(</span>succ<span class="main">(</span>succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">)</span><span class="main">,</span><span class="free">T</span><span class="main">)</span>"</span></span>
          <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span><span class="var">?œÜ</span><span class="main">,</span><span class="free">T</span><span class="main">,</span><span class="var">?s</span><span class="main">)</span>"</span></span>
          <span class="keyword1"><span class="command">from</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">k</span> <span class="main">‚àà</span> nat‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?s</span><span class="main">:</span> <span class="main">(</span>succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span><span class="main">)</span> <span class="main">‚Üí</span> <span class="free">G</span>"</span></span>
            <span class="keyword1"><span class="command">using</span></span> sum_list_in_group ZF_fun_from_total <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span> 
          <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?h</span><span class="main">:</span> <span class="main">(</span>succ<span class="main">(</span>succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span><span class="main">)</span><span class="main">‚Üí</span><span class="main">(</span>succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span><span class="main">)</span><span class="main">√ó</span><span class="free">G</span>"</span></span>
          <span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
            <span class="keyword1"><span class="command">{</span></span> <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span> <span class="main">‚àà</span> succ<span class="main">(</span>succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span>"</span></span>
              <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">k</span> <span class="main">‚àà</span> nat‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Init<span class="main">(</span><span class="skolem">x</span><span class="main">)</span> <span class="main">‚àà</span> <span class="main">(</span>succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span><span class="main">)</span>"</span></span>
                <span class="keyword1"><span class="command">using</span></span> init_props <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
              <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">k</span> <span class="main">‚àà</span> nat‚Ä∫</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">x</span> <span class="main">:</span> succ<span class="main">(</span>succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span>‚Ä∫</span></span> 
                <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚ü®</span>Init<span class="main">(</span><span class="skolem">x</span><span class="main">)</span><span class="main">,</span><span class="skolem">x</span><span class="main">`</span><span class="main">(</span>succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">)</span><span class="main">‚ü©</span> <span class="main">‚àà</span> <span class="main">(</span>succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span><span class="main">)</span><span class="main">√ó</span><span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> apply_funtype
                  <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span> 
           <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> ZF_fun_from_total <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
          <span class="keyword1"><span class="command">qed</span></span>
          <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?g</span><span class="main">:</span><span class="main">(</span><span class="main">(</span>succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span><span class="main">)</span><span class="main">√ó</span><span class="free">G</span><span class="main">)</span><span class="main">‚Üí</span><span class="main">(</span><span class="free">G</span><span class="main">√ó</span><span class="free">G</span><span class="main">)</span>"</span></span>
          <span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
            <span class="keyword1"><span class="command">{</span></span> <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">p</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">p</span> <span class="main">‚àà</span> <span class="main">(</span>succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span><span class="main">)</span><span class="main">√ó</span><span class="free">G</span>"</span></span>
              <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"fst<span class="main">(</span><span class="skolem">p</span><span class="main">)</span><span class="main">:</span> succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"snd<span class="main">(</span><span class="skolem">p</span><span class="main">)</span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
              <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="var">?s</span><span class="main">:</span> <span class="main">(</span>succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span><span class="main">)</span> <span class="main">‚Üí</span> <span class="free">G</span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚ü®</span><span class="var">?s</span><span class="main">`</span><span class="main">(</span>fst<span class="main">(</span><span class="skolem">p</span><span class="main">)</span><span class="main">)</span><span class="main">,</span>snd<span class="main">(</span><span class="skolem">p</span><span class="main">)</span><span class="main">‚ü©</span> <span class="main">‚àà</span> <span class="free">G</span><span class="main">√ó</span><span class="free">G</span>"</span></span>
                <span class="keyword1"><span class="command">using</span></span> apply_funtype <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span> 
            <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="var">?g</span><span class="main">:</span><span class="main">(</span><span class="main">(</span>succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span><span class="main">)</span><span class="main">√ó</span><span class="free">G</span><span class="main">)</span><span class="main">‚Üí</span><span class="main">(</span><span class="free">G</span><span class="main">√ó</span><span class="free">G</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> ZF_fun_from_total
              <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
          <span class="keyword1"><span class="command">qed</span></span>
          <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span> <span class="main">:</span> <span class="free">G</span><span class="main">√ó</span><span class="free">G</span> <span class="main">‚Üí</span> <span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> topgroup_f_binop <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
          <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span> <span class="keyword1">O</span> <span class="var">?g</span> <span class="keyword1">O</span> <span class="var">?h</span> <span class="main">:</span><span class="main">(</span>succ<span class="main">(</span>succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> comp_fun
            <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span> 
          <span class="keyword1"><span class="command">from</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">k</span> <span class="main">‚àà</span> nat‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span><span class="var">?œà</span><span class="main">,</span>ProductTopology<span class="main">(</span><span class="var">?œÜ</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span><span class="var">?h</span><span class="main">)</span>"</span></span>
            <span class="keyword1"><span class="command">using</span></span> topSpaceAssum finite_top_prod_homeo IsAhomeomorphism_def
            <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
          <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span>ProductTopology<span class="main">(</span><span class="var">?œÜ</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span><span class="keyword1"><span class="free">œÑ</span></span><span class="main">,</span><span class="var">?g</span><span class="main">)</span>"</span></span>
          <span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
            <span class="keyword1"><span class="command">from</span></span> topSpaceAssum <span class="keyword1"><span class="command">have</span></span> 
               <span class="quoted"><span class="quoted">"<span class="free">T</span> <span class="keyword1">{is</span> <span class="keyword1">a</span> <span class="keyword1">topology}</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="var">?œÜ</span> <span class="keyword1">{is</span> <span class="keyword1">a</span> <span class="keyword1">topology}</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚ãÉ</span><span class="var">?œÜ</span> <span class="main">=</span> succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span>"</span></span>
               <span class="keyword1"><span class="command">using</span></span> seq_prod_top_is_top <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
            <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="main">‚ãÉ</span><span class="var">?œÜ</span> <span class="main">=</span> succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span>‚Ä∫</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="var">?s</span><span class="main">:</span> <span class="main">(</span>succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span><span class="main">)</span> <span class="main">‚Üí</span> <span class="free">G</span>‚Ä∫</span></span> 
              <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?s</span><span class="main">:</span><span class="main">‚ãÉ</span><span class="var">?œÜ</span><span class="main">‚Üí</span><span class="main">‚ãÉ</span><span class="free">T</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span> 
            <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">note</span></span> <span class="quoted"><span class="quoted">‚ÄπIsContinuous<span class="main">(</span><span class="var">?œÜ</span><span class="main">,</span><span class="free">T</span><span class="main">,</span><span class="var">?s</span><span class="main">)</span>‚Ä∫</span></span>
            <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="main">‚ãÉ</span><span class="var">?œÜ</span> <span class="main">=</span> succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span>‚Ä∫</span></span> 
              <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?g</span> <span class="main">=</span> <span class="main">{</span><span class="main">‚ü®</span><span class="bound">p</span><span class="main">,</span><span class="main">‚ü®</span><span class="var">?s</span><span class="main">`</span><span class="main">(</span>fst<span class="main">(</span><span class="bound">p</span><span class="main">)</span><span class="main">)</span><span class="main">,</span>snd<span class="main">(</span><span class="bound">p</span><span class="main">)</span><span class="main">‚ü©</span><span class="main">‚ü©</span><span class="main">.</span> <span class="bound">p</span> <span class="main">‚àà</span> <span class="main">‚ãÉ</span><span class="var">?œÜ</span><span class="main">√ó</span><span class="main">‚ãÉ</span><span class="free">T</span><span class="main">}</span>"</span></span>
              <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
            <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span>ProductTopology<span class="main">(</span><span class="var">?œÜ</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span>ProductTopology<span class="main">(</span><span class="free">T</span><span class="main">,</span><span class="free">T</span><span class="main">)</span><span class="main">,</span><span class="var">?g</span><span class="main">)</span>"</span></span>
              <span class="keyword1"><span class="command">using</span></span> cart_prod_cont1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span> 
            <span class="keyword3"><span class="command">thus</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
          <span class="keyword1"><span class="command">qed</span></span>         
          <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span><span class="keyword1"><span class="free">œÑ</span></span><span class="main">,</span><span class="free">T</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> fcon <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
          <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="main">‚ü®</span><span class="bound">x</span><span class="main">,</span><span class="main"><span class="free">‚àë</span></span><span class="bound">x</span><span class="main">‚ü©</span><span class="main">.</span><span class="bound">x</span><span class="main">‚àà</span>succ<span class="main">(</span>succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span><span class="main">}</span> <span class="main">=</span> <span class="free">f</span> <span class="keyword1">O</span> <span class="var">?g</span> <span class="keyword1">O</span> <span class="var">?h</span>"</span></span>
          <span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
            <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?d</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="main">‚ü®</span><span class="bound">x</span><span class="main">,</span><span class="main"><span class="free">‚àë</span></span><span class="bound">x</span><span class="main">‚ü©</span><span class="main">.</span><span class="bound">x</span><span class="main">‚àà</span>succ<span class="main">(</span>succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span><span class="main">}</span>"</span></span>
            <span class="keyword1"><span class="command">from</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">k</span><span class="main">‚àà</span>nat‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚àÄ</span><span class="bound">x</span><span class="main">‚àà</span>succ<span class="main">(</span>succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span><span class="main">.</span> <span class="main">(</span><span class="main"><span class="free">‚àë</span></span><span class="bound">x</span><span class="main">)</span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span>
              <span class="keyword1"><span class="command">using</span></span> sum_list_in_group <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span> 
            <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?d</span><span class="main">:</span><span class="main">(</span>succ<span class="main">(</span>succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span>"</span></span> 
              <span class="keyword1"><span class="command">using</span></span> sum_list_in_group ZF_fun_from_total <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
            <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">note</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="free">f</span> <span class="keyword1">O</span> <span class="var">?g</span> <span class="keyword1">O</span> <span class="var">?h</span> <span class="main">:</span><span class="main">(</span>succ<span class="main">(</span>succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span>‚Ä∫</span></span>
            <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚àÄ</span><span class="bound">x</span><span class="main">‚àà</span>succ<span class="main">(</span>succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span><span class="main">.</span> <span class="var">?d</span><span class="main">`</span><span class="main">(</span><span class="bound">x</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="free">f</span> <span class="keyword1">O</span> <span class="var">?g</span> <span class="keyword1">O</span> <span class="var">?h</span><span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="bound">x</span><span class="main">)</span>"</span></span>
            <span class="keyword1"><span class="command">proof</span></span>
              <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">‚àà</span>succ<span class="main">(</span>succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span>"</span></span>
              <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> I<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="var">?h</span><span class="main">`</span><span class="main">(</span><span class="skolem">x</span><span class="main">)</span> <span class="main">=</span> <span class="main">‚ü®</span>Init<span class="main">(</span><span class="skolem">x</span><span class="main">)</span><span class="main">,</span><span class="skolem">x</span><span class="main">`</span><span class="main">(</span>succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">)</span><span class="main">‚ü©</span>"</span></span>
                <span class="keyword1"><span class="command">using</span></span> ZF_fun_from_tot_val1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
              <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">k</span><span class="main">‚àà</span>nat‚Ä∫</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">x</span><span class="main">‚àà</span>succ<span class="main">(</span>succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span>‚Ä∫</span></span> 
                <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Init<span class="main">(</span><span class="skolem">x</span><span class="main">)</span><span class="main">:</span> succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span>"</span></span> 
                <span class="keyword1"><span class="command">using</span></span> init_props <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
              <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">k</span><span class="main">‚àà</span>nat‚Ä∫</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">x</span><span class="main">:</span>succ<span class="main">(</span>succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span>‚Ä∫</span></span> 
                <span class="keyword1"><span class="command">have</span></span> II<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">`</span><span class="main">(</span>succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">)</span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span>
                <span class="keyword1"><span class="command">using</span></span> apply_funtype <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
              <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?h</span><span class="main">`</span><span class="main">(</span><span class="skolem">x</span><span class="main">)</span> <span class="main">‚àà</span> <span class="main">(</span>succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span><span class="main">)</span><span class="main">√ó</span><span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
              <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?g</span><span class="main">`</span><span class="main">(</span><span class="var">?h</span><span class="main">`</span><span class="main">(</span><span class="skolem">x</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="main">‚ü®</span><span class="var">?s</span><span class="main">`</span><span class="main">(</span>fst<span class="main">(</span><span class="var">?h</span><span class="main">`</span><span class="main">(</span><span class="skolem">x</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">,</span>snd<span class="main">(</span><span class="var">?h</span><span class="main">`</span><span class="main">(</span><span class="skolem">x</span><span class="main">)</span><span class="main">)</span><span class="main">‚ü©</span>"</span></span>
                <span class="keyword1"><span class="command">using</span></span> ZF_fun_from_tot_val1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
              <span class="keyword1"><span class="command">with</span></span> I <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?g</span><span class="main">`</span><span class="main">(</span><span class="var">?h</span><span class="main">`</span><span class="main">(</span><span class="skolem">x</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="main">‚ü®</span><span class="var">?s</span><span class="main">`</span><span class="main">(</span>Init<span class="main">(</span><span class="skolem">x</span><span class="main">)</span><span class="main">)</span><span class="main">,</span><span class="skolem">x</span><span class="main">`</span><span class="main">(</span>succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">)</span><span class="main">‚ü©</span>"</span></span>
                <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
              <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‚ÄπInit<span class="main">(</span><span class="skolem">x</span><span class="main">)</span><span class="main">:</span> succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?g</span><span class="main">`</span><span class="main">(</span><span class="var">?h</span><span class="main">`</span><span class="main">(</span><span class="skolem">x</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="main">‚ü®</span><span class="main"><span class="free">‚àë</span></span>Init<span class="main">(</span><span class="skolem">x</span><span class="main">)</span><span class="main">,</span><span class="skolem">x</span><span class="main">`</span><span class="main">(</span>succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">)</span><span class="main">‚ü©</span>"</span></span>
                <span class="keyword1"><span class="command">using</span></span> ZF_fun_from_tot_val1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
              <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">k</span> <span class="main">‚àà</span> nat‚Ä∫</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">x</span><span class="main">:</span> succ<span class="main">(</span>succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span>‚Ä∫</span></span> 
                <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">`</span><span class="main">(</span><span class="var">?g</span><span class="main">`</span><span class="main">(</span><span class="var">?h</span><span class="main">`</span><span class="main">(</span><span class="skolem">x</span><span class="main">)</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="main"><span class="free">‚àë</span></span><span class="skolem">x</span><span class="main">)</span>"</span></span>
                <span class="keyword1"><span class="command">using</span></span> shorter_set_add <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
              <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">x</span> <span class="main">‚àà</span> succ<span class="main">(</span>succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">`</span><span class="main">(</span><span class="var">?g</span><span class="main">`</span><span class="main">(</span><span class="var">?h</span><span class="main">`</span><span class="main">(</span><span class="skolem">x</span><span class="main">)</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="var">?d</span><span class="main">`</span><span class="main">(</span><span class="skolem">x</span><span class="main">)</span>"</span></span>
                <span class="keyword1"><span class="command">using</span></span> ZF_fun_from_tot_val1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
              <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> 
                <span class="quoted"><span class="quoted">‚Äπ<span class="var">?h</span><span class="main">:</span> <span class="main">(</span>succ<span class="main">(</span>succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span><span class="main">)</span><span class="main">‚Üí</span><span class="main">(</span>succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span><span class="main">)</span><span class="main">√ó</span><span class="free">G</span>‚Ä∫</span></span>
                <span class="quoted"><span class="quoted">‚Äπ<span class="var">?g</span><span class="main">:</span><span class="main">(</span><span class="main">(</span>succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span><span class="main">)</span><span class="main">√ó</span><span class="free">G</span><span class="main">)</span><span class="main">‚Üí</span><span class="main">(</span><span class="free">G</span><span class="main">√ó</span><span class="free">G</span><span class="main">)</span>‚Ä∫</span></span>
                <span class="quoted"><span class="quoted">‚Äπ<span class="free">f</span><span class="main">:</span><span class="main">(</span><span class="free">G</span><span class="main">√ó</span><span class="free">G</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span>‚Ä∫</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">x</span><span class="main">‚àà</span>succ<span class="main">(</span>succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span>‚Ä∫</span></span>
                <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">f</span> <span class="keyword1">O</span> <span class="var">?g</span> <span class="keyword1">O</span> <span class="var">?h</span><span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="skolem">x</span><span class="main">)</span> <span class="main">=</span> <span class="free">f</span><span class="main">`</span><span class="main">(</span><span class="var">?g</span><span class="main">`</span><span class="main">(</span><span class="var">?h</span><span class="main">`</span><span class="main">(</span><span class="skolem">x</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> func1_1_L18<span class="main">)</span>
              <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="var">?d</span><span class="main">`</span><span class="main">(</span><span class="skolem">x</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="free">f</span> <span class="keyword1">O</span> <span class="var">?g</span> <span class="keyword1">O</span> <span class="var">?h</span><span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="skolem">x</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span> 
            <span class="keyword1"><span class="command">qed</span></span>
            <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="main">‚ü®</span><span class="bound">x</span><span class="main">,</span><span class="main"><span class="free">‚àë</span></span><span class="bound">x</span><span class="main">‚ü©</span><span class="main">.</span><span class="bound">x</span><span class="main">‚àà</span>succ<span class="main">(</span>succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span><span class="main">}</span> <span class="main">=</span> <span class="free">f</span> <span class="keyword1">O</span> <span class="var">?g</span> <span class="keyword1">O</span> <span class="var">?h</span>"</span></span> 
              <span class="keyword1"><span class="command">using</span></span> func_eq <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
          <span class="keyword1"><span class="command">qed</span></span>
          <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">note</span></span> <span class="quoted"><span class="quoted">‚ÄπIsContinuous<span class="main">(</span><span class="keyword1"><span class="free">œÑ</span></span><span class="main">,</span><span class="free">T</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>‚Ä∫</span></span>
          <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IsContinuous<span class="main">(</span><span class="var">?œà</span><span class="main">,</span><span class="free">T</span><span class="main">,</span><span class="main">{</span><span class="main">‚ü®</span><span class="bound">x</span><span class="main">,</span><span class="main"><span class="free">‚àë</span></span><span class="bound">x</span><span class="main">‚ü©</span><span class="main">.</span><span class="bound">x</span><span class="main">‚àà</span>succ<span class="main">(</span>succ<span class="main">(</span><span class="skolem">k</span><span class="main">)</span><span class="main">)</span><span class="main">‚Üí</span><span class="free">G</span><span class="main">}</span><span class="main">)</span>"</span></span>
            <span class="keyword1"><span class="command">using</span></span> comp_cont3 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
        <span class="keyword1"><span class="command">}</span></span> <span class="keyword3"><span class="command">thus</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
      <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> ind_on_nat<span class="main">)</span>
  <span class="keyword1"><span class="command">qed</span></span>
<span class="keyword2"><span class="keyword">end</span></span>
</pre>
</body>

</html>