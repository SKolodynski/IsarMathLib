<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory Field_ZF</title>
</head>


<body>
<div class="head">
<h1>Theory Field_ZF</h1>
</div>

<pre class="source"><span class="comment1">(*
    This file is a part of IsarMathLib - 
    a library of formalized mathematics for Isabelle/Isar.

    Copyright (C) 2005, 2006  Slawomir Kolodynski

    This program is free software; Redistribution and use in source and binary forms, 
    with or without modification, are permitted provided that the following conditions are met:

   1. Redistributions of source code must retain the above copyright notice, 
   this list of conditions and the following disclaimer.
   2. Redistributions in binary form must reproduce the above copyright notice, 
   this list of conditions and the following disclaimer in the documentation and/or 
   other materials provided with the distribution.
   3. The name of the author may not be used to endorse or promote products 
   derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED 
WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF 
MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, 
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, 
PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; 
OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR 
OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, 
EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

*)</span>

<span class="keyword1"><span class="command">section</span></span> <span class="quoted"><span class="plain_text">â€¹Fields - introductionâ€º</span></span>

<span class="keyword1"><span class="command">theory</span></span> Field_ZF <span class="keyword2"><span class="keyword">imports</span></span> <a href="Ring_ZF.html">Ring_ZF</a>

<span class="keyword2"><span class="keyword">begin</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">â€¹This theory covers basic facts about fields.â€º</span></span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">â€¹Definition and basic propertiesâ€º</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">â€¹In this section we define what is a field and list the basic properties
  of fields.â€º</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">â€¹Field is a notrivial commutative ring such that all 
  non-zero elements have an inverse. We define the notion of being a field as
  a statement about three sets. The first set, denoted <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">â€¹</span></span>Kâ€º</span></span></span></span> is the 
  carrier of the field. The second set, denoted <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">â€¹</span></span>Aâ€º</span></span></span></span> represents the 
  additive operation on <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">â€¹</span></span>Kâ€º</span></span></span></span> (recall that in ZF set theory functions 
  are sets). The third set <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">â€¹</span></span>Mâ€º</span></span></span></span> represents the multiplicative operation 
  on <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">â€¹</span></span>Kâ€º</span></span></span></span>.â€º</span></span>

<span class="keyword1"><span class="command">definition</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">IsAfield</span><span class="main">(</span><span class="free"><span class="bound"><span class="entity">K</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">M</span></span></span><span class="main">)</span> <span class="main">â‰¡</span> 
  <span class="main">(</span>IsAring<span class="main">(</span><span class="free"><span class="bound"><span class="entity">K</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">M</span></span></span><span class="main">)</span> <span class="main">âˆ§</span> <span class="main">(</span><span class="free"><span class="bound"><span class="entity">M</span></span></span> <span class="keyword1">{is</span> <span class="keyword1">commutative</span> <span class="keyword1">on}</span> <span class="free"><span class="bound"><span class="entity">K</span></span></span><span class="main">)</span> <span class="main">âˆ§</span>
  TheNeutralElement<span class="main">(</span><span class="free"><span class="bound"><span class="entity">K</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">)</span> <span class="main">â‰ </span> TheNeutralElement<span class="main">(</span><span class="free"><span class="bound"><span class="entity">K</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">M</span></span></span><span class="main">)</span> <span class="main">âˆ§</span> 
  <span class="main">(</span><span class="main">âˆ€</span><span class="bound">a</span><span class="main">âˆˆ</span><span class="free"><span class="bound"><span class="entity">K</span></span></span><span class="main">.</span> <span class="bound">a</span><span class="main">â‰ </span>TheNeutralElement<span class="main">(</span><span class="free"><span class="bound"><span class="entity">K</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">)</span><span class="main">âŸ¶</span>
  <span class="main">(</span><span class="main">âˆƒ</span><span class="bound">b</span><span class="main">âˆˆ</span><span class="free"><span class="bound"><span class="entity">K</span></span></span><span class="main">.</span> <span class="free"><span class="bound"><span class="entity">M</span></span></span><span class="main">`</span><span class="main">âŸ¨</span><span class="bound">a</span><span class="main">,</span><span class="bound">b</span><span class="main">âŸ©</span> <span class="main">=</span> TheNeutralElement<span class="main">(</span><span class="free"><span class="bound"><span class="entity">K</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">M</span></span></span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">â€¹The <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">â€¹</span></span>field0â€º</span></span></span></span> context extends the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">â€¹</span></span>ring0â€º</span></span></span></span>
  context adding field-related assumptions and notation related to the 
  multiplicative inverse.â€º</span></span>

<span class="keyword1"><span class="command">locale</span></span> field0 <span class="main">=</span> ring0 <span class="quoted"><span class="free">K</span></span> <span class="quoted"><span class="free">A</span></span> <span class="quoted"><span class="free">M</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="free">K</span> <span class="free">A</span> <span class="free">M</span> <span class="main">+</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> mult_commute<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">M</span> <span class="keyword1">{is</span> <span class="keyword1">commutative</span> <span class="keyword1">on}</span> <span class="free">K</span>"</span></span>
  
  <span class="keyword2"><span class="keyword">assumes</span></span> not_triv<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ğŸ¬</span></span> <span class="main">â‰ </span> <span class="main"><span class="free">ğŸ­</span></span>"</span></span>

  <span class="keyword2"><span class="keyword">assumes</span></span> inv_exists<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">âˆ€</span><span class="bound">a</span><span class="main">âˆˆ</span><span class="free">K</span><span class="main">.</span> <span class="bound">a</span><span class="main">â‰ </span><span class="main"><span class="free">ğŸ¬</span></span> <span class="main">âŸ¶</span> <span class="main">(</span><span class="main">âˆƒ</span><span class="bound">b</span><span class="main">âˆˆ</span><span class="free">K</span><span class="main">.</span> <span class="bound">a</span><span class="main"><span class="free">â‹…</span></span><span class="bound">b</span> <span class="main">=</span> <span class="main"><span class="free">ğŸ­</span></span><span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">non_zero</span> <span class="main">(</span><span class="quoted">"<span class="keyword1"><span class="keyword1">K<span class="hidden">â‡©</span><sub>0</sub></span></span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> non_zero_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span> <span class="main">â‰¡</span> <span class="free">K</span><span class="main">-</span><span class="main">{</span><span class="main"><span class="free">ğŸ¬</span></span><span class="main">}</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">inv</span> <span class="main">(</span><span class="quoted">"_<span class="keyword1"><span class="keyword1">Â¯</span></span> "</span> <span class="main">[</span>96<span class="main">]</span> 97<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> inv_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">Â¯</span></span> <span class="main">â‰¡</span> GroupInv<span class="main">(</span><span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span><span class="main">,</span>restrict<span class="main">(</span><span class="free">M</span><span class="main">,</span><span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span><span class="main">Ã—</span><span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span><span class="main">)</span><span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="free">a</span><span class="main">)</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">â€¹The next lemma assures us that we are talking fields 
  in the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">â€¹</span></span>field0â€º</span></span></span></span> context.â€º</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> field0<span class="main">)</span> Field_ZF_1_L1<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"IsAfield<span class="main">(</span><span class="free">K</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> ringAssum mult_commute not_triv inv_exists IsAfield_def
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">â€¹We can use theorems proven in the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">â€¹</span></span>field0â€º</span></span></span></span> context whenever we
  talk about a field.â€º</span></span>

<span class="keyword1"><span class="command">lemma</span></span> field_field0<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"IsAfield<span class="main">(</span><span class="free">K</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"field0<span class="main">(</span><span class="free">K</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms IsAfield_def field0_axioms.intro ring0_def field0_def 
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">â€¹Let's have an explicit statement that the multiplication
  in fields is commutative.â€º</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> field0<span class="main">)</span> field_mult_comm<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">âˆˆ</span><span class="free">K</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">âˆˆ</span><span class="free">K</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">â‹…</span></span><span class="free">b</span> <span class="main">=</span> <span class="free">b</span><span class="main"><span class="free">â‹…</span></span><span class="free">a</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> mult_commute assms IsCommutative_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">â€¹Fields do not have zero divisors.â€º</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> field0<span class="main">)</span> field_has_no_zero_divs<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"HasNoZeroDivs<span class="main">(</span><span class="free">K</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">{</span></span> <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">a</span> <span class="skolem">b</span> <span class="keyword3"><span class="command">assume</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">a</span><span class="main">âˆˆ</span><span class="free">K</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">âˆˆ</span><span class="free">K</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">a</span><span class="main"><span class="free">â‹…</span></span><span class="skolem">b</span> <span class="main">=</span> <span class="main"><span class="free">ğŸ¬</span></span>"</span></span>  <span class="keyword2"><span class="keyword">and</span></span> A3<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">â‰ </span><span class="main"><span class="free">ğŸ¬</span></span>"</span></span>
    <span class="keyword1"><span class="command">from</span></span> inv_exists A1 A3 <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">c</span></span> <span class="keyword2"><span class="keyword">where</span></span> I<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">c</span><span class="main">âˆˆ</span><span class="free">K</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> II<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main"><span class="free">â‹…</span></span><span class="skolem">c</span> <span class="main">=</span> <span class="main"><span class="free">ğŸ­</span></span>"</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">from</span></span> A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">a</span><span class="main"><span class="free">â‹…</span></span><span class="skolem">b</span><span class="main"><span class="free">â‹…</span></span><span class="skolem">c</span> <span class="main">=</span> <span class="main"><span class="free">ğŸ¬</span></span><span class="main"><span class="free">â‹…</span></span><span class="skolem">c</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">with</span></span> A1 I <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">a</span><span class="main"><span class="free">â‹…</span></span><span class="main">(</span><span class="skolem">b</span><span class="main"><span class="free">â‹…</span></span><span class="skolem">c</span><span class="main">)</span> <span class="main">=</span> <span class="main"><span class="free">ğŸ¬</span></span>"</span></span> 
      <span class="keyword1"><span class="command">using</span></span> Ring_ZF_1_L11 Ring_ZF_1_L6 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">with</span></span> A1 II <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">a</span><span class="main">=</span><span class="main"><span class="free">ğŸ¬</span></span> "</span></span><span class="keyword1"><span class="command">using</span></span> Ring_ZF_1_L3 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span> <span class="keyword1"><span class="command">}</span></span> 
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">âˆ€</span><span class="bound">a</span><span class="main">âˆˆ</span><span class="free">K</span><span class="main">.</span><span class="main">âˆ€</span><span class="bound">b</span><span class="main">âˆˆ</span><span class="free">K</span><span class="main">.</span> <span class="bound">a</span><span class="main"><span class="free">â‹…</span></span><span class="bound">b</span> <span class="main">=</span> <span class="main"><span class="free">ğŸ¬</span></span> <span class="main">âŸ¶</span> <span class="bound">a</span><span class="main">=</span><span class="main"><span class="free">ğŸ¬</span></span> <span class="main">âˆ¨</span> <span class="bound">b</span><span class="main">=</span><span class="main"><span class="free">ğŸ¬</span></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> HasNoZeroDivs_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">â€¹$K_0$ (the set of nonzero field elements is closed with respect
  to multiplication.â€º</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> field0<span class="main">)</span> Field_ZF_1_L2<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span> <span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">under}</span> <span class="free">M</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> Ring_ZF_1_L4 field_has_no_zero_divs Ring_ZF_1_L12
    IsOpClosed_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">â€¹Any nonzero element has a right inverse that is nonzero.â€º</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> field0<span class="main">)</span> Field_ZF_1_L3<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">âˆˆ</span><span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">âˆƒ</span><span class="bound">b</span><span class="main">âˆˆ</span><span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span><span class="main">.</span> <span class="free">a</span><span class="main"><span class="free">â‹…</span></span><span class="bound">b</span> <span class="main">=</span> <span class="main"><span class="free">ğŸ­</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> inv_exists A1 <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">b</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">âˆˆ</span><span class="free">K</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">â‹…</span></span><span class="skolem">b</span> <span class="main">=</span> <span class="main"><span class="free">ğŸ­</span></span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> not_triv A1 <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main">âˆƒ</span><span class="bound">b</span><span class="main">âˆˆ</span><span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span><span class="main">.</span> <span class="free">a</span><span class="main"><span class="free">â‹…</span></span><span class="bound">b</span> <span class="main">=</span> <span class="main"><span class="free">ğŸ­</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Ring_ZF_1_L6 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">â€¹If we remove zero, the field with multiplication
  becomes a group and we can use all theorems proven in 
  <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">â€¹</span></span>group0â€º</span></span></span></span> context.â€º</span></span>

<span class="keyword1"><span class="command">theorem</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> field0<span class="main">)</span> Field_ZF_1_L4<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"IsAgroup<span class="main">(</span><span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span><span class="main">,</span>restrict<span class="main">(</span><span class="free">M</span><span class="main">,</span><span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span><span class="main">Ã—</span><span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"group0<span class="main">(</span><span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span><span class="main">,</span>restrict<span class="main">(</span><span class="free">M</span><span class="main">,</span><span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span><span class="main">Ã—</span><span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ğŸ­</span></span> <span class="main">=</span> TheNeutralElement<span class="main">(</span><span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span><span class="main">,</span>restrict<span class="main">(</span><span class="free">M</span><span class="main">,</span><span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span><span class="main">Ã—</span><span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span><span class="main">)</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?f</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"restrict<span class="main">(</span><span class="free">M</span><span class="main">,</span><span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span><span class="main">Ã—</span><span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"<span class="free">M</span> <span class="keyword1">{is</span> <span class="keyword1">associative</span> <span class="keyword1">on}</span> <span class="free">K</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span> <span class="main">âŠ†</span> <span class="free">K</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span> <span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">under}</span> <span class="free">M</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Field_ZF_1_L1 IsAfield_def IsAring_def IsAgroup_def 
      IsAmonoid_def Field_ZF_1_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?f</span> <span class="keyword1">{is</span> <span class="keyword1">associative</span> <span class="keyword1">on}</span> <span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> func_ZF_4_L3 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">from</span></span> not_triv <span class="keyword1"><span class="command">have</span></span> 
    I<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ğŸ­</span></span><span class="main">âˆˆ</span><span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span> <span class="main">âˆ§</span> <span class="main">(</span><span class="main">âˆ€</span><span class="bound">a</span><span class="main">âˆˆ</span><span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span><span class="main">.</span> <span class="var">?f</span><span class="main">`</span><span class="main">âŸ¨</span><span class="main"><span class="free">ğŸ­</span></span><span class="main">,</span><span class="bound">a</span><span class="main">âŸ©</span> <span class="main">=</span> <span class="bound">a</span> <span class="main">âˆ§</span>  <span class="var">?f</span><span class="main">`</span><span class="main">âŸ¨</span><span class="bound">a</span><span class="main">,</span><span class="main"><span class="free">ğŸ­</span></span><span class="main">âŸ©</span> <span class="main">=</span> <span class="bound">a</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Ring_ZF_1_L2 Ring_ZF_1_L3 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">âˆƒ</span><span class="bound">n</span><span class="main">âˆˆ</span><span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span><span class="main">.</span> <span class="main">âˆ€</span><span class="bound">a</span><span class="main">âˆˆ</span><span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span><span class="main">.</span> <span class="var">?f</span><span class="main">`</span><span class="main">âŸ¨</span><span class="bound">n</span><span class="main">,</span><span class="bound">a</span><span class="main">âŸ©</span> <span class="main">=</span> <span class="bound">a</span> <span class="main">âˆ§</span>  <span class="var">?f</span><span class="main">`</span><span class="main">âŸ¨</span><span class="bound">a</span><span class="main">,</span><span class="bound">n</span><span class="main">âŸ©</span> <span class="main">=</span> <span class="bound">a</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> II<span class="main">:</span> <span class="quoted"><span class="quoted">"IsAmonoid<span class="main">(</span><span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span><span class="main">,</span><span class="var">?f</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> IsAmonoid_def
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"monoid0<span class="main">(</span><span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span><span class="main">,</span><span class="var">?f</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> monoid0_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">note</span></span> I
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ğŸ­</span></span> <span class="main">=</span> TheNeutralElement<span class="main">(</span><span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span><span class="main">,</span><span class="var">?f</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> monoid0.group0_1_L4<span class="main">)</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">âˆ€</span><span class="bound">a</span><span class="main">âˆˆ</span><span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span><span class="main">.</span><span class="main">âˆƒ</span><span class="bound">b</span><span class="main">âˆˆ</span><span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span><span class="main">.</span> <span class="var">?f</span><span class="main">`</span><span class="main">âŸ¨</span><span class="bound">a</span><span class="main">,</span><span class="bound">b</span><span class="main">âŸ©</span> <span class="main">=</span>  TheNeutralElement<span class="main">(</span><span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span><span class="main">,</span><span class="var">?f</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Field_ZF_1_L3 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> II <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"IsAgroup<span class="main">(</span><span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span><span class="main">,</span><span class="var">?f</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> definition_of_group<span class="main">)</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"group0<span class="main">(</span><span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span><span class="main">,</span><span class="var">?f</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> group0_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">â€¹The inverse of a nonzero field element is nonzero.â€º</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> field0<span class="main">)</span> Field_ZF_1_L5<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">âˆˆ</span><span class="free">K</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">â‰ </span><span class="main"><span class="free">ğŸ¬</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">Â¯</span></span> <span class="main">âˆˆ</span> <span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">a</span><span class="main"><span class="free">Â¯</span></span><span class="main">)</span><span class="main"><span class="free"><span class="hidden">â‡§</span><sup>2</sup></span></span> <span class="main">âˆˆ</span> <span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span>"</span></span>   <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">Â¯</span></span> <span class="main">âˆˆ</span> <span class="free">K</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">Â¯</span></span> <span class="main">â‰ </span> <span class="main"><span class="free">ğŸ¬</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">âˆˆ</span> <span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">Â¯</span></span> <span class="main">âˆˆ</span> <span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Field_ZF_1_L4 group0.inverse_in_group
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span>  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">a</span><span class="main"><span class="free">Â¯</span></span><span class="main">)</span><span class="main"><span class="free"><span class="hidden">â‡§</span><sup>2</sup></span></span> <span class="main">âˆˆ</span> <span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">Â¯</span></span> <span class="main">âˆˆ</span> <span class="free">K</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">Â¯</span></span> <span class="main">â‰ </span> <span class="main"><span class="free">ğŸ¬</span></span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> Field_ZF_1_L2 IsOpClosed_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">â€¹The inverse is really the inverse.â€º</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> field0<span class="main">)</span> Field_ZF_1_L6<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">âˆˆ</span><span class="free">K</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">â‰ </span><span class="main"><span class="free">ğŸ¬</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">â‹…</span></span><span class="free">a</span><span class="main"><span class="free">Â¯</span></span> <span class="main">=</span> <span class="main"><span class="free">ğŸ­</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">Â¯</span></span><span class="main"><span class="free">â‹…</span></span><span class="free">a</span> <span class="main">=</span> <span class="main"><span class="free">ğŸ­</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?f</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"restrict<span class="main">(</span><span class="free">M</span><span class="main">,</span><span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span><span class="main">Ã—</span><span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"group0<span class="main">(</span><span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span><span class="main">,</span><span class="var">?f</span><span class="main">)</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">âˆˆ</span> <span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Field_ZF_1_L4 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"<span class="var">?f</span><span class="main">`</span><span class="main">âŸ¨</span><span class="free">a</span><span class="main">,</span>GroupInv<span class="main">(</span><span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span><span class="main">,</span> <span class="var">?f</span><span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="free">a</span><span class="main">)</span><span class="main">âŸ©</span> <span class="main">=</span> TheNeutralElement<span class="main">(</span><span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span><span class="main">,</span><span class="var">?f</span><span class="main">)</span> <span class="main">âˆ§</span>
    <span class="var">?f</span><span class="main">`</span><span class="main">âŸ¨</span>GroupInv<span class="main">(</span><span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span><span class="main">,</span><span class="var">?f</span><span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="free">a</span><span class="main">)</span><span class="main">,</span><span class="free">a</span><span class="main">âŸ©</span> <span class="main">=</span> TheNeutralElement<span class="main">(</span><span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span><span class="main">,</span> <span class="var">?f</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> group0.group0_2_L6<span class="main">)</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">â‹…</span></span><span class="free">a</span><span class="main"><span class="free">Â¯</span></span> <span class="main">=</span> <span class="main"><span class="free">ğŸ­</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">Â¯</span></span><span class="main"><span class="free">â‹…</span></span><span class="free">a</span> <span class="main">=</span> <span class="main"><span class="free">ğŸ­</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Field_ZF_1_L5 Field_ZF_1_L4 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">â€¹A lemma with two field elements and cancelling.â€º</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> field0<span class="main">)</span> Field_ZF_1_L7<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">âˆˆ</span><span class="free">K</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">âˆˆ</span><span class="free">K</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">â‰ </span><span class="main"><span class="free">ğŸ¬</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">â‹…</span></span><span class="free">b</span><span class="main"><span class="free">â‹…</span></span><span class="free">b</span><span class="main"><span class="free">Â¯</span></span> <span class="main">=</span> <span class="free">a</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">â‹…</span></span><span class="free">b</span><span class="main"><span class="free">Â¯</span></span><span class="main"><span class="free">â‹…</span></span><span class="free">b</span> <span class="main">=</span> <span class="free">a</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms Field_ZF_1_L5 Ring_ZF_1_L11 Field_ZF_1_L6 Ring_ZF_1_L3
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">â€¹Equations and identitiesâ€º</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">â€¹This section deals with more specialized identities that are true in 
  fields.â€º</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">â€¹$a/(a^2) = 1/a $ .â€º</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> field0<span class="main">)</span> Field_ZF_2_L1<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">âˆˆ</span><span class="free">K</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">â‰ </span><span class="main"><span class="free">ğŸ¬</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">â‹…</span></span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">Â¯</span></span><span class="main">)</span><span class="main"><span class="free"><span class="hidden">â‡§</span><sup>2</sup></span></span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">Â¯</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">â‹…</span></span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">Â¯</span></span><span class="main">)</span><span class="main"><span class="free"><span class="hidden">â‡§</span><sup>2</sup></span></span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">â‹…</span></span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">Â¯</span></span><span class="main"><span class="free">â‹…</span></span><span class="free">a</span><span class="main"><span class="free">Â¯</span></span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">â€¦</span> <span class="main">=</span>  <span class="main">(</span><span class="free">a</span><span class="main"><span class="free">â‹…</span></span><span class="free">a</span><span class="main"><span class="free">Â¯</span></span><span class="main">)</span><span class="main"><span class="free">â‹…</span></span><span class="free">a</span><span class="main"><span class="free">Â¯</span></span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> Field_ZF_1_L5 Ring_ZF_1_L11 
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">â€¦</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">Â¯</span></span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> Field_ZF_1_L6 Field_ZF_1_L5 Ring_ZF_1_L3
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">finally</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">â‹…</span></span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">Â¯</span></span><span class="main">)</span><span class="main"><span class="free"><span class="hidden">â‡§</span><sup>2</sup></span></span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">Â¯</span></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">â€¹If we multiply two different numbers by a nonzero number, the results 
  will be different.â€º</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> field0<span class="main">)</span> Field_ZF_2_L2<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">âˆˆ</span><span class="free">K</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">âˆˆ</span><span class="free">K</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">âˆˆ</span><span class="free">K</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">â‰ </span><span class="free">b</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">â‰ </span><span class="main"><span class="free">ğŸ¬</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">â‹…</span></span><span class="free">c</span><span class="main"><span class="free">Â¯</span></span> <span class="main">â‰ </span> <span class="free">b</span><span class="main"><span class="free">â‹…</span></span><span class="free">c</span><span class="main"><span class="free">Â¯</span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms field_has_no_zero_divs Field_ZF_1_L5 Ring_ZF_1_L12B
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">â€¹We can put a nonzero factor on the other side of non-identity 
  (is this the best way to call it?) changing it to the inverse.â€º</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> field0<span class="main">)</span> Field_ZF_2_L3<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">âˆˆ</span><span class="free">K</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">âˆˆ</span><span class="free">K</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">â‰ </span><span class="main"><span class="free">ğŸ¬</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">âˆˆ</span><span class="free">K</span>"</span></span>   <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">â‹…</span></span><span class="free">b</span> <span class="main">â‰ </span> <span class="free">c</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">â‰ </span> <span class="free">c</span><span class="main"><span class="free">â‹…</span></span><span class="free">b</span><span class="main"><span class="free">Â¯</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">â‹…</span></span><span class="free">b</span><span class="main"><span class="free">â‹…</span></span><span class="free">b</span><span class="main"><span class="free">Â¯</span></span> <span class="main">â‰ </span> <span class="free">c</span><span class="main"><span class="free">â‹…</span></span><span class="free">b</span><span class="main"><span class="free">Â¯</span></span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span>  Ring_ZF_1_L4 Field_ZF_2_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">â‰ </span> <span class="free">c</span><span class="main"><span class="free">â‹…</span></span><span class="free">b</span><span class="main"><span class="free">Â¯</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Field_ZF_1_L7
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">â€¹If if the inverse of $b$ is different than $a$, then the
  inverse of $a$ is different than $b$.â€º</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> field0<span class="main">)</span> Field_ZF_2_L4<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">âˆˆ</span><span class="free">K</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">â‰ </span><span class="main"><span class="free">ğŸ¬</span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">Â¯</span></span> <span class="main">â‰ </span> <span class="free">a</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">Â¯</span></span> <span class="main">â‰ </span> <span class="free">b</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms Field_ZF_1_L4 group0.group0_2_L11B
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">â€¹An identity with two field elements, one and an inverse.â€º</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> field0<span class="main">)</span> Field_ZF_2_L5<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">âˆˆ</span><span class="free">K</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">âˆˆ</span><span class="free">K</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">â‰ </span><span class="main"><span class="free">ğŸ¬</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">ğŸ­</span></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">a</span><span class="main"><span class="free">â‹…</span></span><span class="free">b</span><span class="main">)</span><span class="main"><span class="free">â‹…</span></span><span class="free">b</span><span class="main"><span class="free">Â¯</span></span> <span class="main">=</span> <span class="free">a</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">Â¯</span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms Ring_ZF_1_L4 Field_ZF_1_L5 Ring_ZF_1_L2 ring_oper_distr 
    Field_ZF_1_L7 Ring_ZF_1_L3 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">â€¹An identity with three field elements, inverse and cancelling.â€º</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> field0<span class="main">)</span> Field_ZF_2_L6<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">âˆˆ</span><span class="free">K</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">âˆˆ</span><span class="free">K</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">â‰ </span><span class="main"><span class="free">ğŸ¬</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">âˆˆ</span><span class="free">K</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">â‹…</span></span><span class="free">b</span><span class="main"><span class="free">â‹…</span></span><span class="main">(</span><span class="free">c</span><span class="main"><span class="free">â‹…</span></span><span class="free">b</span><span class="main"><span class="free">Â¯</span></span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">â‹…</span></span><span class="free">c</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> T<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">â‹…</span></span><span class="free">b</span> <span class="main">âˆˆ</span> <span class="free">K</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">Â¯</span></span> <span class="main">âˆˆ</span> <span class="free">K</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Ring_ZF_1_L4 Field_ZF_1_L5 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> mult_commute A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">â‹…</span></span><span class="free">b</span><span class="main"><span class="free">â‹…</span></span><span class="main">(</span><span class="free">c</span><span class="main"><span class="free">â‹…</span></span><span class="free">b</span><span class="main"><span class="free">Â¯</span></span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">â‹…</span></span><span class="free">b</span><span class="main"><span class="free">â‹…</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">Â¯</span></span><span class="main"><span class="free">â‹…</span></span><span class="free">c</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> IsCommutative_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">from</span></span> A1 T <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">â‹…</span></span><span class="free">b</span> <span class="main">âˆˆ</span> <span class="free">K</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">Â¯</span></span> <span class="main">âˆˆ</span> <span class="free">K</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">âˆˆ</span><span class="free">K</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">â‹…</span></span><span class="free">b</span><span class="main"><span class="free">â‹…</span></span><span class="free">b</span><span class="main"><span class="free">Â¯</span></span><span class="main"><span class="free">â‹…</span></span><span class="free">c</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">â‹…</span></span><span class="free">b</span><span class="main"><span class="free">â‹…</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">Â¯</span></span><span class="main"><span class="free">â‹…</span></span><span class="free">c</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> Ring_ZF_1_L11<span class="main">)</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">â‹…</span></span><span class="free">b</span><span class="main"><span class="free">â‹…</span></span><span class="main">(</span><span class="free">c</span><span class="main"><span class="free">â‹…</span></span><span class="free">b</span><span class="main"><span class="free">Â¯</span></span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">â‹…</span></span><span class="free">b</span><span class="main"><span class="free">â‹…</span></span><span class="free">b</span><span class="main"><span class="free">Â¯</span></span><span class="main"><span class="free">â‹…</span></span><span class="free">c</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">â‹…</span></span><span class="free">b</span><span class="main"><span class="free">â‹…</span></span><span class="main">(</span><span class="free">c</span><span class="main"><span class="free">â‹…</span></span><span class="free">b</span><span class="main"><span class="free">Â¯</span></span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">â‹…</span></span><span class="free">c</span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> Field_ZF_1_L7 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">â€¹1/0=0â€º</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">â€¹In ZF if $f: X\rightarrow Y$ and $x\notin X$ we have $f(x)=\emptyset$.
  Since $\emptyset$ (the empty set) in ZF is the same as zero of natural numbers we
  can claim that $1/0=0$ in certain sense. In this section we prove a theorem that
  makes makes it explicit.â€º</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">â€¹The next locale extends the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">â€¹</span></span>field0â€º</span></span></span></span> locale to introduce notation
  for division operation.â€º</span></span>

<span class="keyword1"><span class="command">locale</span></span> fieldd <span class="main">=</span> field0 <span class="main">+</span>
  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">division</span>
  <span class="keyword2"><span class="keyword">defines</span></span> division_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">division</span> <span class="main">â‰¡</span> <span class="main">{</span><span class="main">âŸ¨</span><span class="bound">p</span><span class="main">,</span>fst<span class="main">(</span><span class="bound">p</span><span class="main">)</span><span class="main"><span class="free">â‹…</span></span>snd<span class="main">(</span><span class="bound">p</span><span class="main">)</span><span class="main"><span class="free">Â¯</span></span><span class="main">âŸ©</span><span class="main">.</span> <span class="bound">p</span><span class="main">âˆˆ</span><span class="free">K</span><span class="main">Ã—</span><span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span><span class="main">}</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">fdiv</span> <span class="main">(</span><span class="keyword2"><span class="keyword">infixl</span></span> <span class="quoted">"<span class="keyword1">\&lt;fd&gt;</span>"</span> 95<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> fdiv_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main"><span class="free">\&lt;fd&gt;</span></span><span class="free">y</span> <span class="main">â‰¡</span> <span class="free">division</span><span class="main">`</span><span class="main">âŸ¨</span><span class="free">x</span><span class="main">,</span><span class="free">y</span><span class="main">âŸ©</span>"</span></span>


<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">â€¹Division is a function on $K\times K_0$ with values in $K$.â€º</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> fieldd<span class="main">)</span> div_fun<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">division</span><span class="main">:</span> <span class="free">K</span><span class="main">Ã—</span><span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span> <span class="main">â†’</span> <span class="free">K</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">âˆ€</span><span class="bound">p</span> <span class="main">âˆˆ</span> <span class="free">K</span><span class="main">Ã—</span><span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span><span class="main">.</span> fst<span class="main">(</span><span class="bound">p</span><span class="main">)</span><span class="main"><span class="free">â‹…</span></span>snd<span class="main">(</span><span class="bound">p</span><span class="main">)</span><span class="main"><span class="free">Â¯</span></span> <span class="main">âˆˆ</span> <span class="free">K</span>"</span></span>
  <span class="keyword1"><span class="command">proof</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">p</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">p</span> <span class="main">âˆˆ</span> <span class="free">K</span><span class="main">Ã—</span><span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span>"</span></span>
    <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"fst<span class="main">(</span><span class="skolem">p</span><span class="main">)</span> <span class="main">âˆˆ</span> <span class="free">K</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"snd<span class="main">(</span><span class="skolem">p</span><span class="main">)</span> <span class="main">âˆˆ</span> <span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span>  <span class="quoted"><span class="quoted">"fst<span class="main">(</span><span class="skolem">p</span><span class="main">)</span><span class="main"><span class="free">â‹…</span></span>snd<span class="main">(</span><span class="skolem">p</span><span class="main">)</span><span class="main"><span class="free">Â¯</span></span> <span class="main">âˆˆ</span> <span class="free">K</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Ring_ZF_1_L4 Field_ZF_1_L5 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="main">âŸ¨</span><span class="bound">p</span><span class="main">,</span>fst<span class="main">(</span><span class="bound">p</span><span class="main">)</span><span class="main"><span class="free">â‹…</span></span>snd<span class="main">(</span><span class="bound">p</span><span class="main">)</span><span class="main"><span class="free">Â¯</span></span><span class="main">âŸ©</span><span class="main">.</span> <span class="bound">p</span><span class="main">âˆˆ</span><span class="free">K</span><span class="main">Ã—</span><span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span><span class="main">}</span><span class="main">:</span> <span class="free">K</span><span class="main">Ã—</span><span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span> <span class="main">â†’</span> <span class="free">K</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> ZF_fun_from_total<span class="main">)</span>
  <span class="keyword3"><span class="command">thus</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">â€¹So, really $1/0=0$. The essential lemma is <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">â€¹</span></span>apply_0â€º</span></span></span></span> from standard
  Isabelle's <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">â€¹</span></span>func.thyâ€º</span></span></span></span>.â€º</span></span>

<span class="keyword1"><span class="command">theorem</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> fieldd<span class="main">)</span> one_over_zero<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ğŸ­</span></span><span class="main"><span class="free">\&lt;fd&gt;</span></span><span class="main"><span class="free">ğŸ¬</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"domain<span class="main">(</span><span class="free">division</span><span class="main">)</span> <span class="main">=</span> <span class="free">K</span><span class="main">Ã—</span><span class="keyword1"><span class="free">K<span class="hidden">â‡©</span><sub>0</sub></span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> div_fun func1_1_L1
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"<span class="main">âŸ¨</span><span class="main"><span class="free">ğŸ­</span></span><span class="main">,</span><span class="main"><span class="free">ğŸ¬</span></span><span class="main">âŸ©</span> <span class="main">âˆ‰</span> domain<span class="main">(</span><span class="free">division</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> apply_0 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword2"><span class="keyword">end</span></span>
</pre>
</body>

</html>