<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory Group_ZF</title>
</head>


<body>
<div class="head">
<h1>Theory Group_ZF</h1>
</div>

<pre class="source"><span class="comment1">(* 
This file is a part of IsarMathLib - 
a library of formalized mathematics for Isabelle/Isar.

Copyright (C) 2005 - 2008  Slawomir Kolodynski

This program is free software; Redistribution and use in source and binary forms, 
with or without modification, are permitted provided that the 
following conditions are met:

1. Redistributions of source code must retain the above copyright notice, 
   this list of conditions and the following disclaimer.
   2. Redistributions in binary form must reproduce the above copyright notice, 
   this list of conditions and the following disclaimer in the documentation and/or 
   other materials provided with the distribution.
   3. The name of the author may not be used to endorse or promote products 
   derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED 
WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF 
MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, 
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, 
PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; 
OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR 
OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, 
EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

*)</span>

<span class="keyword1"><span class="command">section</span></span> <span class="quoted"><span class="plain_text">‚ÄπGroups - introduction‚Ä∫</span></span>

<span class="keyword1"><span class="command">theory</span></span> Group_ZF <span class="keyword2"><span class="keyword">imports</span></span> <a href="Monoid_ZF.html">Monoid_ZF</a>

<span class="keyword2"><span class="keyword">begin</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπThis theory file covers basics of group theory.‚Ä∫</span></span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‚ÄπDefinition and basic properties of groups‚Ä∫</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπIn this section we define the notion of a group and set up the 
   notation for discussing groups. We prove some basic theorems about
   groups.‚Ä∫</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπTo define a group we take a monoid and add a requirement 
  that the right inverse needs to exist for every element of the group.‚Ä∫</span></span>
  
<span class="keyword1"><span class="command">definition</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">IsAgroup</span><span class="main">(</span><span class="free"><span class="bound"><span class="entity">G</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">f</span></span></span><span class="main">)</span> <span class="main">‚â°</span> 
  <span class="main">(</span>IsAmonoid<span class="main">(</span><span class="free"><span class="bound"><span class="entity">G</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">f</span></span></span><span class="main">)</span> <span class="main">‚àß</span> <span class="main">(</span><span class="main">‚àÄ</span><span class="bound">g</span><span class="main">‚àà</span><span class="free"><span class="bound"><span class="entity">G</span></span></span><span class="main">.</span> <span class="main">‚àÉ</span><span class="bound">b</span><span class="main">‚àà</span><span class="free"><span class="bound"><span class="entity">G</span></span></span><span class="main">.</span> <span class="free"><span class="bound"><span class="entity">f</span></span></span><span class="main">`</span><span class="main">‚ü®</span><span class="bound">g</span><span class="main">,</span><span class="bound">b</span><span class="main">‚ü©</span> <span class="main">=</span> TheNeutralElement<span class="main">(</span><span class="free"><span class="bound"><span class="entity">G</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">f</span></span></span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπWe define the group inverse as the set
  $\{\langle x,y \rangle \in G\times G: x\cdot y = e \}$, where $e$ is the
  neutral element of the group. This set (which can be written as 
  $(\cdot)^{-1}\{ e\}$) is a certain relation on the group (carrier). 
  Since, as we show later, for every $x\in G$ there is exactly one $y\in G$
  such that $x \cdot y = e$  this relation is in fact a function from $G$ to $G$.‚Ä∫</span></span>

<span class="keyword1"><span class="command">definition</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">GroupInv</span><span class="main">(</span><span class="free"><span class="bound"><span class="entity">G</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">f</span></span></span><span class="main">)</span> <span class="main">‚â°</span> <span class="main">{</span><span class="main">‚ü®</span><span class="bound">x</span><span class="main">,</span><span class="bound">y</span><span class="main">‚ü©</span> <span class="main">‚àà</span> <span class="free"><span class="bound"><span class="entity">G</span></span></span><span class="main">√ó</span><span class="free"><span class="bound"><span class="entity">G</span></span></span><span class="main">.</span> <span class="free"><span class="bound"><span class="entity">f</span></span></span><span class="main">`</span><span class="main">‚ü®</span><span class="bound">x</span><span class="main">,</span><span class="bound">y</span><span class="main">‚ü©</span> <span class="main">=</span> TheNeutralElement<span class="main">(</span><span class="free"><span class="bound"><span class="entity">G</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">f</span></span></span><span class="main">)</span><span class="main">}</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπWe will use the miltiplicative notation for groups. The neutral
  element is denoted $1$.‚Ä∫</span></span>

<span class="keyword1"><span class="command">locale</span></span> group0 <span class="main">=</span>
  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">G</span> 
  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">P</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> groupAssum<span class="main">:</span> <span class="quoted"><span class="quoted">"IsAgroup<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">neut</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">ùü≠</span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> neut_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùü≠</span></span> <span class="main">‚â°</span> TheNeutralElement<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span>"</span></span>
  
  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">groper</span> <span class="main">(</span><span class="keyword2"><span class="keyword">infixl</span></span> <span class="quoted">"<span class="keyword1">‚ãÖ</span>"</span> 70<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> groper_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">‚ãÖ</span></span> <span class="free">b</span> <span class="main">‚â°</span> <span class="free">P</span><span class="main">`</span><span class="main">‚ü®</span><span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">‚ü©</span>"</span></span>
  
  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">inv</span> <span class="main">(</span><span class="quoted">"_<span class="keyword1">¬Ø</span> "</span> <span class="main">[</span>90<span class="main">]</span> 91<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> inv_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">‚â°</span> GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="free">x</span><span class="main">)</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπFirst we show a lemma that says that we can use theorems proven in
  the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>monoid0‚Ä∫</span></span></span></span> context (locale).‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> group0_2_L1<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"monoid0<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> groupAssum IsAgroup_def monoid0_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπIn some strange cases Isabelle has difficulties with applying
  the definition of a group. The next lemma defines a rule to be applied
  in such cases.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> definition_of_group<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"IsAmonoid<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span> 
  <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚àÄ</span><span class="bound">g</span><span class="main">‚àà</span><span class="free">G</span><span class="main">.</span> <span class="main">‚àÉ</span><span class="bound">b</span><span class="main">‚àà</span><span class="free">G</span><span class="main">.</span> <span class="free">f</span><span class="main">`</span><span class="main">‚ü®</span><span class="bound">g</span><span class="main">,</span><span class="bound">b</span><span class="main">‚ü©</span> <span class="main">=</span> TheNeutralElement<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"IsAgroup<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span> 
  <span class="keyword1"><span class="command">using</span></span> assms IsAgroup_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπA technical lemma that allows to use $1$ as the neutral element of 
  the group without referencing a list of lemmas and definitions.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> group0_2_L2<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùü≠</span></span><span class="main">‚àà</span><span class="free">G</span> <span class="main">‚àß</span> <span class="main">(</span><span class="main">‚àÄ</span><span class="bound">g</span><span class="main">‚àà</span><span class="free">G</span><span class="main">.</span><span class="main">(</span><span class="main"><span class="free">ùü≠</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="bound">g</span> <span class="main">=</span> <span class="bound">g</span> <span class="main">‚àß</span> <span class="bound">g</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main"><span class="free">ùü≠</span></span> <span class="main">=</span> <span class="bound">g</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> group0_2_L1 monoid0.unit_is_neutral <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπThe group is closed under the group operation. Used all the time,
  useful to have handy.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> group_op_closed<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">‚àà</span><span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">‚àà</span><span class="free">G</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms group0_2_L1 monoid0.group0_1_L1 
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπThe group operation is associative. This is another technical lemma 
  that allows to shorten the list of referenced lemmas in some proofs.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> group_oper_assoc<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">‚àà</span><span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">‚àà</span><span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> groupAssum assms IsAgroup_def IsAmonoid_def 
    IsAssociative_def group_op_closed <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπThe group operation maps $G\times G$ into $G$. It is conveniet to have
  this fact easily accessible in the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>group0‚Ä∫</span></span></span></span> context.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> group_oper_assocA<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">P</span> <span class="main">:</span> <span class="free">G</span><span class="main">√ó</span><span class="free">G</span><span class="main">‚Üí</span><span class="free">G</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> groupAssum IsAgroup_def IsAmonoid_def IsAssociative_def
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  
<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπThe definition of a group requires the existence of the right inverse.
  We show that this is also the left inverse.‚Ä∫</span></span>

<span class="keyword1"><span class="command">theorem</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> group0_2_T1<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">g</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A3<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">g</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span> <span class="main">=</span> <span class="main"><span class="free">ùü≠</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">g</span> <span class="main">=</span> <span class="main"><span class="free">ùü≠</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A2 groupAssum <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">c</span></span> <span class="keyword2"><span class="keyword">where</span></span> I<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">c</span> <span class="main">‚àà</span> <span class="free">G</span> <span class="main">‚àß</span> <span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="skolem">c</span> <span class="main">=</span> <span class="main"><span class="free">ùü≠</span></span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> IsAgroup_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">c</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùü≠</span></span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> group0_2_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> A1 A2 I <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">g</span> <span class="main">=</span>  <span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">g</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="skolem">c</span><span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> group_op_closed group0_2_L2 group_oper_assoc 
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span>  A1 A2 <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">c</span><span class="main">‚àà</span><span class="free">G</span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">g</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="skolem">c</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">g</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="skolem">c</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> group_oper_assoc <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> A3 A2 I <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">g</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="skolem">c</span><span class="main">)</span><span class="main">=</span> <span class="main"><span class="free">ùü≠</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> group0_2_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">finally</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">g</span> <span class="main">=</span> <span class="main"><span class="free">ùü≠</span></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπFor every element of a group there is only one inverse.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> group0_2_L4<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚àÉ!</span><span class="bound">y</span><span class="main">.</span> <span class="bound">y</span><span class="main">‚àà</span><span class="free">G</span> <span class="main">‚àß</span> <span class="free">x</span><span class="main"><span class="free">‚ãÖ</span></span><span class="bound">y</span> <span class="main">=</span> <span class="main"><span class="free">ùü≠</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span>
  <span class="keyword1"><span class="command">from</span></span> A1 groupAssum <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚àÉ</span><span class="bound">y</span><span class="main">.</span> <span class="bound">y</span><span class="main">‚àà</span><span class="free">G</span> <span class="main">‚àß</span>  <span class="free">x</span><span class="main"><span class="free">‚ãÖ</span></span><span class="bound">y</span> <span class="main">=</span> <span class="main"><span class="free">ùü≠</span></span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> IsAgroup_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">y</span> <span class="skolem">n</span>
  <span class="keyword3"><span class="command">assume</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">‚àà</span><span class="free">G</span> <span class="main">‚àß</span>  <span class="free">x</span><span class="main"><span class="free">‚ãÖ</span></span><span class="skolem">y</span> <span class="main">=</span> <span class="main"><span class="free">ùü≠</span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A3<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">n</span><span class="main">‚àà</span><span class="free">G</span> <span class="main">‚àß</span> <span class="free">x</span><span class="main"><span class="free">‚ãÖ</span></span><span class="skolem">n</span> <span class="main">=</span> <span class="main"><span class="free">ùü≠</span></span>"</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">=</span><span class="skolem">n</span>"</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
    <span class="keyword1"><span class="command">from</span></span> A1 A2 <span class="keyword1"><span class="command">have</span></span> T1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">x</span> <span class="main">=</span> <span class="main"><span class="free">ùü≠</span></span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> group0_2_T1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">from</span></span> A2 A3 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span> <span class="main">=</span> <span class="skolem">y</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">x</span><span class="main"><span class="free">‚ãÖ</span></span><span class="skolem">n</span><span class="main">)</span>"</span></span> 
      <span class="keyword1"><span class="command">using</span></span> group0_2_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> A1 A2 A3 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚Ä¶</span> <span class="main">=</span> <span class="main">(</span><span class="skolem">y</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">x</span><span class="main">)</span><span class="main"><span class="free">‚ãÖ</span></span><span class="skolem">n</span>"</span></span> 
      <span class="keyword1"><span class="command">using</span></span> group_oper_assoc <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> T1 A3 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚Ä¶</span> <span class="main">=</span> <span class="skolem">n</span>"</span></span> 
      <span class="keyword1"><span class="command">using</span></span> group0_2_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">finally</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">=</span><span class="skolem">n</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">qed</span></span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπThe group inverse is a function that maps G into G.‚Ä∫</span></span>

<span class="keyword1"><span class="command">theorem</span></span> group0_2_T2<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"IsAgroup<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">)</span> <span class="main">:</span> <span class="free">G</span><span class="main">‚Üí</span><span class="free">G</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">)</span> <span class="main">‚äÜ</span> <span class="free">G</span><span class="main">√ó</span><span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> GroupInv_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span>
    <span class="quoted"><span class="quoted">"<span class="main">‚àÄ</span><span class="bound">x</span><span class="main">‚àà</span><span class="free">G</span><span class="main">.</span> <span class="main">‚àÉ!</span><span class="bound">y</span><span class="main">.</span> <span class="bound">y</span><span class="main">‚àà</span><span class="free">G</span> <span class="main">‚àß</span> <span class="main">‚ü®</span><span class="bound">x</span><span class="main">,</span><span class="bound">y</span><span class="main">‚ü©</span> <span class="main">‚àà</span> GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> group0_def group0.group0_2_L4 GroupInv_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> func1_1_L11 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπWe can think about the group inverse (the function) 
  as the inverse image of the neutral element. Recall that
  in Isabelle <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>f-``(A)‚Ä∫</span></span></span></span> denotes the inverse image of
  the set $A$.‚Ä∫</span></span>

<span class="keyword1"><span class="command">theorem</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> group0_2_T3<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">P</span><span class="main">-``</span><span class="main">{</span><span class="main"><span class="free">ùü≠</span></span><span class="main">}</span> <span class="main">=</span> GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> groupAssum <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">P</span> <span class="main">:</span> <span class="free">G</span><span class="main">√ó</span><span class="free">G</span> <span class="main">‚Üí</span> <span class="free">G</span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> IsAgroup_def IsAmonoid_def IsAssociative_def 
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">P</span><span class="main">-``</span><span class="main">{</span><span class="main"><span class="free">ùü≠</span></span><span class="main">}</span> <span class="main">=</span> GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> func1_1_L14 GroupInv_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπThe inverse is in the group.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> inverse_in_group<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main"><span class="free">¬Ø</span></span><span class="main">‚àà</span><span class="free">G</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> groupAssum <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span> <span class="main">:</span> <span class="free">G</span><span class="main">‚Üí</span><span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> group0_2_T2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> apply_type <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπThe notation for the inverse means what it is supposed to mean.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> group0_2_L6<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">x</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="main"><span class="free">ùü≠</span></span> <span class="main">‚àß</span> <span class="free">x</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">x</span> <span class="main">=</span> <span class="main"><span class="free">ùü≠</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span>
  <span class="keyword1"><span class="command">from</span></span> groupAssum <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span> <span class="main">:</span> <span class="free">G</span><span class="main">‚Üí</span><span class="free">G</span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> group0_2_T2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span> 
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚ü®</span><span class="free">x</span><span class="main">,</span><span class="free">x</span><span class="main"><span class="free">¬Ø</span></span><span class="main">‚ü©</span> <span class="main">‚àà</span>  GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> apply_Pair <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">x</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="main"><span class="free">ùü≠</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> GroupInv_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">x</span> <span class="main">=</span> <span class="main"><span class="free">ùü≠</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> inverse_in_group group0_2_T1 
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span> 
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπThe next two lemmas state that unless we multiply by 
  the neutral element, the result is always 
  different than any of the operands.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> group0_2_L7<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A3<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span> <span class="main">=</span> <span class="free">a</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">=</span><span class="main"><span class="free">ùü≠</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A3 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">¬Ø</span></span> <span class="main"><span class="free">‚ãÖ</span></span> <span class="main">(</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">a</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> A1 A2 <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span>
    inverse_in_group group_oper_assoc group0_2_L6 group0_2_L2
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπSee the comment to <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>group0_2_L7‚Ä∫</span></span></span></span>.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> group0_2_L8<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A3<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span> <span class="main">=</span> <span class="free">b</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">=</span><span class="main"><span class="free">ùü≠</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A3 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main">)</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span>  <span class="main">=</span> <span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> A1 A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span>  <span class="main">=</span> <span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span>
    inverse_in_group group_oper_assoc <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> A1 A2 <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> 
    <span class="keyword1"><span class="command">using</span></span> group0_2_L6 group0_2_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπThe inverse of the neutral element is the neutral element.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> group_inv_of_one<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùü≠</span></span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="main"><span class="free">ùü≠</span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> group0_2_L2 inverse_in_group group0_2_L6 group0_2_L7 <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚Äπif $a^{-1} = 1$, then $a=1$.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> group0_2_L8A<span class="main">:</span>  
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="main"><span class="free">ùü≠</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">=</span> <span class="main"><span class="free">ùü≠</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">a</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="main"><span class="free">ùü≠</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> group0_2_L6 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> A1 A2 <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">=</span> <span class="main"><span class="free">ùü≠</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> group0_2_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπIf $a$ is not a unit, then its inverse is not a unit either.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> group0_2_L8B<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">‚â†</span> <span class="main"><span class="free">ùü≠</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">‚â†</span> <span class="main"><span class="free">ùü≠</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms group0_2_L8A <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπIf $a^{-1}$ is not a unit, then a is not a unit either.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> group0_2_L8C<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">‚â†</span> <span class="main"><span class="free">ùü≠</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">‚â†</span><span class="main"><span class="free">ùü≠</span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms group0_2_L8A group_inv_of_one <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπIf a product of two elements of a group is equal to the neutral
element then they are inverses of each other.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> group0_2_L9<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A3<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span> <span class="main">=</span> <span class="main"><span class="free">ùü≠</span></span>"</span></span> 
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">=</span> <span class="free">b</span><span class="main"><span class="free">¬Ø</span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">b</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">¬Ø</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A3 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="main"><span class="free">ùü≠</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span> 
  <span class="keyword1"><span class="command">with</span></span> A1 A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span> <span class="main">=</span> <span class="main"><span class="free">ùü≠</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span>
    inverse_in_group group_oper_assoc <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> A1 A2 <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">=</span> <span class="free">b</span><span class="main"><span class="free">¬Ø</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span>
    group0_2_L6 inverse_in_group group0_2_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">from</span></span> A3 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="main"><span class="free">ùü≠</span></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> A1 A2 <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">b</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">¬Ø</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> 
    inverse_in_group group_oper_assoc group0_2_L6 group0_2_L2
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπIt happens quite often that we know what is (have a meta-function for) 
  the right inverse in a group. The next lemma shows that the value 
  of the group inverse (function) is equal to the right inverse 
  (meta-function).‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> group0_2_L9A<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">‚àÄ</span><span class="bound">g</span><span class="main">‚àà</span><span class="free">G</span><span class="main">.</span> <span class="free">b</span><span class="main">(</span><span class="bound">g</span><span class="main">)</span> <span class="main">‚àà</span> <span class="free">G</span> <span class="main">‚àß</span> <span class="bound">g</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main">(</span><span class="bound">g</span><span class="main">)</span> <span class="main">=</span> <span class="main"><span class="free">ùü≠</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚àÄ</span><span class="bound">g</span><span class="main">‚àà</span><span class="free">G</span><span class="main">.</span> <span class="free">b</span><span class="main">(</span><span class="bound">g</span><span class="main">)</span> <span class="main">=</span> <span class="bound">g</span><span class="main"><span class="free">¬Ø</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span>
  <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">g</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">g</span><span class="main">‚àà</span><span class="free">G</span>"</span></span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">g</span><span class="main">‚àà</span><span class="free">G</span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">(</span><span class="skolem">g</span><span class="main">)</span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">g</span><span class="main">‚àà</span><span class="free">G</span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">g</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main">(</span><span class="skolem">g</span><span class="main">)</span> <span class="main">=</span> <span class="main"><span class="free">ùü≠</span></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">(</span><span class="skolem">g</span><span class="main">)</span> <span class="main">=</span> <span class="skolem">g</span><span class="main"><span class="free">¬Ø</span></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> group0_2_L9<span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>
 
<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπWhat is the inverse of a product?‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> group_inv_of_two<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> 
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">" <span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">a</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="main">(</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main">)</span><span class="main"><span class="free">¬Ø</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 A2 <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main">‚àà</span><span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main">‚àà</span><span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main">‚àà</span><span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">a</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> inverse_in_group group_op_closed 
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">from</span></span> A1 A2 <span class="quoted"><span class="quoted">‚Äπ<span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">a</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">‚àà</span> <span class="free">G</span>‚Ä∫</span></span>  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> group_oper_assoc <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A2 <span class="quoted"><span class="quoted">‚Äπ<span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main">‚àà</span><span class="free">G</span>‚Ä∫</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main">‚àà</span><span class="free">G</span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span> <span class="main">=</span> <span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">a</span><span class="main"><span class="free">¬Ø</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> group_oper_assoc <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A2 <span class="quoted"><span class="quoted">‚Äπ<span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main">‚àà</span><span class="free">G</span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">a</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">¬Ø</span></span>"</span></span>
     <span class="keyword1"><span class="command">using</span></span> group0_2_L6 group0_2_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">a</span><span class="main"><span class="free">¬Ø</span></span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span> <span class="main">=</span> <span class="main"><span class="free">ùü≠</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> group0_2_L6 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span> <span class="main">‚àà</span> <span class="free">G</span>‚Ä∫</span></span>  <span class="quoted"><span class="quoted">‚Äπ<span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">a</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">‚àà</span> <span class="free">G</span>‚Ä∫</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">a</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="main">(</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main">)</span><span class="main"><span class="free">¬Ø</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> group0_2_L9 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπWhat is the inverse of a product of three elements?‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> group_inv_of_three<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">‚àà</span><span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">‚àà</span><span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">‚àà</span><span class="free">G</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main">)</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="free">c</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main">)</span><span class="main"><span class="free">¬Ø</span></span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main">)</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="free">c</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main">)</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="free">c</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">a</span><span class="main"><span class="free">¬Ø</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> T<span class="main">:</span> 
    <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span>   <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span>  
    <span class="keyword1"><span class="command">using</span></span> group_op_closed inverse_in_group <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword3"><span class="command">show</span></span> 
    <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main">)</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="free">c</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main">)</span><span class="main"><span class="free">¬Ø</span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main">)</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="free">c</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span>"</span></span>
     <span class="keyword1"><span class="command">using</span></span> group_inv_of_two <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
   <span class="keyword1"><span class="command">with</span></span> T <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main">)</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="free">c</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">a</span><span class="main"><span class="free">¬Ø</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> group_oper_assoc
     <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπThe inverse of the inverse is the element.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> group_inv_of_inv<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">=</span> <span class="main">(</span><span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span><span class="main"><span class="free">¬Ø</span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms inverse_in_group group0_2_L6 group0_2_L9 
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπGroup inverse is nilpotent, therefore a bijection and involution.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> group_inv_bij<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span> <span class="keyword1">O</span> GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span> <span class="main">=</span> id<span class="main">(</span><span class="free">G</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span> <span class="main">‚àà</span> bij<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">G</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span>
  <span class="quoted"><span class="quoted">"GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span> <span class="main">=</span> converse<span class="main">(</span>GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">have</span></span> I<span class="main">:</span> <span class="quoted"><span class="quoted">"GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span><span class="main">:</span> <span class="free">G</span><span class="main">‚Üí</span><span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> groupAssum group0_2_T2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span> <span class="keyword1">O</span> GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span><span class="main">:</span> <span class="free">G</span><span class="main">‚Üí</span><span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"id<span class="main">(</span><span class="free">G</span><span class="main">)</span><span class="main">:</span><span class="free">G</span><span class="main">‚Üí</span><span class="free">G</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> comp_fun id_type <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> 
  <span class="keyword1"><span class="command">{</span></span> <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">g</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">g</span><span class="main">‚àà</span><span class="free">G</span>"</span></span>
    <span class="keyword1"><span class="command">with</span></span> I <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span>GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span> <span class="keyword1">O</span> GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span><span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="skolem">g</span><span class="main">)</span> <span class="main">=</span> id<span class="main">(</span><span class="free">G</span><span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="skolem">g</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> comp_fun_apply group_inv_of_inv id_conv <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚àÄ</span><span class="bound">g</span><span class="main">‚àà</span><span class="free">G</span><span class="main">.</span> <span class="main">(</span>GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span> <span class="keyword1">O</span> GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span><span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="bound">g</span><span class="main">)</span> <span class="main">=</span> id<span class="main">(</span><span class="free">G</span><span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="bound">g</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span> <span class="keyword1">O</span> GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span> <span class="main">=</span> id<span class="main">(</span><span class="free">G</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> func_eq<span class="main">)</span>
  <span class="keyword1"><span class="command">with</span></span> I <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span> <span class="main">‚àà</span> bij<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">G</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> nilpotent_imp_bijective
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‚ÄπGroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span> <span class="keyword1">O</span> GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span> <span class="main">=</span> id<span class="main">(</span><span class="free">G</span><span class="main">)</span>‚Ä∫</span></span> <span class="keyword3"><span class="command">show</span></span>
    <span class="quoted"><span class="quoted">"GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span> <span class="main">=</span> converse<span class="main">(</span>GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> comp_id_conv <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπA set comprehension form of the image of a set under the group inverse. ‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> ginv_image<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">V</span><span class="main">‚äÜ</span><span class="free">G</span>"</span></span> 
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span><span class="main">``</span><span class="main">(</span><span class="free">V</span><span class="main">)</span> <span class="main">‚äÜ</span> <span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span><span class="main">``</span><span class="main">(</span><span class="free">V</span><span class="main">)</span> <span class="main">=</span> <span class="main">{</span><span class="bound">g</span><span class="main"><span class="free">¬Ø</span></span><span class="main">.</span> <span class="bound">g</span> <span class="main">‚àà</span> <span class="free">V</span><span class="main">}</span>"</span></span>  
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword1"><span class="command">have</span></span> I<span class="main">:</span> <span class="quoted"><span class="quoted">"GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span><span class="main">``</span><span class="main">(</span><span class="free">V</span><span class="main">)</span> <span class="main">=</span> <span class="main">{</span>GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="bound">g</span><span class="main">)</span><span class="main">.</span> <span class="bound">g</span><span class="main">‚àà</span><span class="free">V</span><span class="main">}</span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> groupAssum group0_2_T2 func_imagedef <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span> 
  <span class="keyword3"><span class="command">thus</span></span> <span class="quoted"><span class="quoted">"GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span><span class="main">``</span><span class="main">(</span><span class="free">V</span><span class="main">)</span> <span class="main">=</span> <span class="main">{</span><span class="bound">g</span><span class="main"><span class="free">¬Ø</span></span><span class="main">.</span> <span class="bound">g</span> <span class="main">‚àà</span> <span class="free">V</span><span class="main">}</span>"</span></span>  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span><span class="main">``</span><span class="main">(</span><span class="free">V</span><span class="main">)</span> <span class="main">‚äÜ</span> <span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> groupAssum group0_2_T2 func1_1_L6<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπInverse of an element that belongs to the inverse of the set belongs to the set. ‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> ginv_image_el<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">V</span><span class="main">‚äÜ</span><span class="free">G</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">g</span> <span class="main">‚àà</span> GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span><span class="main">``</span><span class="main">(</span><span class="free">V</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">g</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">‚àà</span> <span class="free">V</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms ginv_image group_inv_of_inv <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> 

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπFor the group inverse the image is the same as inverse image.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> inv_image_vimage<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span><span class="main">``</span><span class="main">(</span><span class="free">V</span><span class="main">)</span> <span class="main">=</span> GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span><span class="main">-``</span><span class="main">(</span><span class="free">V</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> group_inv_bij vimage_converse <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπIf the unit is in a set then it is in the inverse of that set.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> neut_inv_neut<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">‚äÜ</span><span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùü≠</span></span><span class="main">‚àà</span><span class="free">A</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùü≠</span></span> <span class="main">‚àà</span> GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span><span class="main">``</span><span class="main">(</span><span class="free">A</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span><span class="main">:</span><span class="free">G</span><span class="main">‚Üí</span><span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> groupAssum group0_2_T2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùü≠</span></span><span class="main"><span class="free">¬Ø</span></span> <span class="main">‚àà</span> GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span><span class="main">``</span><span class="main">(</span><span class="free">A</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> func_imagedef <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> group_inv_of_one <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπThe group inverse is onto.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> group_inv_surj<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span><span class="main">``</span><span class="main">(</span><span class="free">G</span><span class="main">)</span> <span class="main">=</span> <span class="free">G</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> group_inv_bij bij_def surj_range_image_domain <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπIf $a^{-1}\cdot b=1$, then $a=b$.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> group0_2_L11<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">‚àà</span><span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span> <span class="main">=</span> <span class="main"><span class="free">ùü≠</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">=</span><span class="free">b</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">‚àà</span><span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span> <span class="main">=</span> <span class="main"><span class="free">ùü≠</span></span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> inverse_in_group <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">b</span> <span class="main">=</span> <span class="main">(</span><span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span><span class="main"><span class="free">¬Ø</span></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> group0_2_L9<span class="main">)</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">=</span><span class="free">b</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> group_inv_of_inv <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπIf $a\cdot b^{-1}=1$, then $a=b$.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> group0_2_L11A<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">‚àà</span><span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="main"><span class="free">ùü≠</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">=</span><span class="free">b</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main">‚àà</span><span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="main"><span class="free">ùü≠</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> inverse_in_group <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">=</span> <span class="main">(</span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span><span class="main"><span class="free">¬Ø</span></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> group0_2_L9<span class="main">)</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">=</span><span class="free">b</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> group_inv_of_inv <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπIf if the inverse of $b$ is different than $a$, then the
  inverse of $a$ is different than $b$.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> group0_2_L11B<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">‚â†</span> <span class="free">a</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">‚â†</span> <span class="free">b</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">{</span></span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="free">b</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="free">b</span><span class="main"><span class="free">¬Ø</span></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">with</span></span> A1 A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted">False</span> <span class="keyword1"><span class="command">using</span></span> group_inv_of_inv
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">‚â†</span> <span class="free">b</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπWhat is the inverse of $ab^{-1}$ ?‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> group0_2_L12<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">‚àà</span><span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> 
  <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">a</span><span class="main"><span class="free">¬Ø</span></span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main">)</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">a</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="main">(</span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span> <span class="free">a</span><span class="main"><span class="free">¬Ø</span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main">)</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span><span class="main"><span class="free">¬Ø</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> inverse_in_group group_inv_of_two <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword3"><span class="command">show</span></span>  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">a</span><span class="main"><span class="free">¬Ø</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main">)</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">a</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> group_inv_of_inv <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπA couple useful rearrangements with three elements: 
  we can insert a $b\cdot b^{-1}$ 
  between two group elements (another version) and one about a product of 
  an element and inverse of a product, and two others.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> group0_2_L14A<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">‚àà</span><span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">‚àà</span><span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">‚àà</span><span class="free">G</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span><span class="main">=</span> <span class="main">(</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span> <span class="main">=</span> <span class="main">(</span><span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main">)</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main">)</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="free">c</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">a</span><span class="main"><span class="free">¬Ø</span></span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">c</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main">)</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> T<span class="main">:</span> 
    <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main">‚àà</span><span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main"><span class="free">¬Ø</span></span><span class="main">‚àà</span><span class="free">G</span>"</span></span>  
    <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span>  
    <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> inverse_in_group group_op_closed
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
   <span class="keyword1"><span class="command">from</span></span> A1 T <span class="keyword1"><span class="command">have</span></span> 
     <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span>  <span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main">)</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span>"</span></span>
     <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span> <span class="main">=</span>  <span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> group0_2_L2 group0_2_L6 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
   <span class="keyword1"><span class="command">with</span></span> A1 T <span class="keyword3"><span class="command">show</span></span> 
     <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span><span class="main">=</span> <span class="main">(</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span>"</span></span>
     <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span> <span class="main">=</span> <span class="main">(</span><span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main">)</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main">)</span>"</span></span>
     <span class="keyword1"><span class="command">using</span></span> group_oper_assoc <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main">)</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> group_inv_of_two <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> A1 T <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main">)</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> group_oper_assoc <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">from</span></span> A1 T <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> group_oper_assoc <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">from</span></span> A1 T <span class="keyword3"><span class="command">show</span></span>  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="free">c</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">a</span><span class="main"><span class="free">¬Ø</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> group_inv_of_three  group_inv_of_inv
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">from</span></span> T <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">c</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">c</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> group_oper_assoc <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> A1 T <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚Ä¶</span> <span class="main">=</span>  <span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> group_oper_assoc group0_2_L6 group0_2_L2
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> A1 T <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚Ä¶</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> group_oper_assoc <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚Ä¶</span> <span class="main">=</span> <span class="free">a</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> group0_2_L6 group0_2_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">finally</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">c</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">from</span></span> A1 T <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main">)</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span>  <span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">c</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> group_oper_assoc <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> A1 T <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚Ä¶</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span>  group0_2_L6 group0_2_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">finally</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main">)</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚Äπ A simple equation to solve ‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> simple_equation0<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">‚àà</span><span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="free">c</span><span class="main"><span class="free">¬Ø</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">c</span> <span class="main">=</span> <span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">a</span><span class="main"><span class="free">¬Ø</span></span>"</span></span> 
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span> 
  <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>4<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="main">(</span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span><span class="main"><span class="free">¬Ø</span></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>1<span class="main">,</span>2<span class="main">,</span>3<span class="main">)</span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">c</span> <span class="main">=</span> <span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">a</span><span class="main"><span class="free">¬Ø</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> group0_2_L12<span class="main">(</span>1<span class="main">)</span> group_inv_of_inv <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚Äπ Another simple equation ‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> simple_equation1<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">‚àà</span><span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span> <span class="main">=</span> <span class="free">c</span><span class="main"><span class="free">¬Ø</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">c</span> <span class="main">=</span> <span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">a</span>"</span></span> 
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span> 
  <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>4<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main">)</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="main">(</span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span><span class="main"><span class="free">¬Ø</span></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>1<span class="main">,</span>2<span class="main">,</span>3<span class="main">)</span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">c</span> <span class="main">=</span> <span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">a</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> group0_2_L12<span class="main">(</span>2<span class="main">)</span> group_inv_of_inv <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>
     
<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπAnother lemma about rearranging a product of four group
  elements.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> group0_2_L15<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">‚àà</span><span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">‚àà</span><span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">‚àà</span><span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">d</span><span class="main">‚àà</span><span class="free">G</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main">)</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">c</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">d</span><span class="main">)</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">d</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> T1<span class="main">:</span>
    <span class="quoted"><span class="quoted">"<span class="free">d</span><span class="main"><span class="free">¬Ø</span></span><span class="main">‚àà</span><span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main"><span class="free">¬Ø</span></span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">d</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span><span class="main">‚àà</span><span class="free">G</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> inverse_in_group group_op_closed
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main">)</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">c</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">d</span><span class="main">)</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="main">(</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main">)</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">d</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> group_inv_of_two <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> A1 T1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚Ä¶</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">d</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> group_oper_assoc <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> A1 T1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚Ä¶</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">d</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> group0_2_L14A <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">finally</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπWe can cancel an element with its inverse that is written next to it.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> inv_cancel_two<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">‚àà</span><span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">‚àà</span><span class="free">G</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span> <span class="main">=</span> <span class="free">a</span>"</span></span>  
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="free">a</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main">)</span> <span class="main">=</span> <span class="free">b</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main">)</span> <span class="main">=</span> <span class="free">b</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main">)</span>"</span></span>   <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span>"</span></span>   <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> inverse_in_group group_oper_assoc <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword3"><span class="command">show</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span> <span class="main">=</span> <span class="free">a</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="free">a</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main">)</span> <span class="main">=</span> <span class="free">b</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main">)</span> <span class="main">=</span> <span class="free">b</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> group0_2_L6 group0_2_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπAnother lemma about cancelling with two group elements.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> group0_2_L16A<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">‚àà</span><span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">‚àà</span><span class="free">G</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">a</span><span class="main">)</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="free">b</span><span class="main"><span class="free">¬Ø</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">a</span><span class="main">)</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">‚àà</span> <span class="free">G</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> group_inv_of_two inverse_in_group <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">a</span><span class="main">)</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="free">b</span><span class="main"><span class="free">¬Ø</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> inv_cancel_two
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚Äπ Some other identities with three element and cancelling. ‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> cancel_middle<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">‚àà</span><span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">‚àà</span><span class="free">G</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> 
    <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main">)</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main">)</span> <span class="main">=</span> <span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main">)</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">c</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main">)</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main">)</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="free">b</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main">)</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main">)</span> <span class="main">=</span> <span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> group_inv_of_two inverse_in_group group_oper_assoc group_op_closed <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>1<span class="main">,</span>3<span class="main">)</span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main">)</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main">)</span> <span class="main">=</span> <span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> inv_cancel_two<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main">)</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">c</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main">)</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> group_inv_of_two inverse_in_group group_oper_assoc group_op_closed <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> assms <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main">)</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">c</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main">)</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> inverse_in_group inv_cancel_two<span class="main">(</span>4<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main">)</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="main">(</span><span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">a</span><span class="main">)</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">c</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> inverse_in_group group_oper_assoc group_op_closed <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> assms <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main">)</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="free">b</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> group0_2_L6 group0_2_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> inverse_in_group group_oper_assoc group_op_closed
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> assms <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> group_op_closed group0_2_L6 group0_2_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main">)</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> inverse_in_group group_oper_assoc group_op_closed
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> assms  <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> group0_2_L6 group0_2_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπAdding a neutral element to a set that is 
  closed under the group operation results in a set that is closed under the 
  group operation.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> group0_2_L17<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">H</span><span class="main">‚äÜ</span><span class="free">G</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">H</span> <span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">under}</span> <span class="free">P</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">H</span> <span class="main">‚à™</span> <span class="main">{</span><span class="main"><span class="free">ùü≠</span></span><span class="main">}</span><span class="main">)</span> <span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">under}</span> <span class="free">P</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms IsOpClosed_def group0_2_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπWe can put an element on the other side of an equation.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> group0_2_L18<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">‚àà</span><span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">‚àà</span><span class="free">G</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">c</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="free">a</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span> <span class="main">=</span> <span class="free">b</span>"</span></span> 
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A2 A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span>  <span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span> <span class="main">=</span> <span class="main">(</span><span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">a</span><span class="main">)</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> inverse_in_group group_oper_assoc <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">a</span><span class="main">)</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span> <span class="main">=</span> <span class="free">b</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> group0_2_L6 group0_2_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="free">a</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span> <span class="main">=</span> <span class="free">b</span>"</span></span> 
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚Äπ We can cancel an element on the right from both sides of an equation. ‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> cancel_right<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">‚àà</span><span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">‚àà</span><span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span> <span class="main">=</span> <span class="free">c</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">=</span> <span class="free">c</span>"</span></span> 
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>4<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="free">c</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main"><span class="free">¬Ø</span></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>1<span class="main">,</span>2<span class="main">,</span>3<span class="main">)</span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> inv_cancel_two<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚Äπ We can cancel an element on the left from both sides of an equation. ‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> cancel_left<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">‚àà</span><span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">‚àà</span><span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">=</span><span class="free">c</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>4<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>1<span class="main">,</span>2<span class="main">,</span>3<span class="main">)</span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> inv_cancel_two<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπMultiplying different group elements by the same factor results
  in different group elements.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> group0_2_L19<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">‚àà</span><span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">‚àà</span><span class="free">G</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">‚â†</span><span class="free">b</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span> <span class="main">‚â†</span> <span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">a</span> <span class="main">‚â†</span> <span class="free">c</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">{</span></span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span> <span class="main">=</span> <span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span> <span class="main">‚à®</span> <span class="free">c</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">a</span> <span class="main">=</span><span class="free">c</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">‚à®</span> <span class="free">c</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">c</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">a</span><span class="main">)</span> <span class="main">=</span> <span class="free">c</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="main">(</span><span class="free">c</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> A1 A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted">False</span> <span class="keyword1"><span class="command">using</span></span> inv_cancel_two <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span> <span class="main">‚â†</span> <span class="free">b</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">c</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">a</span> <span class="main">‚â†</span> <span class="free">c</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‚ÄπSubgroups‚Ä∫</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπThere are two common ways to define subgroups. One requires that the
  group operation is closed in the subgroup. The second one defines subgroup 
  as a subset of a group which is itself a group under the group operations.
  We use the second approach because it results in shorter definition. 
  
  The rest of this section is devoted to proving the equivalence of these two
  definitions of the notion of a subgroup. 
‚Ä∫</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπA pair $(H,P)$ is a subgroup if $H$ forms a group with the 
  operation $P$ restricted to $H\times H$. It may be surprising that 
  we don't require $H$ to be a subset of $G$. This however can be inferred
  from the definition if the pair $(G,P)$ is a group, 
  see lemma <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>group0_3_L2‚Ä∫</span></span></span></span>.‚Ä∫</span></span>

<span class="keyword1"><span class="command">definition</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">IsAsubgroup</span><span class="main">(</span><span class="free"><span class="bound"><span class="entity">H</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">P</span></span></span><span class="main">)</span> <span class="main">‚â°</span> IsAgroup<span class="main">(</span><span class="free"><span class="bound"><span class="entity">H</span></span></span><span class="main">,</span> restrict<span class="main">(</span><span class="free"><span class="bound"><span class="entity">P</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">H</span></span></span><span class="main">√ó</span><span class="free"><span class="bound"><span class="entity">H</span></span></span><span class="main">)</span><span class="main">)</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπFormally the group operation in a subgroup is different than in the
  group as they have different domains. Of course we want to use the original 
  operation with the associated notation in the subgroup. The next couple of 
  lemmas will allow for that. 

  The next lemma states that the neutral element of 
  a subgroup is in the subgroup and it is 
  both right and left neutral there. The notation is very ugly because
  we don't want to introduce a separate notation for the subgroup operation.
‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> group0_3_L1<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"IsAsubgroup<span class="main">(</span><span class="free">H</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">n</span> <span class="main">=</span> TheNeutralElement<span class="main">(</span><span class="free">H</span><span class="main">,</span>restrict<span class="main">(</span><span class="free">f</span><span class="main">,</span><span class="free">H</span><span class="main">√ó</span><span class="free">H</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">n</span> <span class="main">‚àà</span> <span class="free">H</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">‚àÄ</span><span class="bound">h</span><span class="main">‚àà</span><span class="free">H</span><span class="main">.</span> restrict<span class="main">(</span><span class="free">f</span><span class="main">,</span><span class="free">H</span><span class="main">√ó</span><span class="free">H</span><span class="main">)</span><span class="main">`</span><span class="main">‚ü®</span><span class="free">n</span><span class="main">,</span><span class="bound">h</span> <span class="main">‚ü©</span> <span class="main">=</span> <span class="bound">h</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">‚àÄ</span><span class="bound">h</span><span class="main">‚àà</span><span class="free">H</span><span class="main">.</span> restrict<span class="main">(</span><span class="free">f</span><span class="main">,</span><span class="free">H</span><span class="main">√ó</span><span class="free">H</span><span class="main">)</span><span class="main">`</span><span class="main">‚ü®</span><span class="bound">h</span><span class="main">,</span><span class="free">n</span><span class="main">‚ü©</span> <span class="main">=</span> <span class="bound">h</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?b</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"restrict<span class="main">(</span><span class="free">f</span><span class="main">,</span><span class="free">H</span><span class="main">√ó</span><span class="free">H</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?e</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"TheNeutralElement<span class="main">(</span><span class="free">H</span><span class="main">,</span>restrict<span class="main">(</span><span class="free">f</span><span class="main">,</span><span class="free">H</span><span class="main">√ó</span><span class="free">H</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"group0<span class="main">(</span><span class="free">H</span><span class="main">,</span><span class="var">?b</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> IsAsubgroup_def group0_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> I<span class="main">:</span>
    <span class="quoted"><span class="quoted">"<span class="var">?e</span> <span class="main">‚àà</span> <span class="free">H</span> <span class="main">‚àß</span> <span class="main">(</span><span class="main">‚àÄ</span><span class="bound">h</span><span class="main">‚àà</span><span class="free">H</span><span class="main">.</span> <span class="main">(</span><span class="var">?b</span><span class="main">`</span><span class="main">‚ü®</span><span class="var">?e</span><span class="main">,</span><span class="bound">h</span> <span class="main">‚ü©</span> <span class="main">=</span> <span class="bound">h</span> <span class="main">‚àß</span> <span class="var">?b</span><span class="main">`</span><span class="main">‚ü®</span><span class="bound">h</span><span class="main">,</span><span class="var">?e</span><span class="main">‚ü©</span> <span class="main">=</span> <span class="bound">h</span><span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> group0.group0_2_L2<span class="main">)</span>
  <span class="keyword1"><span class="command">with</span></span> A2 <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">n</span> <span class="main">‚àà</span> <span class="free">H</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">from</span></span> A2 I <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚àÄ</span><span class="bound">h</span><span class="main">‚àà</span><span class="free">H</span><span class="main">.</span> <span class="var">?b</span><span class="main">`</span><span class="main">‚ü®</span><span class="free">n</span><span class="main">,</span><span class="bound">h</span><span class="main">‚ü©</span> <span class="main">=</span> <span class="bound">h</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚àÄ</span><span class="bound">h</span><span class="main">‚àà</span><span class="free">H</span><span class="main">.</span> <span class="var">?b</span><span class="main">`</span><span class="main">‚ü®</span><span class="bound">h</span><span class="main">,</span><span class="free">n</span><span class="main">‚ü©</span> <span class="main">=</span> <span class="bound">h</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπA subgroup is contained in the group.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> group0_3_L2<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"IsAsubgroup<span class="main">(</span><span class="free">H</span><span class="main">,</span><span class="free">P</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">H</span> <span class="main">‚äÜ</span> <span class="free">G</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span>
  <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">h</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">h</span><span class="main">‚àà</span><span class="free">H</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?b</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"restrict<span class="main">(</span><span class="free">P</span><span class="main">,</span><span class="free">H</span><span class="main">√ó</span><span class="free">H</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?n</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"TheNeutralElement<span class="main">(</span><span class="free">H</span><span class="main">,</span>restrict<span class="main">(</span><span class="free">P</span><span class="main">,</span><span class="free">H</span><span class="main">√ó</span><span class="free">H</span><span class="main">)</span><span class="main">)</span>"</span></span>
   <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?b</span> <span class="main">‚àà</span> <span class="free">H</span><span class="main">√ó</span><span class="free">H</span><span class="main">‚Üí</span><span class="free">H</span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> IsAsubgroup_def IsAgroup_def 
      IsAmonoid_def IsAssociative_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">h</span><span class="main">‚àà</span><span class="free">H</span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚ü®</span> <span class="var">?n</span><span class="main">,</span><span class="skolem">h</span><span class="main">‚ü©</span> <span class="main">‚àà</span> <span class="free">H</span><span class="main">√ó</span><span class="free">H</span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> group0_3_L1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">h</span><span class="main">‚àà</span><span class="free">H</span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">h</span> <span class="main">=</span> <span class="var">?b</span><span class="main">`</span><span class="main">‚ü®</span><span class="var">?n</span><span class="main">,</span><span class="skolem">h</span> <span class="main">‚ü©</span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> group0_3_L1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚ü®</span><span class="main">‚ü®</span><span class="var">?n</span><span class="main">,</span><span class="skolem">h</span><span class="main">‚ü©</span><span class="main">,</span><span class="skolem">h</span><span class="main">‚ü©</span> <span class="main">‚àà</span> <span class="var">?b</span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> func1_1_L5A <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚ü®</span><span class="main">‚ü®</span><span class="var">?n</span><span class="main">,</span><span class="skolem">h</span><span class="main">‚ü©</span><span class="main">,</span><span class="skolem">h</span><span class="main">‚ü©</span> <span class="main">‚àà</span> <span class="free">P</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> restrict_subset <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> groupAssum <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">P</span><span class="main">:</span><span class="free">G</span><span class="main">√ó</span><span class="free">G</span><span class="main">‚Üí</span><span class="free">G</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> IsAgroup_def IsAmonoid_def IsAssociative_def 
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">h</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> func1_1_L5 
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπThe group's neutral element (denoted $1$ in the group0 context)
  is a neutral element for the subgroup with respect to the group action.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> group0_3_L3<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"IsAsubgroup<span class="main">(</span><span class="free">H</span><span class="main">,</span><span class="free">P</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚àÄ</span><span class="bound">h</span><span class="main">‚àà</span><span class="free">H</span><span class="main">.</span> <span class="main"><span class="free">ùü≠</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="bound">h</span> <span class="main">=</span> <span class="bound">h</span> <span class="main">‚àß</span> <span class="bound">h</span><span class="main"><span class="free">‚ãÖ</span></span><span class="main"><span class="free">ùü≠</span></span> <span class="main">=</span> <span class="bound">h</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms groupAssum group0_3_L2 group0_2_L2
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπThe neutral element of a subgroup is the same as that of the group.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> group0_3_L4<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"IsAsubgroup<span class="main">(</span><span class="free">H</span><span class="main">,</span><span class="free">P</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"TheNeutralElement<span class="main">(</span><span class="free">H</span><span class="main">,</span>restrict<span class="main">(</span><span class="free">P</span><span class="main">,</span><span class="free">H</span><span class="main">√ó</span><span class="free">H</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="main"><span class="free">ùü≠</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?n</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"TheNeutralElement<span class="main">(</span><span class="free">H</span><span class="main">,</span>restrict<span class="main">(</span><span class="free">P</span><span class="main">,</span><span class="free">H</span><span class="main">√ó</span><span class="free">H</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?n</span> <span class="main">‚àà</span> <span class="free">H</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> group0_3_L1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> groupAssum A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?n</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">using</span></span>  group0_3_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="quoted"><span class="quoted">‚Äπ<span class="var">?n</span> <span class="main">‚àà</span> <span class="free">H</span>‚Ä∫</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> 
     group0_3_L1 restrict_if group0_2_L7 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπThe neutral element of the group (denoted $1$ in the group0 context)
  belongs to every subgroup.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> group0_3_L5<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"IsAsubgroup<span class="main">(</span><span class="free">H</span><span class="main">,</span><span class="free">P</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùü≠</span></span> <span class="main">‚àà</span> <span class="free">H</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùü≠</span></span><span class="main">‚àà</span><span class="free">H</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> group0_3_L1 group0_3_L4 
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπSubgroups are closed with respect to the group operation.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> group0_3_L6<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"IsAsubgroup<span class="main">(</span><span class="free">H</span><span class="main">,</span><span class="free">P</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">‚àà</span><span class="free">H</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">‚àà</span><span class="free">H</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span> <span class="main">‚àà</span> <span class="free">H</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span> 
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?f</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"restrict<span class="main">(</span><span class="free">P</span><span class="main">,</span><span class="free">H</span><span class="main">√ó</span><span class="free">H</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"monoid0<span class="main">(</span><span class="free">H</span><span class="main">,</span><span class="var">?f</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span>
    IsAsubgroup_def IsAgroup_def monoid0_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?f</span><span class="main">`</span> <span class="main">(</span><span class="main">‚ü®</span><span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">‚ü©</span><span class="main">)</span> <span class="main">‚àà</span> <span class="free">H</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> monoid0.group0_1_L1
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
 <span class="keyword1"><span class="command">with</span></span> A2 <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">‚ãÖ</span></span><span class="free">b</span> <span class="main">‚àà</span> <span class="free">H</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> restrict_if <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπA preliminary lemma that we need to show that taking the inverse 
  in the subgroup is the same as taking the inverse
  in the group.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> group0_3_L7A<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"IsAgroup<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span> 
  <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"IsAsubgroup<span class="main">(</span><span class="free">H</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A3<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">g</span> <span class="main">=</span> restrict<span class="main">(</span><span class="free">f</span><span class="main">,</span><span class="free">H</span><span class="main">√ó</span><span class="free">H</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">)</span> <span class="main">‚à©</span> <span class="free">H</span><span class="main">√ó</span><span class="free">H</span> <span class="main">=</span> GroupInv<span class="main">(</span><span class="free">H</span><span class="main">,</span><span class="free">g</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?e</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"TheNeutralElement<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?e<span class="hidden">‚á©</span><sub>1</sub></span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"TheNeutralElement<span class="main">(</span><span class="free">H</span><span class="main">,</span><span class="free">g</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"group0<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> group0_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">from</span></span> A2 A3 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"group0<span class="main">(</span><span class="free">H</span><span class="main">,</span><span class="free">g</span><span class="main">)</span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> IsAsubgroup_def group0_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">from</span></span> <span class="quoted"><span class="quoted">‚Äπgroup0<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>‚Ä∫</span></span> A2 A3  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">)</span> <span class="main">=</span> <span class="free">f</span><span class="main">-``</span><span class="main">{</span><span class="var">?e<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">}</span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> group0.group0_3_L4 group0.group0_2_T3
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">g</span><span class="main">-``</span><span class="main">{</span><span class="var">?e<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">}</span> <span class="main">=</span> <span class="free">f</span><span class="main">-``</span><span class="main">{</span><span class="var">?e<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">}</span> <span class="main">‚à©</span> <span class="free">H</span><span class="main">√ó</span><span class="free">H</span>"</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
    <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span> <span class="main">‚àà</span> <span class="free">G</span><span class="main">√ó</span><span class="free">G</span><span class="main">‚Üí</span><span class="free">G</span>"</span></span> 
      <span class="keyword1"><span class="command">using</span></span> IsAgroup_def IsAmonoid_def IsAssociative_def 
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A2 <span class="quoted"><span class="quoted">‚Äπgroup0<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">H</span><span class="main">√ó</span><span class="free">H</span> <span class="main">‚äÜ</span> <span class="free">G</span><span class="main">√ó</span><span class="free">G</span>"</span></span> 
      <span class="keyword1"><span class="command">using</span></span> group0.group0_3_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">g</span><span class="main">-``</span><span class="main">{</span><span class="var">?e<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">}</span> <span class="main">=</span> <span class="free">f</span><span class="main">-``</span><span class="main">{</span><span class="var">?e<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">}</span> <span class="main">‚à©</span> <span class="free">H</span><span class="main">√ó</span><span class="free">H</span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> A3 func1_2_L1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A3 <span class="quoted"><span class="quoted">‚Äπgroup0<span class="main">(</span><span class="free">H</span><span class="main">,</span><span class="free">g</span><span class="main">)</span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"GroupInv<span class="main">(</span><span class="free">H</span><span class="main">,</span><span class="free">g</span><span class="main">)</span> <span class="main">=</span> <span class="free">g</span><span class="main">-``</span><span class="main">{</span><span class="var">?e<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">}</span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> group0.group0_2_T3 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπUsing the lemma above we can show the actual statement: 
  taking the inverse in the subgroup is the same as taking the inverse
  in the group.‚Ä∫</span></span>

<span class="keyword1"><span class="command">theorem</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> group0_3_T1<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"IsAsubgroup<span class="main">(</span><span class="free">H</span><span class="main">,</span><span class="free">P</span><span class="main">)</span>"</span></span> 
  <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">g</span> <span class="main">=</span> restrict<span class="main">(</span><span class="free">P</span><span class="main">,</span><span class="free">H</span><span class="main">√ó</span><span class="free">H</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"GroupInv<span class="main">(</span><span class="free">H</span><span class="main">,</span><span class="free">g</span><span class="main">)</span> <span class="main">=</span> restrict<span class="main">(</span>GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span><span class="main">,</span><span class="free">H</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> groupAssum <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span> <span class="main">:</span> <span class="free">G</span><span class="main">‚Üí</span><span class="free">G</span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> group0_2_T2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"GroupInv<span class="main">(</span><span class="free">H</span><span class="main">,</span><span class="free">g</span><span class="main">)</span> <span class="main">:</span> <span class="free">H</span><span class="main">‚Üí</span><span class="free">H</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> IsAsubgroup_def group0_2_T2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">H</span> <span class="main">‚äÜ</span> <span class="free">G</span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> group0_3_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> groupAssum A1 A2 <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span> <span class="main">‚à©</span> <span class="free">H</span><span class="main">√ó</span><span class="free">H</span> <span class="main">=</span> GroupInv<span class="main">(</span><span class="free">H</span><span class="main">,</span><span class="free">g</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> group0_3_L7A <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span>
    <span class="keyword1"><span class="command">using</span></span> func1_2_L3 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπA sligtly weaker, but more convenient in applications,
  reformulation of the above theorem.‚Ä∫</span></span>

<span class="keyword1"><span class="command">theorem</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> group0_3_T2<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"IsAsubgroup<span class="main">(</span><span class="free">H</span><span class="main">,</span><span class="free">P</span><span class="main">)</span>"</span></span> 
  <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">g</span> <span class="main">=</span> restrict<span class="main">(</span><span class="free">P</span><span class="main">,</span><span class="free">H</span><span class="main">√ó</span><span class="free">H</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚àÄ</span><span class="bound">h</span><span class="main">‚àà</span><span class="free">H</span><span class="main">.</span> GroupInv<span class="main">(</span><span class="free">H</span><span class="main">,</span><span class="free">g</span><span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="bound">h</span><span class="main">)</span> <span class="main">=</span> <span class="bound">h</span><span class="main"><span class="free">¬Ø</span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms group0_3_T1 restrict_if <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπSubgroups are closed with respect to taking the group inverse.‚Ä∫</span></span>

<span class="keyword1"><span class="command">theorem</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> group0_3_T3A<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"IsAsubgroup<span class="main">(</span><span class="free">H</span><span class="main">,</span><span class="free">P</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">h</span><span class="main">‚àà</span><span class="free">H</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">h</span><span class="main"><span class="free">¬Ø</span></span><span class="main">‚àà</span> <span class="free">H</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?g</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"restrict<span class="main">(</span><span class="free">P</span><span class="main">,</span><span class="free">H</span><span class="main">√ó</span><span class="free">H</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span>  <span class="quoted"><span class="quoted">"GroupInv<span class="main">(</span><span class="free">H</span><span class="main">,</span><span class="var">?g</span><span class="main">)</span> <span class="main">‚àà</span> <span class="free">H</span><span class="main">‚Üí</span><span class="free">H</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> IsAsubgroup_def group0_2_T2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"GroupInv<span class="main">(</span><span class="free">H</span><span class="main">,</span><span class="var">?g</span><span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="free">h</span><span class="main">)</span> <span class="main">‚àà</span> <span class="free">H</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> apply_type <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> A1 A2 <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">h</span><span class="main"><span class="free">¬Ø</span></span><span class="main">‚àà</span> <span class="free">H</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> group0_3_T2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπThe next theorem states that a nonempty subset of 
  a group $G$ that is closed under the group operation and 
  taking the inverse is a subgroup of the group.‚Ä∫</span></span>

<span class="keyword1"><span class="command">theorem</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> group0_3_T3<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">H</span><span class="main">‚â†</span><span class="main">0</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">H</span><span class="main">‚äÜ</span><span class="free">G</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> A3<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">H</span> <span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">under}</span> <span class="free">P</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> A4<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">‚àÄ</span><span class="bound">x</span><span class="main">‚àà</span><span class="free">H</span><span class="main">.</span> <span class="bound">x</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">‚àà</span> <span class="free">H</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"IsAsubgroup<span class="main">(</span><span class="free">H</span><span class="main">,</span><span class="free">P</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?g</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"restrict<span class="main">(</span><span class="free">P</span><span class="main">,</span><span class="free">H</span><span class="main">√ó</span><span class="free">H</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?n</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"TheNeutralElement<span class="main">(</span><span class="free">H</span><span class="main">,</span><span class="var">?g</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">from</span></span> A3 <span class="keyword1"><span class="command">have</span></span> I<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">‚àÄ</span><span class="bound">x</span><span class="main">‚àà</span><span class="free">H</span><span class="main">.</span><span class="main">‚àÄ</span><span class="bound">y</span><span class="main">‚àà</span><span class="free">H</span><span class="main">.</span> <span class="bound">x</span><span class="main"><span class="free">‚ãÖ</span></span><span class="bound">y</span> <span class="main">‚àà</span> <span class="free">H</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> IsOpClosed_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">x</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">‚àà</span><span class="free">H</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> A4 I A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùü≠</span></span><span class="main">‚àà</span><span class="free">H</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> group0_2_L6 <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">with</span></span> A3 A2 <span class="keyword1"><span class="command">have</span></span> T2<span class="main">:</span> <span class="quoted"><span class="quoted">"IsAmonoid<span class="main">(</span><span class="free">H</span><span class="main">,</span><span class="var">?g</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> group0_2_L1 monoid0.group0_1_T1
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚àÄ</span><span class="bound">h</span><span class="main">‚àà</span><span class="free">H</span><span class="main">.</span><span class="main">‚àÉ</span><span class="bound">b</span><span class="main">‚àà</span><span class="free">H</span><span class="main">.</span> <span class="var">?g</span><span class="main">`</span><span class="main">‚ü®</span><span class="bound">h</span><span class="main">,</span><span class="bound">b</span><span class="main">‚ü©</span> <span class="main">=</span> <span class="var">?n</span>"</span></span>
  <span class="keyword1"><span class="command">proof</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">h</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">h</span><span class="main">‚àà</span><span class="free">H</span>"</span></span>
    <span class="keyword1"><span class="command">with</span></span> A4 A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">h</span><span class="main"><span class="free">‚ãÖ</span></span><span class="skolem">h</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="main"><span class="free">ùü≠</span></span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> group0_2_L6 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> groupAssum A2 A3 <span class="quoted"><span class="quoted">‚Äπ<span class="main"><span class="free">ùü≠</span></span><span class="main">‚àà</span><span class="free">H</span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùü≠</span></span> <span class="main">=</span> <span class="var">?n</span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> IsAgroup_def group0_1_L6 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A4 <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">h</span><span class="main">‚àà</span><span class="free">H</span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?g</span><span class="main">`</span><span class="main">‚ü®</span><span class="skolem">h</span><span class="main">,</span><span class="skolem">h</span><span class="main"><span class="free">¬Ø</span></span><span class="main">‚ü©</span> <span class="main">=</span> <span class="skolem">h</span><span class="main"><span class="free">‚ãÖ</span></span><span class="skolem">h</span><span class="main"><span class="free">¬Ø</span></span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> restrict_if <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?g</span><span class="main">`</span><span class="main">‚ü®</span><span class="skolem">h</span><span class="main">,</span><span class="skolem">h</span><span class="main"><span class="free">¬Ø</span></span><span class="main">‚ü©</span> <span class="main">=</span> <span class="var">?n</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">with</span></span> A4 <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">h</span><span class="main">‚àà</span><span class="free">H</span>‚Ä∫</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚àÉ</span><span class="bound">b</span><span class="main">‚àà</span><span class="free">H</span><span class="main">.</span> <span class="var">?g</span><span class="main">`</span><span class="main">‚ü®</span><span class="skolem">h</span><span class="main">,</span><span class="bound">b</span><span class="main">‚ü©</span> <span class="main">=</span> <span class="var">?n</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"IsAsubgroup<span class="main">(</span><span class="free">H</span><span class="main">,</span><span class="free">P</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> 
    IsAsubgroup_def IsAgroup_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπIntersection of subgroups is a subgroup. This lemma is obsolete and should be replaced by 
  <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>subgroup_inter‚Ä∫</span></span></span></span>. ‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> group0_3_L7<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"IsAgroup<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"IsAsubgroup<span class="main">(</span><span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> A3<span class="main">:</span> <span class="quoted"><span class="quoted">"IsAsubgroup<span class="main">(</span><span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"IsAsubgroup<span class="main">(</span><span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">‚à©</span><span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">,</span>restrict<span class="main">(</span><span class="free">f</span><span class="main">,</span><span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">√ó</span><span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">)</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?e</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"TheNeutralElement<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?g</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"restrict<span class="main">(</span><span class="free">f</span><span class="main">,</span><span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">√ó</span><span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> I<span class="main">:</span> <span class="quoted"><span class="quoted">"group0<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> group0_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">from</span></span> A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"group0<span class="main">(</span><span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">,</span><span class="var">?g</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> IsAsubgroup_def group0_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">‚à©</span><span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span> <span class="main">‚â†</span> <span class="main">0</span>"</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
    <span class="keyword1"><span class="command">from</span></span> A1 A2 A3 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?e</span> <span class="main">‚àà</span> <span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">‚à©</span><span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> group0_def group0.group0_3_L5 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword3"><span class="command">thus</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">‚à©</span><span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span> <span class="main">‚äÜ</span> <span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A2 A3 I <span class="quoted"><span class="quoted">‚Äπ<span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">‚à©</span><span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span> <span class="main">‚äÜ</span> <span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"<span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">‚à©</span><span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span> <span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">under}</span> <span class="var">?g</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> group0.group0_3_L6 IsOpClosed_def 
      func_ZF_4_L7 func_ZF_4_L5 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A2 A3 I <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"<span class="main">‚àÄ</span><span class="bound">x</span> <span class="main">‚àà</span> <span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">‚à©</span><span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">.</span> GroupInv<span class="main">(</span><span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">,</span><span class="var">?g</span><span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="bound">x</span><span class="main">)</span> <span class="main">‚àà</span> <span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">‚à©</span><span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> group0.group0_3_T2 group0.group0_3_T3A
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span>
    <span class="keyword1"><span class="command">using</span></span> group0.group0_3_T3 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπIntersection of subgroups is a subgroup.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> subgroup_inter<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span>  <span class="quoted"><span class="quoted">"IsAsubgroup<span class="main">(</span><span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">,</span><span class="free">P</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"IsAsubgroup<span class="main">(</span><span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">,</span><span class="free">P</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"IsAsubgroup<span class="main">(</span><span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">‚à©</span><span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">,</span><span class="free">P</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">‚à©</span><span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span> <span class="main">‚â†</span> <span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> group0_3_L5 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">‚à©</span><span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span> <span class="main">‚äÜ</span> <span class="free">G</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> group0_3_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">‚à©</span><span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span> <span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">under}</span> <span class="free">P</span>"</span></span>
    <span class="keyword1"><span class="command">unfolding</span></span> IsOpClosed_def <span class="keyword1"><span class="command">using</span></span> group0_3_L6 func_ZF_4_L7 func_ZF_4_L5 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚àÄ</span><span class="bound">x</span> <span class="main">‚àà</span> <span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">‚à©</span><span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">.</span> <span class="bound">x</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">‚àà</span> <span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">‚à©</span><span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> group0_3_T2 group0_3_T3A <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> group0_3_T3 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>


<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπThe range of the subgroup operation is the whole subgroup.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> image_subgr_op<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"IsAsubgroup<span class="main">(</span><span class="free">H</span><span class="main">,</span><span class="free">P</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"restrict<span class="main">(</span><span class="free">P</span><span class="main">,</span><span class="free">H</span><span class="main">√ó</span><span class="free">H</span><span class="main">)</span><span class="main">``</span><span class="main">(</span><span class="free">H</span><span class="main">√ó</span><span class="free">H</span><span class="main">)</span> <span class="main">=</span> <span class="free">H</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"monoid0<span class="main">(</span><span class="free">H</span><span class="main">,</span>restrict<span class="main">(</span><span class="free">P</span><span class="main">,</span><span class="free">H</span><span class="main">√ó</span><span class="free">H</span><span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> IsAsubgroup_def IsAgroup_def monoid0_def 
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> monoid0.range_carr<span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπIf we restrict the inverse to a subgroup, then the restricted 
  inverse is onto the subgroup.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> restr_inv_onto<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"IsAsubgroup<span class="main">(</span><span class="free">H</span><span class="main">,</span><span class="free">P</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"restrict<span class="main">(</span>GroupInv<span class="main">(</span><span class="free">G</span><span class="main">,</span><span class="free">P</span><span class="main">)</span><span class="main">,</span><span class="free">H</span><span class="main">)</span><span class="main">``</span><span class="main">(</span><span class="free">H</span><span class="main">)</span> <span class="main">=</span> <span class="free">H</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"GroupInv<span class="main">(</span><span class="free">H</span><span class="main">,</span>restrict<span class="main">(</span><span class="free">P</span><span class="main">,</span><span class="free">H</span><span class="main">√ó</span><span class="free">H</span><span class="main">)</span><span class="main">)</span><span class="main">``</span><span class="main">(</span><span class="free">H</span><span class="main">)</span> <span class="main">=</span> <span class="free">H</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> IsAsubgroup_def group0_def group0.group_inv_surj
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> group0_3_T1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπA union of two subgroups is a subgroup iff 
  one of the subgroups is a subset of the other subgroup.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> group0<span class="main">)</span> union_subgroups<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"IsAsubgroup<span class="main">(</span><span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">,</span><span class="free">P</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"IsAsubgroup<span class="main">(</span><span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">,</span><span class="free">P</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"IsAsubgroup<span class="main">(</span><span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">‚à™</span><span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">,</span><span class="free">P</span><span class="main">)</span> <span class="main">‚ü∑</span> <span class="main">(</span><span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">‚äÜ</span><span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span> <span class="main">‚à®</span> <span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">‚äÜ</span><span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> 
  <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">‚äÜ</span><span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span> <span class="main">‚à®</span> <span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">‚äÜ</span><span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span>"</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"IsAsubgroup<span class="main">(</span><span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">‚à™</span><span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">,</span><span class="free">P</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
    <span class="keyword1"><span class="command">from</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">‚äÜ</span><span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span> <span class="main">‚à®</span> <span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">‚äÜ</span><span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span> <span class="main">=</span> <span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">‚à™</span><span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span> <span class="main">‚à®</span> <span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span> <span class="main">=</span> <span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">‚à™</span><span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> assms <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"IsAsubgroup<span class="main">(</span><span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">‚à™</span><span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">,</span><span class="free">P</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">qed</span></span>
<span class="keyword1"><span class="command">next</span></span>
  <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"IsAsubgroup<span class="main">(</span><span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">‚à™</span><span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">,</span> <span class="free">P</span><span class="main">)</span>"</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">‚äÜ</span><span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span> <span class="main">‚à®</span> <span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">‚äÜ</span><span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span>"</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
    <span class="keyword1"><span class="command">{</span></span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="main">¬¨</span> <span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">‚äÜ</span><span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span>"</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">x</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">‚àà</span><span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">‚àâ</span><span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">‚àà</span> <span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> group0_3_T3A <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
      <span class="keyword1"><span class="command">{</span></span> <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">y</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">‚àà</span><span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span>"</span></span>
        <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?z</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main"><span class="free">‚ãÖ</span></span><span class="skolem">y</span>"</span></span>
        <span class="keyword1"><span class="command">from</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">x</span><span class="main">‚àà</span><span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span>‚Ä∫</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">y</span><span class="main">‚àà</span><span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span> <span class="main">‚àà</span> <span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">‚à™</span><span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span> <span class="main">‚àà</span> <span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">‚à™</span><span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‚ÄπIsAsubgroup<span class="main">(</span><span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">‚à™</span><span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">,</span><span class="free">P</span><span class="main">)</span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?z</span> <span class="main">‚àà</span> <span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">‚à™</span><span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> group0_3_L6 <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">from</span></span> assms <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">x</span> <span class="main">‚àà</span> <span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">‚à™</span><span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span>‚Ä∫</span></span>  <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">y</span><span class="main">‚àà</span><span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">‚àà</span><span class="free">G</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main"><span class="free">¬Ø</span></span><span class="main">‚àà</span><span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span>"</span></span>
          <span class="keyword1"><span class="command">using</span></span> group0_3_T3A group0_3_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?z</span><span class="main"><span class="free">‚ãÖ</span></span><span class="skolem">y</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="skolem">x</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="var">?z</span> <span class="main">=</span> <span class="skolem">y</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> inv_cancel_two<span class="main">(</span>2<span class="main">,</span>3<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">{</span></span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="var">?z</span> <span class="main">‚àà</span> <span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span>"</span></span>
          <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‚ÄπIsAsubgroup<span class="main">(</span><span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">,</span><span class="free">P</span><span class="main">)</span>‚Ä∫</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">y</span><span class="main"><span class="free">¬Ø</span></span><span class="main">‚àà</span><span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?z</span><span class="main"><span class="free">‚ãÖ</span></span><span class="skolem">y</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">‚àà</span> <span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> group0_3_L6 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
          <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="var">?z</span><span class="main"><span class="free">‚ãÖ</span></span><span class="skolem">y</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">=</span> <span class="skolem">x</span>‚Ä∫</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">x</span><span class="main">‚àâ</span><span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted">False</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"<span class="var">?z</span> <span class="main">‚àâ</span> <span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">x</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">‚àà</span> <span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span>‚Ä∫</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="var">?z</span> <span class="main">‚àà</span> <span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">‚à™</span><span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="var">?z</span> <span class="main">‚àà</span> <span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> group0_3_L6 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
        <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">x</span><span class="main"><span class="free">¬Ø</span></span><span class="main"><span class="free">‚ãÖ</span></span><span class="var">?z</span> <span class="main">=</span> <span class="skolem">y</span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">‚àà</span><span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
      <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"<span class="free">H<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">‚äÜ</span><span class="free">H<span class="hidden">‚á©</span><sub>1</sub></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">}</span></span> <span class="keyword3"><span class="command">thus</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">qed</span></span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπTransitivity for "is a subgroup of" relation. The proof (probably) uses the lemma 
  <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>restrict_restrict‚Ä∫</span></span></span></span> from standard Isabelle/ZF library which states that 
  <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>restrict(restrict(f,A),B) = restrict(f,A‚à©B)‚Ä∫</span></span></span></span>. That lemma is added to the simplifier, so it does
  not have to be referenced explicitly in the proof below. ‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> subgroup_transitive<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"IsAgroup<span class="main">(</span><span class="free">G<span class="hidden">‚á©</span><sub>3</sub></span><span class="main">,</span><span class="free">P</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"IsAsubgroup<span class="main">(</span><span class="free">G<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">,</span><span class="free">P</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"IsAsubgroup<span class="main">(</span><span class="free">G<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">,</span>restrict<span class="main">(</span><span class="free">P</span><span class="main">,</span><span class="free">G<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">√ó</span><span class="free">G<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"IsAsubgroup<span class="main">(</span><span class="free">G<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">,</span><span class="free">P</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"group0<span class="main">(</span><span class="free">G<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">,</span>restrict<span class="main">(</span><span class="free">P</span><span class="main">,</span><span class="free">G<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">√ó</span><span class="free">G<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsAsubgroup_def group0_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">G<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">‚äÜ</span><span class="free">G<span class="hidden">‚á©</span><sub>2</sub></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> group0.group0_3_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"<span class="free">G<span class="hidden">‚á©</span><sub>2</sub></span><span class="main">√ó</span><span class="free">G<span class="hidden">‚á©</span><sub>2</sub></span> <span class="main">‚à©</span> <span class="free">G<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">√ó</span><span class="free">G<span class="hidden">‚á©</span><sub>1</sub></span> <span class="main">=</span> <span class="free">G<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">√ó</span><span class="free">G<span class="hidden">‚á©</span><sub>1</sub></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>3<span class="main">)</span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"IsAsubgroup<span class="main">(</span><span class="free">G<span class="hidden">‚á©</span><sub>1</sub></span><span class="main">,</span><span class="free">P</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsAsubgroup_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword2"><span class="keyword">end</span></span>
</pre>
</body>

</html>