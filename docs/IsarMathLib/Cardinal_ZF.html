<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory Cardinal_ZF</title>
</head>


<body>
<div class="head">
<h1>Theory Cardinal_ZF</h1>
</div>

<pre class="source"><span class="comment1">(* 
    This file is a part of IsarMathLib - 
    a library of formalized mathematics written for Isabelle/Isar.

    Copyright (C) 2012 Daniel de la Concepcion

    This program is free software; Redistribution and use in source and binary forms, 
    with or without modification, are permitted provided that the following conditions are met:

   1. Redistributions of source code must retain the above copyright notice, 
   this list of conditions and the following disclaimer.
   2. Redistributions in binary form must reproduce the above copyright notice, 
   this list of conditions and the following disclaimer in the documentation and/or 
   other materials provided with the distribution.
   3. The name of the author may not be used to endorse or promote products 
   derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED 
WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF 
MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, 
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, 
PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; 
OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR 
OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, 
EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. *)</span>

<span class="keyword1"><span class="command">section</span></span> <span class="quoted"><span class="plain_text">‹Cardinal numbers›</span></span>

<span class="keyword1"><span class="command">theory</span></span> Cardinal_ZF <span class="keyword2"><span class="keyword">imports</span></span> <a href="../../ZF/ZF/CardinalArith.html">ZF.CardinalArith</a> <a href="func1.html">func1</a>

<span class="keyword2"><span class="keyword">begin</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹This theory file deals with results on cardinal numbers (cardinals). Cardinals are
a genaralization of the natural numbers, used to measure the cardinality (size) of sets.
  Contributed by Daniel de la Concepcion.›</span></span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‹Some new ideas on cardinals›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹All the results of this section are done without assuming
the Axiom of Choice. With the Axiom of Choice in play, the proofs become easier
and some of the assumptions may be dropped.

Since General Topology Theory is closely related to Set Theory, it is very interesting
to make use of all the possibilities of Set Theory to try to classify homeomorphic
topological spaces. These ideas are generally used to prove that two topological
spaces are not homeomorphic.›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹There exist cardinals which are the successor of another cardinal,
but; as happens with ordinals, there are cardinals which are limit cardinal.›</span></span>

<span class="keyword1"><span class="command">definition</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">LimitC</span><span class="main">(</span><span class="free"><span class="bound"><span class="entity">i</span></span></span><span class="main">)</span> <span class="main">≡</span> Card<span class="main">(</span><span class="free"><span class="bound"><span class="entity">i</span></span></span><span class="main">)</span> <span class="main">∧</span> <span class="main">0</span><span class="main">&lt;</span><span class="free"><span class="bound"><span class="entity">i</span></span></span> <span class="main">∧</span> <span class="main">(</span><span class="main">∀</span><span class="bound">y</span><span class="main">.</span> <span class="main">(</span><span class="bound">y</span><span class="main">&lt;</span><span class="free"><span class="bound"><span class="entity">i</span></span></span><span class="main">∧</span>Card<span class="main">(</span><span class="bound">y</span><span class="main">)</span><span class="main">)</span> <span class="main">⟶</span> csucc<span class="main">(</span><span class="bound">y</span><span class="main">)</span><span class="main">&lt;</span><span class="free"><span class="bound"><span class="entity">i</span></span></span><span class="main">)</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Simple fact used a couple of times in proofs.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> nat_less_infty<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">n</span><span class="main">∈</span>nat"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"InfCard<span class="main">(</span><span class="free">X</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">n</span><span class="main">&lt;</span><span class="free">X</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">n</span><span class="main">&lt;</span>nat"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"nat<span class="main">≤</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lt_def InfCard_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">n</span><span class="main">&lt;</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lt_trans2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹There are three types of cardinals, the zero one, the succesors
of other cardinals and the limit cardinals.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> Card_cases_disj<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"Card<span class="main">(</span><span class="free">i</span><span class="main">)</span>"</span></span> 
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">i</span><span class="main">=</span><span class="main">0</span> <span class="main">|</span> <span class="main">(</span><span class="main">∃</span><span class="bound">j</span><span class="main">.</span> Card<span class="main">(</span><span class="bound">j</span><span class="main">)</span> <span class="main">∧</span> <span class="free">i</span><span class="main">=</span>csucc<span class="main">(</span><span class="bound">j</span><span class="main">)</span><span class="main">)</span> <span class="main">|</span> LimitC<span class="main">(</span><span class="free">i</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword1"><span class="command">have</span></span> D<span class="main">:</span> <span class="quoted"><span class="quoted">"Ord<span class="main">(</span><span class="free">i</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Card_is_Ord <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">assume</span></span> F<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">i</span><span class="main">≠</span><span class="main">0</span>"</span></span>
    <span class="keyword3"><span class="command">assume</span></span> Contr<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">~</span>LimitC<span class="main">(</span><span class="free">i</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">from</span></span> F D <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">0</span><span class="main">&lt;</span><span class="free">i</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Ord_0_lt <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> Contr assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">y</span><span class="main">.</span> <span class="bound">y</span> <span class="main">&lt;</span> <span class="free">i</span> <span class="main">∧</span> Card<span class="main">(</span><span class="bound">y</span><span class="main">)</span> <span class="main">∧</span> <span class="main">¬</span> csucc<span class="main">(</span><span class="bound">y</span><span class="main">)</span> <span class="main">&lt;</span> <span class="free">i</span>"</span></span> 
      <span class="keyword1"><span class="command">using</span></span> LimitC_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">y</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">" <span class="skolem">y</span> <span class="main">&lt;</span> <span class="free">i</span> <span class="main">∧</span> Card<span class="main">(</span><span class="skolem">y</span><span class="main">)</span> <span class="main">∧</span> <span class="main">¬</span> csucc<span class="main">(</span><span class="skolem">y</span><span class="main">)</span> <span class="main">&lt;</span> <span class="free">i</span>"</span></span>  <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">with</span></span> D <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">" <span class="skolem">y</span> <span class="main">&lt;</span> <span class="free">i</span>"</span></span> <span class="quoted"><span class="quoted">" <span class="free">i</span><span class="main">≤</span>csucc<span class="main">(</span><span class="skolem">y</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> O<span class="main">:</span> <span class="quoted"><span class="quoted">"Card<span class="main">(</span><span class="skolem">y</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> not_lt_imp_le lt_Ord Card_csucc Card_is_Ord
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"csucc<span class="main">(</span><span class="skolem">y</span><span class="main">)</span><span class="main">≤</span><span class="free">i</span>"</span></span><span class="quoted"><span class="quoted">"<span class="free">i</span><span class="main">≤</span>csucc<span class="main">(</span><span class="skolem">y</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> csucc_le <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">i</span><span class="main">=</span>csucc<span class="main">(</span><span class="skolem">y</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> le_anti_sym <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> O <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">j</span><span class="main">.</span> Card<span class="main">(</span><span class="bound">j</span><span class="main">)</span> <span class="main">∧</span> <span class="free">i</span><span class="main">=</span>csucc<span class="main">(</span><span class="bound">j</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword3"><span class="command">thus</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Given an ordinal bounded by a cardinal in ordinal order, we can change
to the order of sets.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> le_imp_lesspoll<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"Card<span class="main">(</span><span class="free">Q</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span> <span class="main">≤</span> <span class="free">Q</span> <span class="main">⟹</span> <span class="free">A</span> <span class="main">≲</span> <span class="free">Q</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span> <span class="main">≤</span> <span class="free">Q</span>"</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">&lt;</span><span class="free">Q</span><span class="main">∨</span><span class="free">A</span><span class="main">=</span><span class="free">Q</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> le_iff <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">≈</span><span class="free">Q</span><span class="main">∨</span><span class="free">A</span><span class="main">&lt;</span> <span class="free">Q</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> eqpoll_refl <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">≈</span><span class="free">Q</span><span class="main">∨</span><span class="free">A</span><span class="main">≺</span> <span class="free">Q</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lt_Card_imp_lesspoll <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">≲</span><span class="free">Q</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lesspoll_def eqpoll_imp_lepoll <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹There are two types of infinite cardinals, the natural numbers
and those that have at least one infinite strictly smaller cardinal.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> InfCard_cases_disj<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"InfCard<span class="main">(</span><span class="free">Q</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">Q</span><span class="main">=</span>nat <span class="main">∨</span> <span class="main">(</span><span class="main">∃</span><span class="bound">j</span><span class="main">.</span> csucc<span class="main">(</span><span class="bound">j</span><span class="main">)</span><span class="main">≲</span><span class="free">Q</span> <span class="main">∧</span> InfCard<span class="main">(</span><span class="bound">j</span><span class="main">)</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">j</span><span class="main">.</span> <span class="main">¬</span> csucc<span class="main">(</span><span class="bound">j</span><span class="main">)</span> <span class="main">≲</span> <span class="free">Q</span> <span class="main">∨</span> <span class="main">¬</span> InfCard<span class="main">(</span><span class="bound">j</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> D<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">¬</span> csucc<span class="main">(</span>nat<span class="main">)</span> <span class="main">≲</span> <span class="free">Q</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> InfCard_nat <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> D assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">¬</span><span class="main">(</span>csucc<span class="main">(</span>nat<span class="main">)</span> <span class="main">≤</span> <span class="free">Q</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> le_imp_lesspoll InfCard_is_Card 
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">Q</span><span class="main">&lt;</span><span class="main">(</span>csucc<span class="main">(</span>nat<span class="main">)</span><span class="main">)</span>"</span></span> 
      <span class="keyword1"><span class="command">using</span></span> not_le_iff_lt Card_is_Ord Card_csucc Card_is_Ord
        Card_is_Ord InfCard_is_Card Card_nat <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>  
    <span class="keyword1"><span class="command">with</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">Q</span><span class="main">≤</span>nat"</span></span> <span class="keyword1"><span class="command">using</span></span> Card_lt_csucc_iff InfCard_is_Card Card_nat 
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">Q</span><span class="main">=</span>nat"</span></span> <span class="keyword1"><span class="command">using</span></span> InfCard_def le_anti_sym <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword3"><span class="command">thus</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹A more readable version of standard Isabelle/ZF <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>Ord_linear_lt›</span></span></span></span>›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> Ord_linear_lt_IML<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"Ord<span class="main">(</span><span class="free">i</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"Ord<span class="main">(</span><span class="free">j</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">i</span><span class="main">&lt;</span><span class="free">j</span> <span class="main">∨</span> <span class="free">i</span><span class="main">=</span><span class="free">j</span> <span class="main">∨</span> <span class="free">j</span><span class="main">&lt;</span><span class="free">i</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms lt_def Ord_linear disjE <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span> 

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹A set is injective and not bijective to the successor of a cardinal
if and only if it is injective and possibly bijective to the cardinal.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> Card_less_csucc_eq_le<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"Card<span class="main">(</span><span class="free">m</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span> <span class="main">≺</span> csucc<span class="main">(</span><span class="free">m</span><span class="main">)</span> <span class="main">⟷</span> <span class="free">A</span> <span class="main">≲</span> <span class="free">m</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span>
  <span class="keyword1"><span class="command">have</span></span> S<span class="main">:</span> <span class="quoted"><span class="quoted">"Ord<span class="main">(</span>csucc<span class="main">(</span><span class="free">m</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Card_csucc Card_is_Ord assms <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">assume</span></span> A<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">A</span> <span class="main">≺</span> csucc<span class="main">(</span><span class="free">m</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">with</span></span> S <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">|</span><span class="free">A</span><span class="main">|</span><span class="main">≈</span><span class="free">A</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lesspoll_imp_eqpoll <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> A <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">…</span><span class="main">≺</span> csucc<span class="main">(</span><span class="free">m</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">finally</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">|</span><span class="free">A</span><span class="main">|</span><span class="main">≺</span> csucc<span class="main">(</span><span class="free">m</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">|</span><span class="free">A</span><span class="main">|</span><span class="main">≲</span>csucc<span class="main">(</span><span class="free">m</span><span class="main">)</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">~</span><span class="main">(</span><span class="main">|</span><span class="free">A</span><span class="main">|</span><span class="main">≈</span>csucc<span class="main">(</span><span class="free">m</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lesspoll_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> S <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">|</span><span class="main">|</span><span class="free">A</span><span class="main">|</span><span class="main">|</span><span class="main">≤</span>csucc<span class="main">(</span><span class="free">m</span><span class="main">)</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">|</span><span class="free">A</span><span class="main">|</span><span class="main">≠</span>csucc<span class="main">(</span><span class="free">m</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lepoll_cardinal_le <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">|</span><span class="free">A</span><span class="main">|</span><span class="main">≤</span>csucc<span class="main">(</span><span class="free">m</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">|</span><span class="free">A</span><span class="main">|</span><span class="main">≠</span>csucc<span class="main">(</span><span class="free">m</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Card_def Card_cardinal <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> I<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">~</span><span class="main">(</span>csucc<span class="main">(</span><span class="free">m</span><span class="main">)</span><span class="main">&lt;</span><span class="main">|</span><span class="free">A</span><span class="main">|</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">|</span><span class="free">A</span><span class="main">|</span><span class="main">≠</span>csucc<span class="main">(</span><span class="free">m</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> le_imp_not_lt <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">from</span></span> S <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"csucc<span class="main">(</span><span class="free">m</span><span class="main">)</span><span class="main">&lt;</span><span class="main">|</span><span class="free">A</span><span class="main">|</span> <span class="main">∨</span> <span class="main">|</span><span class="free">A</span><span class="main">|</span><span class="main">=</span>csucc<span class="main">(</span><span class="free">m</span><span class="main">)</span> <span class="main">∨</span> <span class="main">|</span><span class="free">A</span><span class="main">|</span><span class="main">&lt;</span>csucc<span class="main">(</span><span class="free">m</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> Card_cardinal Card_is_Ord Ord_linear_lt_IML <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> 
    <span class="keyword1"><span class="command">with</span></span> I <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">|</span><span class="free">A</span><span class="main">|</span><span class="main">&lt;</span>csucc<span class="main">(</span><span class="free">m</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>     
    <span class="keyword1"><span class="command">with</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">|</span><span class="free">A</span><span class="main">|</span><span class="main">≤</span><span class="free">m</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Card_lt_csucc_iff Card_cardinal
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">|</span><span class="free">A</span><span class="main">|</span><span class="main">=</span><span class="free">m</span><span class="main">∨</span> <span class="main">|</span><span class="free">A</span><span class="main">|</span><span class="main">&lt;</span> <span class="free">m</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> le_iff <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">|</span><span class="free">A</span><span class="main">|</span><span class="main">≈</span><span class="free">m</span><span class="main">∨</span><span class="main">|</span><span class="free">A</span><span class="main">|</span><span class="main">&lt;</span> <span class="free">m</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> eqpoll_refl <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">|</span><span class="free">A</span><span class="main">|</span><span class="main">≈</span><span class="free">m</span><span class="main">∨</span><span class="main">|</span><span class="free">A</span><span class="main">|</span><span class="main">≺</span> <span class="free">m</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lt_Card_imp_lesspoll assms <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> T<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">|</span><span class="free">A</span><span class="main">|</span><span class="main">≲</span><span class="free">m</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lesspoll_def eqpoll_imp_lepoll <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">from</span></span> A S <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">≈</span><span class="main">|</span><span class="free">A</span><span class="main">|</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lesspoll_imp_eqpoll eqpoll_sym <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> T <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">…</span><span class="main">≲</span><span class="free">m</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">finally</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">≲</span><span class="free">m</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">assume</span></span> A<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">≲</span><span class="free">m</span>"</span></span>
    <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">m</span><span class="main">≺</span>csucc<span class="main">(</span><span class="free">m</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lt_Card_imp_lesspoll Card_csucc Card_is_Ord
      lt_csucc <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> A <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">≺</span>csucc<span class="main">(</span><span class="free">m</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lesspoll_trans1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹If the successor of a cardinal is infinite, so is the original
cardinal.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> csucc_inf_imp_inf<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"Card<span class="main">(</span><span class="free">j</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"InfCard<span class="main">(</span>csucc<span class="main">(</span><span class="free">j</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"InfCard<span class="main">(</span><span class="free">j</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">assume</span></span> f<span class="main">:</span><span class="quoted"><span class="quoted">"Finite <span class="main">(</span><span class="free">j</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">n</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">n</span><span class="main">∈</span>nat"</span></span> <span class="quoted"><span class="quoted">"<span class="free">j</span><span class="main">≈</span><span class="skolem">n</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Finite_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> TT<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">j</span><span class="main">=</span><span class="skolem">n</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">n</span><span class="main">∈</span>nat"</span></span> 
      <span class="keyword1"><span class="command">using</span></span> cardinal_cong nat_into_Card Card_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> Q<span class="main">:</span><span class="quoted"><span class="quoted">"succ<span class="main">(</span><span class="free">j</span><span class="main">)</span><span class="main">∈</span>nat"</span></span> <span class="keyword1"><span class="command">using</span></span> nat_succI <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> f TT <span class="keyword1"><span class="command">have</span></span> T<span class="main">:</span> <span class="quoted"><span class="quoted">"Finite<span class="main">(</span>succ<span class="main">(</span><span class="free">j</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"Card<span class="main">(</span>succ<span class="main">(</span><span class="free">j</span><span class="main">)</span><span class="main">)</span>"</span></span> 
      <span class="keyword1"><span class="command">using</span></span> nat_into_Card nat_succI <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> 
    <span class="keyword1"><span class="command">from</span></span> T<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Card<span class="main">(</span>succ<span class="main">(</span><span class="free">j</span><span class="main">)</span><span class="main">)</span><span class="main">∧</span> <span class="free">j</span><span class="main">&lt;</span>succ<span class="main">(</span><span class="free">j</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Card_is_Ord <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> this <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Ord<span class="main">(</span>succ<span class="main">(</span><span class="free">j</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Card_is_Ord <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">{</span></span> <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span>
      <span class="keyword3"><span class="command">assume</span></span> A<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">&lt;</span>succ<span class="main">(</span><span class="free">j</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"Card<span class="main">(</span><span class="skolem">x</span><span class="main">)</span><span class="main">∧</span> <span class="free">j</span><span class="main">&lt;</span><span class="skolem">x</span>"</span></span>
        <span class="keyword1"><span class="command">with</span></span> A <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">using</span></span> lt_trans1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"<span class="main">~</span><span class="main">(</span>Card<span class="main">(</span><span class="skolem">x</span><span class="main">)</span><span class="main">∧</span> <span class="free">j</span><span class="main">&lt;</span><span class="skolem">x</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span> 
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="keyword1">μ</span> <span class="bound">L</span><span class="main">.</span> Card<span class="main">(</span><span class="bound">L</span><span class="main">)</span> <span class="main">∧</span> <span class="free">j</span> <span class="main">&lt;</span> <span class="bound">L</span><span class="main">)</span><span class="main">=</span>succ<span class="main">(</span><span class="free">j</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> Least_equality<span class="main">)</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"csucc<span class="main">(</span><span class="free">j</span><span class="main">)</span><span class="main">=</span>succ<span class="main">(</span><span class="free">j</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> csucc_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> Q <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"csucc<span class="main">(</span><span class="free">j</span><span class="main">)</span><span class="main">∈</span>nat"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"csucc<span class="main">(</span><span class="free">j</span><span class="main">)</span><span class="main">&lt;</span>nat"</span></span> <span class="keyword1"><span class="command">using</span></span> lt_def Card_nat Card_is_Ord <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">using</span></span> InfCard_def lt_trans2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">~</span><span class="main">(</span>Finite <span class="main">(</span><span class="free">j</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> Inf_Card_is_InfCard <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Since all the cardinals previous to <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>nat›</span></span></span></span>
are finite, it cannot be a successor cardinal; hence it is 
a <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>LimitC›</span></span></span></span> cardinal.›</span></span>

<span class="keyword1"><span class="command">corollary</span></span> LimitC_nat<span class="main">:</span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"LimitC<span class="main">(</span>nat<span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">note</span></span> Card_nat
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">0</span><span class="main">&lt;</span>nat"</span></span> <span class="keyword1"><span class="command">using</span></span> lt_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">y</span>
    <span class="keyword3"><span class="command">assume</span></span> AS<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">&lt;</span>nat"</span></span><span class="quoted"><span class="quoted">"Card<span class="main">(</span><span class="skolem">y</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> ord<span class="main">:</span> <span class="quoted"><span class="quoted">"Ord<span class="main">(</span><span class="skolem">y</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> lt_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> Cacsucc<span class="main">:</span> <span class="quoted"><span class="quoted">"Card<span class="main">(</span>csucc<span class="main">(</span><span class="skolem">y</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Card_csucc <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"nat<span class="main">≤</span>csucc<span class="main">(</span><span class="skolem">y</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">with</span></span> Cacsucc <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"InfCard<span class="main">(</span>csucc<span class="main">(</span><span class="skolem">y</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> InfCard_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> AS<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"InfCard<span class="main">(</span><span class="skolem">y</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> csucc_inf_imp_inf <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"nat<span class="main">≤</span><span class="skolem">y</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> InfCard_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> AS<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">using</span></span> lt_trans2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"<span class="main">~</span><span class="main">(</span>nat<span class="main">≤</span>csucc<span class="main">(</span><span class="skolem">y</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"csucc<span class="main">(</span><span class="skolem">y</span><span class="main">)</span><span class="main">&lt;</span>nat"</span></span> <span class="keyword1"><span class="command">using</span></span> not_le_iff_lt Ord_nat Cacsucc Card_is_Ord <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> LimitC_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‹Main result on cardinals (without the Axiom of Choice)›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹If two sets are strictly injective to an infinite cardinal,
then so is its union. For the case of successor cardinal, this
theorem is done in the isabelle library in a more general setting;
 but that theorem is of not
use in the case where <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>LimitC(Q)›</span></span></span></span> and it also makes use
of the Axiom of Choice. The mentioned theorem is in the
theory file <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>Cardinal_AC.thy›</span></span></span></span>›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Note that if $Q$ is finite and different from $1$, let's assume $Q=n$,
then the union of $A$ and $B$ is not bounded by $Q$.
Counterexample: two disjoint sets of $n-1$ elements each
have a union of $2n-2$ elements which are more than $n$.

Note also that if $Q=1$ then $A$ and $B$ must be empty
and the union is then empty too; and $Q$ cannot be <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>0›</span></span></span></span> because
no set is injective and not bijective to <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>0›</span></span></span></span>.

The proof is divided in two parts, first the case when
both sets $A$ and $B$ are finite; and second,
the part when at least one of them is infinite.
In the first part, it is used the fact that a finite
union of finite sets is finite. In the second part it
is used the linear order on cardinals (ordinals).
This proof can not be generalized to a setting with 
an infinite union easily.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> less_less_imp_un_less<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">≺</span><span class="free">Q</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">B</span><span class="main">≺</span><span class="free">Q</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"InfCard<span class="main">(</span><span class="free">Q</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span> <span class="main">∪</span> <span class="free">B</span><span class="main">≺</span><span class="free">Q</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
<span class="keyword1"><span class="command">{</span></span>
  <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"Finite <span class="main">(</span><span class="free">A</span><span class="main">)</span> <span class="main">∧</span> Finite<span class="main">(</span><span class="free">B</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Finite<span class="main">(</span><span class="free">A</span> <span class="main">∪</span> <span class="free">B</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Finite_Un <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">n</span></span> <span class="keyword2"><span class="keyword">where</span></span> R<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">A</span> <span class="main">∪</span> <span class="free">B</span> <span class="main">≈</span><span class="skolem">n</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="skolem">n</span><span class="main">∈</span>nat"</span></span> <span class="keyword1"><span class="command">using</span></span> Finite_def
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">|</span><span class="free">A</span> <span class="main">∪</span> <span class="free">B</span><span class="main">|</span><span class="main">&lt;</span>nat"</span></span> <span class="keyword1"><span class="command">using</span></span> lt_def  cardinal_cong
    nat_into_Card  Card_def  Card_nat Card_is_Ord <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> T<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">|</span><span class="free">A</span> <span class="main">∪</span> <span class="free">B</span><span class="main">|</span><span class="main">&lt;</span><span class="free">Q</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> InfCard_def lt_trans2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">from</span></span> R <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Ord<span class="main">(</span><span class="skolem">n</span><span class="main">)</span>"</span></span><span class="quoted"><span class="quoted">"<span class="free">A</span> <span class="main">∪</span> <span class="free">B</span> <span class="main">≲</span> <span class="skolem">n</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> nat_into_Card Card_is_Ord eqpoll_imp_lepoll <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span> <span class="main">∪</span> <span class="free">B</span><span class="main">≈</span><span class="main">|</span><span class="free">A</span> <span class="main">∪</span> <span class="free">B</span><span class="main">|</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lepoll_Ord_imp_eqpoll eqpoll_sym <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> T assms<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">…</span><span class="main">≺</span><span class="free">Q</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lt_Card_imp_lesspoll InfCard_is_Card
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">finally</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span> <span class="main">∪</span> <span class="free">B</span><span class="main">≺</span><span class="free">Q</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">}</span></span>
<span class="keyword1"><span class="command">moreover</span></span>
<span class="keyword1"><span class="command">{</span></span>
  <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="main">~</span><span class="main">(</span>Finite <span class="main">(</span><span class="free">A</span><span class="main">)</span> <span class="main">∧</span> Finite<span class="main">(</span><span class="free">B</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">hence</span></span> A<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">~</span>Finite <span class="main">(</span><span class="free">A</span><span class="main">)</span> <span class="main">∨</span> <span class="main">~</span>Finite<span class="main">(</span><span class="free">B</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword1"><span class="command">have</span></span> B<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">|</span><span class="free">A</span><span class="main">|</span><span class="main">≈</span><span class="free">A</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">|</span><span class="free">B</span><span class="main">|</span><span class="main">≈</span><span class="free">B</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lesspoll_imp_eqpoll lesspoll_imp_eqpoll
    InfCard_is_Card Card_is_Ord <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">from</span></span> B<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> Aeq<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">x</span><span class="main">.</span> <span class="main">(</span><span class="main">|</span><span class="free">A</span><span class="main">|</span><span class="main">≈</span><span class="bound">x</span><span class="main">)</span> <span class="main">⟶</span> <span class="main">(</span><span class="free">A</span><span class="main">≈</span><span class="bound">x</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> eqpoll_sym eqpoll_trans <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">from</span></span> B<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> Beq<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">x</span><span class="main">.</span> <span class="main">(</span><span class="main">|</span><span class="free">B</span><span class="main">|</span><span class="main">≈</span><span class="bound">x</span><span class="main">)</span> <span class="main">⟶</span> <span class="main">(</span><span class="free">B</span><span class="main">≈</span><span class="bound">x</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> eqpoll_sym eqpoll_trans <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">with</span></span> A Aeq <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">~</span>Finite<span class="main">(</span><span class="main">|</span><span class="free">A</span><span class="main">|</span><span class="main">)</span><span class="main">∨</span> <span class="main">~</span>Finite<span class="main">(</span><span class="main">|</span><span class="free">B</span><span class="main">|</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Finite_def
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> D<span class="main">:</span> <span class="quoted"><span class="quoted">"InfCard<span class="main">(</span><span class="main">|</span><span class="free">A</span><span class="main">|</span><span class="main">)</span><span class="main">∨</span>InfCard<span class="main">(</span><span class="main">|</span><span class="free">B</span><span class="main">|</span><span class="main">)</span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> Inf_Card_is_InfCard Inf_Card_is_InfCard  Card_cardinal <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">assume</span></span> AS<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">|</span><span class="free">A</span><span class="main">|</span> <span class="main">&lt;</span> <span class="main">|</span><span class="free">B</span><span class="main">|</span>"</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="main">~</span>InfCard<span class="main">(</span><span class="main">|</span><span class="free">A</span><span class="main">|</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">with</span></span> D <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"InfCard<span class="main">(</span><span class="main">|</span><span class="free">B</span><span class="main">|</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"InfCard<span class="main">(</span><span class="main">|</span><span class="free">A</span><span class="main">|</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"nat<span class="main">≤</span><span class="main">|</span><span class="free">A</span><span class="main">|</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> InfCard_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> AS <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"nat<span class="main">&lt;</span><span class="main">|</span><span class="free">B</span><span class="main">|</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lt_trans1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"nat<span class="main">≤</span><span class="main">|</span><span class="free">B</span><span class="main">|</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> leI <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"InfCard<span class="main">(</span><span class="main">|</span><span class="free">B</span><span class="main">|</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> InfCard_def Card_cardinal <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> INFB<span class="main">:</span> <span class="quoted"><span class="quoted">"InfCard<span class="main">(</span><span class="main">|</span><span class="free">B</span><span class="main">|</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">2</span><span class="main">&lt;</span><span class="main">|</span><span class="free">B</span><span class="main">|</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> nat_less_infty <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span> 
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> AG<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">2</span><span class="main">≲</span><span class="main">|</span><span class="free">B</span><span class="main">|</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lt_Card_imp_lesspoll Card_cardinal lesspoll_def
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">from</span></span> B<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">|</span><span class="free">B</span><span class="main">|</span><span class="main">≈</span><span class="free">B</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span> 
    <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">…</span><span class="main">≺</span><span class="free">Q</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">finally</span></span> <span class="keyword1"><span class="command">have</span></span> TTT<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">|</span><span class="free">B</span><span class="main">|</span><span class="main">≺</span><span class="free">Q</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span> 
    <span class="keyword1"><span class="command">from</span></span> B<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Card<span class="main">(</span><span class="main">|</span><span class="free">B</span><span class="main">|</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span> <span class="main">≲</span><span class="main">|</span><span class="free">A</span><span class="main">|</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> eqpoll_sym Card_cardinal eqpoll_imp_lepoll 
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> AS <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">≺</span><span class="main">|</span><span class="free">B</span><span class="main">|</span>"</span></span> <span class="keyword1"><span class="command">using</span></span>  lt_Card_imp_lesspoll lesspoll_trans1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> I1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">≲</span><span class="main">|</span><span class="free">B</span><span class="main">|</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lesspoll_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">from</span></span> B<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> I2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">B</span><span class="main">≲</span><span class="main">|</span><span class="free">B</span><span class="main">|</span>"</span></span> <span class="keyword1"><span class="command">using</span></span>  eqpoll_sym eqpoll_imp_lepoll <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span> <span class="main">∪</span> <span class="free">B</span><span class="main">≲</span><span class="free">A</span><span class="main">+</span><span class="free">B</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Un_lepoll_sum <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> I1 I2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">…</span><span class="main">≲</span> <span class="main">|</span><span class="free">B</span><span class="main">|</span> <span class="main">+</span> <span class="main">|</span><span class="free">B</span><span class="main">|</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> sum_lepoll_mono <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> AG <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">…</span><span class="main">≲</span><span class="main">|</span><span class="free">B</span><span class="main">|</span> <span class="main">*</span> <span class="main">|</span><span class="free">B</span><span class="main">|</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> sum_lepoll_prod <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>3<span class="main">)</span> INFB <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">…</span><span class="main">≈</span><span class="main">|</span><span class="free">B</span><span class="main">|</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> InfCard_square_eqpoll
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">finally</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span> <span class="main">∪</span> <span class="free">B</span><span class="main">≲</span><span class="main">|</span><span class="free">B</span><span class="main">|</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> TTT <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">…</span><span class="main">≺</span><span class="free">Q</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">finally</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span> <span class="main">∪</span> <span class="free">B</span><span class="main">≺</span><span class="free">Q</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span> 
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">assume</span></span> AS<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">|</span><span class="free">B</span><span class="main">|</span> <span class="main">&lt;</span> <span class="main">|</span><span class="free">A</span><span class="main">|</span>"</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="main">~</span>InfCard<span class="main">(</span><span class="main">|</span><span class="free">B</span><span class="main">|</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">with</span></span> D <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"InfCard<span class="main">(</span><span class="main">|</span><span class="free">A</span><span class="main">|</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"InfCard<span class="main">(</span><span class="main">|</span><span class="free">B</span><span class="main">|</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"nat<span class="main">≤</span><span class="main">|</span><span class="free">B</span><span class="main">|</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> InfCard_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> AS <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"nat<span class="main">&lt;</span><span class="main">|</span><span class="free">A</span><span class="main">|</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lt_trans1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"nat<span class="main">≤</span><span class="main">|</span><span class="free">A</span><span class="main">|</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> leI <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"InfCard<span class="main">(</span><span class="main">|</span><span class="free">A</span><span class="main">|</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> InfCard_def Card_cardinal <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> INFB<span class="main">:</span> <span class="quoted"><span class="quoted">"InfCard<span class="main">(</span><span class="main">|</span><span class="free">A</span><span class="main">|</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">2</span><span class="main">&lt;</span><span class="main">|</span><span class="free">A</span><span class="main">|</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> nat_less_infty <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> AG<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">2</span><span class="main">≲</span><span class="main">|</span><span class="free">A</span><span class="main">|</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lt_Card_imp_lesspoll Card_cardinal lesspoll_def
        <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">from</span></span> B<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">|</span><span class="free">A</span><span class="main">|</span><span class="main">≈</span><span class="free">A</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">…</span><span class="main">≺</span><span class="free">Q</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">finally</span></span> <span class="keyword1"><span class="command">have</span></span> TTT<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">|</span><span class="free">A</span><span class="main">|</span><span class="main">≺</span><span class="free">Q</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">from</span></span> B<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Card<span class="main">(</span><span class="main">|</span><span class="free">A</span><span class="main">|</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">B</span> <span class="main">≲</span><span class="main">|</span><span class="free">B</span><span class="main">|</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> eqpoll_sym Card_cardinal eqpoll_imp_lepoll 
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> AS <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">B</span><span class="main">≺</span><span class="main">|</span><span class="free">A</span><span class="main">|</span>"</span></span> <span class="keyword1"><span class="command">using</span></span>  lt_Card_imp_lesspoll lesspoll_trans1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> I1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">B</span><span class="main">≲</span><span class="main">|</span><span class="free">A</span><span class="main">|</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lesspoll_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">from</span></span> B<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> I2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">≲</span><span class="main">|</span><span class="free">A</span><span class="main">|</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> eqpoll_sym eqpoll_imp_lepoll <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span> <span class="main">∪</span> <span class="free">B</span><span class="main">≲</span><span class="free">A</span><span class="main">+</span><span class="free">B</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Un_lepoll_sum <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> I1 I2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">…</span><span class="main">≲</span> <span class="main">|</span><span class="free">A</span><span class="main">|</span> <span class="main">+</span> <span class="main">|</span><span class="free">A</span><span class="main">|</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> sum_lepoll_mono <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> AG <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">…</span><span class="main">≲</span><span class="main">|</span><span class="free">A</span><span class="main">|</span> <span class="main">*</span> <span class="main">|</span><span class="free">A</span><span class="main">|</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> sum_lepoll_prod <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> INFB assms<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">…</span><span class="main">≈</span><span class="main">|</span><span class="free">A</span><span class="main">|</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> InfCard_square_eqpoll
       <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">finally</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span> <span class="main">∪</span> <span class="free">B</span><span class="main">≲</span><span class="main">|</span><span class="free">A</span><span class="main">|</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> TTT <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">…</span><span class="main">≺</span><span class="free">Q</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">finally</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span> <span class="main">∪</span> <span class="free">B</span><span class="main">≺</span><span class="free">Q</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span> 
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">assume</span></span> AS<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">|</span><span class="free">A</span><span class="main">|</span><span class="main">=</span><span class="main">|</span><span class="free">B</span><span class="main">|</span>"</span></span>
      <span class="keyword1"><span class="command">with</span></span> D <span class="keyword1"><span class="command">have</span></span> INFB<span class="main">:</span> <span class="quoted"><span class="quoted">"InfCard<span class="main">(</span><span class="main">|</span><span class="free">A</span><span class="main">|</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">2</span><span class="main">&lt;</span><span class="main">|</span><span class="free">A</span><span class="main">|</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> nat_less_infty <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> AG<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">2</span><span class="main">≲</span><span class="main">|</span><span class="free">A</span><span class="main">|</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lt_Card_imp_lesspoll Card_cardinal <span class="keyword1"><span class="command">using</span></span> lesspoll_def
        <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">from</span></span> B<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">|</span><span class="free">A</span><span class="main">|</span><span class="main">≈</span><span class="free">A</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span> 
      <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">…</span><span class="main">≺</span><span class="free">Q</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">finally</span></span> <span class="keyword1"><span class="command">have</span></span> TTT<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">|</span><span class="free">A</span><span class="main">|</span><span class="main">≺</span><span class="free">Q</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
      <span class="keyword1"><span class="command">from</span></span> AS B <span class="keyword1"><span class="command">have</span></span> I1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">≲</span><span class="main">|</span><span class="free">A</span><span class="main">|</span>"</span></span><span class="keyword2"><span class="keyword">and</span></span> I2<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="free">B</span><span class="main">≲</span><span class="main">|</span><span class="free">A</span><span class="main">|</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> eqpoll_refl eqpoll_imp_lepoll
        eqpoll_sym <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span> <span class="main">∪</span> <span class="free">B</span><span class="main">≲</span><span class="free">A</span><span class="main">+</span><span class="free">B</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Un_lepoll_sum <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> I1 I2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">…</span><span class="main">≲</span> <span class="main">|</span><span class="free">A</span><span class="main">|</span> <span class="main">+</span> <span class="main">|</span><span class="free">A</span><span class="main">|</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> sum_lepoll_mono <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> AG <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">…</span><span class="main">≲</span><span class="main">|</span><span class="free">A</span><span class="main">|</span> <span class="main">*</span> <span class="main">|</span><span class="free">A</span><span class="main">|</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> sum_lepoll_prod  <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>3<span class="main">)</span> INFB <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">…</span><span class="main">≈</span><span class="main">|</span><span class="free">A</span><span class="main">|</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> InfCard_square_eqpoll
        <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">finally</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span> <span class="main">∪</span> <span class="free">B</span><span class="main">≲</span><span class="main">|</span><span class="free">A</span><span class="main">|</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span> 
      <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> TTT <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">…</span><span class="main">≺</span><span class="free">Q</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">finally</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span> <span class="main">∪</span> <span class="free">B</span><span class="main">≺</span><span class="free">Q</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span> <span class="main">∪</span> <span class="free">B</span><span class="main">≺</span><span class="free">Q</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Ord_linear_lt_IML Card_cardinal Card_is_Ord <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span> <span class="main">∪</span> <span class="free">B</span><span class="main">≺</span><span class="free">Q</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‹Choice axioms›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹We want to prove some theorems assuming that some version of the Axiom of Choice holds.
  To avoid introducing it as an axiom we will defin an appropriate predicate and put that in the 
  assumptions of the theorems. That way technically we stay inside ZF.›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The first predicate we define states that the axiom of $Q$-choice holds for subsets of $K$ if 
  we can find a choice function for every family of subsets of $K$ whose (that family's) 
  cardinality does not exceed $Q$.›</span></span>

<span class="keyword1"><span class="command">definition</span></span>
  <span class="entity">AxiomCardinalChoice</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">{the</span> <span class="keyword1">axiom</span> <span class="keyword1">of}</span>_<span class="keyword1">{choice</span> <span class="keyword1">holds</span> <span class="keyword1">for</span> <span class="keyword1">subsets}</span>_"</span><span class="main">)</span> <span class="keyword2"><span class="keyword">where</span></span>
  <span class="quoted"><span class="quoted">"<span class="keyword1"><span class="free">{the</span></span> <span class="keyword1"><span class="free">axiom</span></span> <span class="keyword1"><span class="free">of}</span></span> <span class="free"><span class="bound"><span class="entity">Q</span></span></span> <span class="keyword1"><span class="free">{choice</span></span> <span class="keyword1"><span class="free">holds</span></span> <span class="keyword1"><span class="free">for</span></span> <span class="keyword1"><span class="free">subsets}</span></span><span class="free"><span class="bound"><span class="entity">K</span></span></span> <span class="main">≡</span> Card<span class="main">(</span><span class="free"><span class="bound"><span class="entity">Q</span></span></span><span class="main">)</span> <span class="main">∧</span> <span class="main">(</span><span class="main">∀</span> <span class="bound">M</span> <span class="bound">N</span><span class="main">.</span> <span class="main">(</span><span class="bound">M</span> <span class="main">≲</span><span class="free"><span class="bound"><span class="entity">Q</span></span></span> <span class="main">∧</span>  <span class="main">(</span><span class="main">∀</span><span class="bound">t</span><span class="main">∈</span><span class="bound">M</span><span class="main">.</span> <span class="bound">N</span><span class="main">`</span><span class="bound">t</span><span class="main">≠</span><span class="main">0</span> <span class="main">∧</span> <span class="bound">N</span><span class="main">`</span><span class="bound">t</span><span class="main">⊆</span><span class="free"><span class="bound"><span class="entity">K</span></span></span><span class="main">)</span><span class="main">)</span> <span class="main">⟶</span> <span class="main">(</span><span class="main">∃</span><span class="bound">f</span><span class="main">.</span> <span class="bound">f</span><span class="main">:</span>Pi<span class="main">(</span><span class="bound">M</span><span class="main">,</span><span class="main">λ</span><span class="bound">t</span><span class="main">.</span> <span class="bound">N</span><span class="main">`</span><span class="bound">t</span><span class="main">)</span> <span class="main">∧</span> <span class="main">(</span><span class="main">∀</span><span class="bound">t</span><span class="main">∈</span><span class="bound">M</span><span class="main">.</span> <span class="bound">f</span><span class="main">`</span><span class="bound">t</span><span class="main">∈</span><span class="bound">N</span><span class="main">`</span><span class="bound">t</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Next we define a general form of $Q$ choice where we don't require a collection of files
  to be included in a file.›</span></span>

<span class="keyword1"><span class="command">definition</span></span>
  <span class="entity">AxiomCardinalChoiceGen</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">{the</span> <span class="keyword1">axiom</span> <span class="keyword1">of}</span>_<span class="keyword1">{choice</span> <span class="keyword1">holds}</span>"</span><span class="main">)</span> <span class="keyword2"><span class="keyword">where</span></span>
  <span class="quoted"><span class="quoted">"<span class="keyword1"><span class="free">{the</span></span> <span class="keyword1"><span class="free">axiom</span></span> <span class="keyword1"><span class="free">of}</span></span> <span class="free"><span class="bound"><span class="entity">Q</span></span></span> <span class="keyword1"><span class="free">{choice</span></span> <span class="keyword1"><span class="free">holds}</span></span> <span class="main">≡</span> Card<span class="main">(</span><span class="free"><span class="bound"><span class="entity">Q</span></span></span><span class="main">)</span> <span class="main">∧</span> <span class="main">(</span><span class="main">∀</span> <span class="bound">M</span> <span class="bound">N</span><span class="main">.</span> <span class="main">(</span><span class="bound">M</span> <span class="main">≲</span><span class="free"><span class="bound"><span class="entity">Q</span></span></span> <span class="main">∧</span>  <span class="main">(</span><span class="main">∀</span><span class="bound">t</span><span class="main">∈</span><span class="bound">M</span><span class="main">.</span> <span class="bound">N</span><span class="main">`</span><span class="bound">t</span><span class="main">≠</span><span class="main">0</span><span class="main">)</span><span class="main">)</span> <span class="main">⟶</span> <span class="main">(</span><span class="main">∃</span><span class="bound">f</span><span class="main">.</span> <span class="bound">f</span><span class="main">:</span>Pi<span class="main">(</span><span class="bound">M</span><span class="main">,</span><span class="main">λ</span><span class="bound">t</span><span class="main">.</span> <span class="bound">N</span><span class="main">`</span><span class="bound">t</span><span class="main">)</span> <span class="main">∧</span> <span class="main">(</span><span class="main">∀</span><span class="bound">t</span><span class="main">∈</span><span class="bound">M</span><span class="main">.</span> <span class="bound">f</span><span class="main">`</span><span class="bound">t</span><span class="main">∈</span><span class="bound">N</span><span class="main">`</span><span class="bound">t</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The axiom of finite choice always holds.›</span></span>

<span class="keyword1"><span class="command">theorem</span></span> finite_choice<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">n</span><span class="main">∈</span>nat"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="keyword1">{the</span> <span class="keyword1">axiom</span> <span class="keyword1">of}</span> <span class="free">n</span> <span class="keyword1">{choice</span> <span class="keyword1">holds}</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">note</span></span> assms<span class="main">(</span>1<span class="main">)</span>
  <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">M</span> <span class="skolem">N</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span><span class="main">≲</span><span class="main">0</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">t</span><span class="main">∈</span><span class="skolem">M</span><span class="main">.</span> <span class="skolem">N</span><span class="main">`</span><span class="bound">t</span><span class="main">≠</span><span class="main">0</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span><span class="main">=</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lepoll_0_is_0 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="main">⟨</span><span class="bound">t</span><span class="main">,</span><span class="main">0</span><span class="main">⟩</span><span class="main">.</span> <span class="bound">t</span><span class="main">∈</span><span class="skolem">M</span><span class="main">}</span><span class="main">:</span>Pi<span class="main">(</span><span class="skolem">M</span><span class="main">,</span><span class="main">λ</span><span class="bound">t</span><span class="main">.</span> <span class="skolem">N</span><span class="main">`</span><span class="bound">t</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> Pi_def domain_def function_def Sigma_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">M</span><span class="main">=</span><span class="main">0</span>›</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">t</span><span class="main">∈</span><span class="skolem">M</span><span class="main">.</span> <span class="main">{</span><span class="main">⟨</span><span class="bound">t</span><span class="main">,</span><span class="main">0</span><span class="main">⟩</span><span class="main">.</span> <span class="bound">t</span><span class="main">∈</span><span class="skolem">M</span><span class="main">}</span><span class="main">`</span><span class="bound">t</span><span class="main">∈</span><span class="skolem">N</span><span class="main">`</span><span class="bound">t</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">∃</span><span class="bound">f</span><span class="main">.</span> <span class="bound">f</span><span class="main">:</span>Pi<span class="main">(</span><span class="skolem">M</span><span class="main">,</span><span class="main">λ</span><span class="bound">t</span><span class="main">.</span> <span class="skolem">N</span><span class="main">`</span><span class="bound">t</span><span class="main">)</span> <span class="main">∧</span> <span class="main">(</span><span class="main">∀</span><span class="bound">t</span><span class="main">∈</span><span class="skolem">M</span><span class="main">.</span> <span class="bound">f</span><span class="main">`</span><span class="bound">t</span><span class="main">∈</span><span class="skolem">N</span><span class="main">`</span><span class="bound">t</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">∀</span> <span class="bound">M</span> <span class="bound">N</span><span class="main">.</span> <span class="main">(</span><span class="bound">M</span> <span class="main">≲</span><span class="main">0</span> <span class="main">∧</span>  <span class="main">(</span><span class="main">∀</span><span class="bound">t</span><span class="main">∈</span><span class="bound">M</span><span class="main">.</span> <span class="bound">N</span><span class="main">`</span><span class="bound">t</span><span class="main">≠</span><span class="main">0</span><span class="main">)</span><span class="main">)</span> <span class="main">⟶</span> <span class="main">(</span><span class="main">∃</span><span class="bound">f</span><span class="main">.</span> <span class="bound">f</span><span class="main">:</span>Pi<span class="main">(</span><span class="bound">M</span><span class="main">,</span><span class="main">λ</span><span class="bound">t</span><span class="main">.</span> <span class="bound">N</span><span class="main">`</span><span class="bound">t</span><span class="main">)</span> <span class="main">∧</span> <span class="main">(</span><span class="main">∀</span><span class="bound">t</span><span class="main">∈</span><span class="bound">M</span><span class="main">.</span> <span class="bound">f</span><span class="main">`</span><span class="bound">t</span><span class="main">∈</span><span class="bound">N</span><span class="main">`</span><span class="bound">t</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span> 
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="keyword1">{the</span> <span class="keyword1">axiom</span> <span class="keyword1">of}</span> <span class="main">0</span> <span class="keyword1">{choice</span> <span class="keyword1">holds}</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> AxiomCardinalChoiceGen_def nat_into_Card 
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span> 
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span>
    <span class="keyword3"><span class="command">assume</span></span> as<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span>nat"</span></span> <span class="quoted"><span class="quoted">"<span class="keyword1">{the</span> <span class="keyword1">axiom</span> <span class="keyword1">of}</span> <span class="skolem">x</span> <span class="keyword1">{choice</span> <span class="keyword1">holds}</span>"</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">M</span> <span class="skolem">N</span> <span class="keyword3"><span class="command">assume</span></span> ass<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span><span class="main">≲</span>succ<span class="main">(</span><span class="skolem">x</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">t</span><span class="main">∈</span><span class="skolem">M</span><span class="main">.</span> <span class="skolem">N</span><span class="main">`</span><span class="bound">t</span><span class="main">≠</span><span class="main">0</span>"</span></span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span><span class="main">≲</span><span class="skolem">x</span>"</span></span>
        <span class="keyword1"><span class="command">from</span></span> as<span class="main">(</span>2<span class="main">)</span> ass<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> 
          <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="skolem">M</span> <span class="main">≲</span> <span class="skolem">x</span> <span class="main">∧</span> <span class="main">(</span><span class="main">∀</span><span class="bound">t</span><span class="main">∈</span><span class="skolem">M</span><span class="main">.</span> <span class="skolem">N</span> <span class="main">`</span> <span class="bound">t</span> <span class="main">≠</span> <span class="main">0</span><span class="main">)</span><span class="main">)</span> <span class="main">⟶</span> <span class="main">(</span><span class="main">∃</span><span class="bound">f</span><span class="main">.</span> <span class="bound">f</span> <span class="main">∈</span> Pi<span class="main">(</span><span class="skolem">M</span><span class="main">,</span><span class="main">λ</span><span class="bound">t</span><span class="main">.</span> <span class="skolem">N</span> <span class="main">`</span> <span class="bound">t</span><span class="main">)</span> <span class="main">∧</span> <span class="main">(</span><span class="main">∀</span><span class="bound">t</span><span class="main">∈</span><span class="skolem">M</span><span class="main">.</span> <span class="bound">f</span> <span class="main">`</span> <span class="bound">t</span> <span class="main">∈</span> <span class="skolem">N</span> <span class="main">`</span> <span class="bound">t</span><span class="main">)</span><span class="main">)</span>"</span></span> 
            <span class="keyword1"><span class="command">unfolding</span></span> AxiomCardinalChoiceGen_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">M</span><span class="main">≲</span><span class="skolem">x</span>›</span></span> ass<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">∃</span><span class="bound">f</span><span class="main">.</span> <span class="bound">f</span> <span class="main">∈</span> Pi<span class="main">(</span><span class="skolem">M</span><span class="main">,</span><span class="main">λ</span><span class="bound">t</span><span class="main">.</span> <span class="skolem">N</span> <span class="main">`</span> <span class="bound">t</span><span class="main">)</span> <span class="main">∧</span> <span class="main">(</span><span class="main">∀</span><span class="bound">t</span><span class="main">∈</span><span class="skolem">M</span><span class="main">.</span> <span class="bound">f</span> <span class="main">`</span> <span class="bound">t</span> <span class="main">∈</span> <span class="skolem">N</span> <span class="main">`</span> <span class="bound">t</span><span class="main">)</span><span class="main">)</span>"</span></span> 
          <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span><span class="main">≈</span>succ<span class="main">(</span><span class="skolem">x</span><span class="main">)</span>"</span></span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">f</span></span> <span class="keyword2"><span class="keyword">where</span></span> f<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">∈</span>bij<span class="main">(</span>succ<span class="main">(</span><span class="skolem">x</span><span class="main">)</span><span class="main">,</span><span class="skolem">M</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> eqpoll_sym eqpoll_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span> 
        <span class="keyword1"><span class="command">moreover</span></span>
        <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span>succ<span class="main">(</span><span class="skolem">x</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> succ_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"restrict<span class="main">(</span><span class="skolem">f</span><span class="main">,</span>succ<span class="main">(</span><span class="skolem">x</span><span class="main">)</span><span class="main">-</span><span class="main">{</span><span class="skolem">x</span><span class="main">}</span><span class="main">)</span><span class="main">∈</span>bij<span class="main">(</span>succ<span class="main">(</span><span class="skolem">x</span><span class="main">)</span><span class="main">-</span><span class="main">{</span><span class="skolem">x</span><span class="main">}</span><span class="main">,</span><span class="skolem">M</span><span class="main">-</span><span class="main">{</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">}</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> bij_restrict_rem 
          <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> 
        <span class="keyword1"><span class="command">moreover</span></span>
        <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∉</span><span class="skolem">x</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> mem_not_refl <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"succ<span class="main">(</span><span class="skolem">x</span><span class="main">)</span><span class="main">-</span><span class="main">{</span><span class="skolem">x</span><span class="main">}</span><span class="main">=</span><span class="skolem">x</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> succ_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"restrict<span class="main">(</span><span class="skolem">f</span><span class="main">,</span><span class="skolem">x</span><span class="main">)</span><span class="main">∈</span>bij<span class="main">(</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">M</span><span class="main">-</span><span class="main">{</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">}</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">≈</span><span class="skolem">M</span><span class="main">-</span><span class="main">{</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> eqpoll_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span><span class="main">-</span><span class="main">{</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">}</span><span class="main">≈</span><span class="skolem">x</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> eqpoll_sym <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span><span class="main">-</span><span class="main">{</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">}</span><span class="main">≲</span><span class="skolem">x</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> eqpoll_imp_lepoll <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">with</span></span> as<span class="main">(</span>2<span class="main">)</span> ass<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">∃</span><span class="bound">g</span><span class="main">.</span> <span class="bound">g</span> <span class="main">∈</span> Pi<span class="main">(</span><span class="skolem">M</span><span class="main">-</span><span class="main">{</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">}</span><span class="main">,</span><span class="main">λ</span><span class="bound">t</span><span class="main">.</span> <span class="skolem">N</span> <span class="main">`</span> <span class="bound">t</span><span class="main">)</span> <span class="main">∧</span> <span class="main">(</span><span class="main">∀</span><span class="bound">t</span><span class="main">∈</span><span class="skolem">M</span><span class="main">-</span><span class="main">{</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">}</span><span class="main">.</span> <span class="bound">g</span> <span class="main">`</span> <span class="bound">t</span> <span class="main">∈</span> <span class="skolem">N</span> <span class="main">`</span> <span class="bound">t</span><span class="main">)</span><span class="main">)</span>"</span></span> 
          <span class="keyword1"><span class="command">unfolding</span></span> AxiomCardinalChoiceGen_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">g</span></span> <span class="keyword2"><span class="keyword">where</span></span> g<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">g</span><span class="main">∈</span> Pi<span class="main">(</span><span class="skolem">M</span><span class="main">-</span><span class="main">{</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">}</span><span class="main">,</span><span class="main">λ</span><span class="bound">t</span><span class="main">.</span> <span class="skolem">N</span> <span class="main">`</span> <span class="bound">t</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">t</span><span class="main">∈</span><span class="skolem">M</span><span class="main">-</span><span class="main">{</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">}</span><span class="main">.</span> <span class="skolem">g</span> <span class="main">`</span> <span class="bound">t</span> <span class="main">∈</span> <span class="skolem">N</span> <span class="main">`</span> <span class="bound">t</span>"</span></span> 
          <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">from</span></span> f <span class="keyword1"><span class="command">have</span></span> ff<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">∈</span><span class="skolem">M</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> bij_def inj_def apply_funtype <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">with</span></span> ass<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">N</span><span class="main">`</span><span class="main">(</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">)</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">y</span></span> <span class="keyword2"><span class="keyword">where</span></span> y<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">∈</span><span class="skolem">N</span><span class="main">`</span><span class="main">(</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">from</span></span> g<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> gg<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">g</span><span class="main">⊆</span>Sigma<span class="main">(</span><span class="skolem">M</span><span class="main">-</span><span class="main">{</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">}</span><span class="main">,</span><span class="main">(`)</span><span class="main">(</span><span class="skolem">N</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> Pi_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">with</span></span> y ff <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">g</span> <span class="main">∪</span><span class="main">{</span><span class="main">⟨</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">,</span> <span class="skolem">y</span><span class="main">⟩</span><span class="main">}</span><span class="main">⊆</span>Sigma<span class="main">(</span><span class="skolem">M</span><span class="main">,</span> <span class="main">(`)</span><span class="main">(</span><span class="skolem">N</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> Sigma_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> 
        <span class="keyword1"><span class="command">moreover</span></span>
        <span class="keyword1"><span class="command">from</span></span> g<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> dom<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span><span class="main">-</span><span class="main">{</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">}</span><span class="main">⊆</span>domain<span class="main">(</span><span class="skolem">g</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> Pi_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">M</span><span class="main">⊆</span>domain<span class="main">(</span><span class="skolem">g</span> <span class="main">∪</span><span class="main">{</span><span class="main">⟨</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">,</span> <span class="skolem">y</span><span class="main">⟩</span><span class="main">}</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> domain_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> 
        <span class="keyword1"><span class="command">moreover</span></span>
        <span class="keyword1"><span class="command">from</span></span> gg g<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> noe<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">~</span><span class="main">(</span><span class="main">∃</span><span class="bound">t</span><span class="main">.</span> <span class="main">⟨</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">,</span><span class="bound">t</span><span class="main">⟩</span><span class="main">∈</span><span class="skolem">g</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"function<span class="main">(</span><span class="skolem">g</span><span class="main">)</span>"</span></span>
          <span class="keyword1"><span class="command">unfolding</span></span> domain_def Pi_def Sigma_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>  
        <span class="keyword1"><span class="command">with</span></span> dom <span class="keyword1"><span class="command">have</span></span> fg<span class="main">:</span> <span class="quoted"><span class="quoted">"function<span class="main">(</span><span class="skolem">g</span> <span class="main">∪</span><span class="main">{</span><span class="main">⟨</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">,</span> <span class="skolem">y</span><span class="main">⟩</span><span class="main">}</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> function_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span> 
        <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> PP<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">g</span> <span class="main">∪</span><span class="main">{</span><span class="main">⟨</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">,</span> <span class="skolem">y</span><span class="main">⟩</span><span class="main">}</span><span class="main">∈</span>Pi<span class="main">(</span><span class="skolem">M</span><span class="main">,</span><span class="main">λ</span><span class="bound">t</span><span class="main">.</span> <span class="skolem">N</span> <span class="main">`</span> <span class="bound">t</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> Pi_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">,</span> <span class="skolem">y</span><span class="main">⟩</span> <span class="main">∈</span> <span class="skolem">g</span> <span class="main">∪</span><span class="main">{</span><span class="main">⟨</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">,</span> <span class="skolem">y</span><span class="main">⟩</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">from</span></span> this fg <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="skolem">g</span> <span class="main">∪</span><span class="main">{</span><span class="main">⟨</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">,</span> <span class="skolem">y</span><span class="main">⟩</span><span class="main">}</span><span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">)</span><span class="main">=</span><span class="skolem">y</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> function_apply_equality<span class="main">)</span>
        <span class="keyword1"><span class="command">with</span></span> y <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="skolem">g</span> <span class="main">∪</span><span class="main">{</span><span class="main">⟨</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">,</span> <span class="skolem">y</span><span class="main">⟩</span><span class="main">}</span><span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">)</span><span class="main">∈</span><span class="skolem">N</span><span class="main">`</span><span class="main">(</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> 
        <span class="keyword1"><span class="command">moreover</span></span>
        <span class="keyword1"><span class="command">{</span></span>
          <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">t</span> <span class="keyword3"><span class="command">assume</span></span> A<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">t</span><span class="main">∈</span><span class="skolem">M</span><span class="main">-</span><span class="main">{</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">}</span>"</span></span>
          <span class="keyword1"><span class="command">with</span></span> g<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">t</span><span class="main">,</span><span class="skolem">g</span><span class="main">`</span><span class="skolem">t</span><span class="main">⟩</span><span class="main">∈</span><span class="skolem">g</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> apply_Pair <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">t</span><span class="main">,</span><span class="skolem">g</span><span class="main">`</span><span class="skolem">t</span><span class="main">⟩</span><span class="main">∈</span><span class="main">(</span><span class="skolem">g</span> <span class="main">∪</span><span class="main">{</span><span class="main">⟨</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">,</span> <span class="skolem">y</span><span class="main">⟩</span><span class="main">}</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="skolem">g</span> <span class="main">∪</span><span class="main">{</span><span class="main">⟨</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">,</span> <span class="skolem">y</span><span class="main">⟩</span><span class="main">}</span><span class="main">)</span><span class="main">`</span><span class="skolem">t</span><span class="main">=</span><span class="skolem">g</span><span class="main">`</span><span class="skolem">t</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> apply_equality PP <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">with</span></span> A <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="skolem">g</span> <span class="main">∪</span><span class="main">{</span><span class="main">⟨</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">,</span> <span class="skolem">y</span><span class="main">⟩</span><span class="main">}</span><span class="main">)</span><span class="main">`</span><span class="skolem">t</span><span class="main">∈</span><span class="skolem">N</span><span class="main">`</span><span class="skolem">t</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> g<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">}</span></span>
        <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">t</span><span class="main">∈</span><span class="skolem">M</span><span class="main">.</span> <span class="main">(</span><span class="skolem">g</span> <span class="main">∪</span><span class="main">{</span><span class="main">⟨</span><span class="skolem">f</span><span class="main">`</span><span class="skolem">x</span><span class="main">,</span> <span class="skolem">y</span><span class="main">⟩</span><span class="main">}</span><span class="main">)</span><span class="main">`</span><span class="bound">t</span><span class="main">∈</span><span class="skolem">N</span><span class="main">`</span><span class="bound">t</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">with</span></span> PP <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">g</span><span class="main">.</span> <span class="bound">g</span><span class="main">∈</span>Pi<span class="main">(</span><span class="skolem">M</span><span class="main">,</span><span class="main">λ</span><span class="bound">t</span><span class="main">.</span> <span class="skolem">N</span> <span class="main">`</span> <span class="bound">t</span><span class="main">)</span> <span class="main">∧</span> <span class="main">(</span><span class="main">∀</span><span class="bound">t</span><span class="main">∈</span><span class="skolem">M</span><span class="main">.</span> <span class="bound">g</span><span class="main">`</span><span class="bound">t</span><span class="main">∈</span><span class="skolem">N</span><span class="main">`</span><span class="bound">t</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">g</span><span class="main">.</span> <span class="bound">g</span> <span class="main">∈</span> Pi<span class="main">(</span><span class="skolem">M</span><span class="main">,</span> <span class="main">λ</span><span class="bound">t</span><span class="main">.</span> <span class="skolem">N</span><span class="main">`</span><span class="bound">t</span><span class="main">)</span> <span class="main">∧</span> <span class="main">(</span><span class="main">∀</span><span class="bound">t</span><span class="main">∈</span><span class="skolem">M</span><span class="main">.</span> <span class="bound">g</span> <span class="main">`</span> <span class="bound">t</span> <span class="main">∈</span> <span class="skolem">N</span> <span class="main">`</span> <span class="bound">t</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> as<span class="main">(</span>1<span class="main">)</span> ass<span class="main">(</span>1<span class="main">)</span>
      lepoll_succ_disj <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">M</span> <span class="bound">N</span><span class="main">.</span> <span class="bound">M</span> <span class="main">≲</span> succ<span class="main">(</span><span class="skolem">x</span><span class="main">)</span><span class="main">∧</span><span class="main">(</span><span class="main">∀</span><span class="bound">t</span><span class="main">∈</span><span class="bound">M</span><span class="main">.</span> <span class="bound">N</span><span class="main">`</span><span class="bound">t</span><span class="main">≠</span><span class="main">0</span><span class="main">)</span><span class="main">⟶</span><span class="main">(</span><span class="main">∃</span><span class="bound">g</span><span class="main">.</span> <span class="bound">g</span> <span class="main">∈</span> Pi<span class="main">(</span><span class="bound">M</span><span class="main">,</span><span class="main">λ</span><span class="bound">t</span><span class="main">.</span> <span class="bound">N</span> <span class="main">`</span> <span class="bound">t</span><span class="main">)</span> <span class="main">∧</span> <span class="main">(</span><span class="main">∀</span><span class="bound">t</span><span class="main">∈</span><span class="bound">M</span><span class="main">.</span> <span class="bound">g</span> <span class="main">`</span> <span class="bound">t</span> <span class="main">∈</span> <span class="bound">N</span> <span class="main">`</span> <span class="bound">t</span><span class="main">)</span><span class="main">)</span>"</span></span> 
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="keyword1">{the</span> <span class="keyword1">axiom</span> <span class="keyword1">of}</span>succ<span class="main">(</span><span class="skolem">x</span><span class="main">)</span><span class="keyword1">{choice</span> <span class="keyword1">holds}</span>"</span></span> 
      <span class="keyword1"><span class="command">using</span></span> AxiomCardinalChoiceGen_def nat_into_Card as<span class="main">(</span>1<span class="main">)</span> nat_succI <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> nat_induct<span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The axiom of choice holds if and only if the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>AxiomCardinalChoice›</span></span></span></span>
holds for every couple of a cardinal <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>Q›</span></span></span></span> and a set <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>K›</span></span></span></span>.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> choice_subset_imp_choice<span class="main">:</span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="keyword1">{the</span> <span class="keyword1">axiom</span> <span class="keyword1">of}</span> <span class="free">Q</span> <span class="keyword1">{choice</span> <span class="keyword1">holds}</span> <span class="main">⟷</span> <span class="main">(</span><span class="main">∀</span> <span class="bound">K</span><span class="main">.</span> <span class="keyword1">{the</span> <span class="keyword1">axiom</span> <span class="keyword1">of}</span> <span class="free">Q</span> <span class="keyword1">{choice</span> <span class="keyword1">holds</span> <span class="keyword1">for</span> <span class="keyword1">subsets}</span><span class="bound">K</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">unfolding</span></span> AxiomCardinalChoice_def AxiomCardinalChoiceGen_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹A choice axiom for greater cardinality implies one for 
smaller cardinality›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> greater_choice_imp_smaller_choice<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">Q</span><span class="main">≲</span><span class="free">Q1</span>"</span></span> <span class="quoted"><span class="quoted">"Card<span class="main">(</span><span class="free">Q</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="keyword1">{the</span> <span class="keyword1">axiom</span> <span class="keyword1">of}</span> <span class="free">Q1</span> <span class="keyword1">{choice</span> <span class="keyword1">holds}</span> <span class="main">⟶</span> <span class="main">(</span><span class="keyword1">{the</span> <span class="keyword1">axiom</span> <span class="keyword1">of}</span> <span class="free">Q</span> <span class="keyword1">{choice</span> <span class="keyword1">holds}</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms
  AxiomCardinalChoiceGen_def lepoll_trans <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>   

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹If we have a surjective function from a set which is injective to a set 
  of ordinals, then we can find an injection which goes the other way.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> surj_fun_inv<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span> <span class="main">∈</span> surj<span class="main">(</span><span class="free">A</span><span class="main">,</span><span class="free">B</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">⊆</span><span class="free">Q</span>"</span></span> <span class="quoted"><span class="quoted">"Ord<span class="main">(</span><span class="free">Q</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">B</span><span class="main">≲</span><span class="free">A</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?g</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="main">⟨</span><span class="bound">m</span><span class="main">,</span><span class="keyword1">μ</span> <span class="bound">j</span><span class="main">.</span> <span class="bound">j</span><span class="main">∈</span><span class="free">A</span> <span class="main">∧</span> <span class="free">f</span><span class="main">`</span><span class="main">(</span><span class="bound">j</span><span class="main">)</span><span class="main">=</span><span class="bound">m</span><span class="main">⟩</span><span class="main">.</span> <span class="bound">m</span><span class="main">∈</span><span class="free">B</span><span class="main">}</span>"</span></span> 
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?g</span><span class="main">:</span><span class="free">B</span><span class="main">→</span>range<span class="main">(</span><span class="var">?g</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lam_is_fun_range <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> fun<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="var">?g</span><span class="main">:</span><span class="free">B</span><span class="main">→</span><span class="var">?g</span><span class="main">``</span><span class="main">(</span><span class="free">B</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> range_image_domain <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>2<span class="main">,</span>3<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> OA<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">j</span><span class="main">∈</span><span class="free">A</span><span class="main">.</span> Ord<span class="main">(</span><span class="bound">j</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lt_def Ord_in_Ord <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span>
    <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="var">?g</span><span class="main">``</span><span class="main">(</span><span class="free">B</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span>range<span class="main">(</span><span class="var">?g</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">y</span><span class="main">∈</span><span class="free">B</span><span class="main">.</span> <span class="main">⟨</span><span class="bound">y</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∈</span><span class="var">?g</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">y</span></span> <span class="keyword2"><span class="keyword">where</span></span> T<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">=</span><span class="main">(</span><span class="keyword1">μ</span> <span class="bound">j</span><span class="main">.</span> <span class="bound">j</span><span class="main">∈</span><span class="free">A</span><span class="main">∧</span> <span class="free">f</span><span class="main">`</span><span class="main">(</span><span class="bound">j</span><span class="main">)</span><span class="main">=</span><span class="skolem">y</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">∈</span><span class="free">B</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>1<span class="main">)</span> OA <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">z</span></span> <span class="keyword2"><span class="keyword">where</span></span> P<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="free">A</span> <span class="main">∧</span> <span class="free">f</span><span class="main">`</span><span class="main">(</span><span class="skolem">z</span><span class="main">)</span><span class="main">=</span><span class="skolem">y</span>"</span></span> <span class="quoted"><span class="quoted">"Ord<span class="main">(</span><span class="skolem">z</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> surj_def 
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> T <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="free">A</span> <span class="main">∧</span> <span class="free">f</span><span class="main">`</span><span class="main">(</span><span class="skolem">x</span><span class="main">)</span><span class="main">=</span><span class="skolem">y</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> LeastI <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>  
    <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="free">A</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?g</span><span class="main">``</span><span class="main">(</span><span class="free">B</span><span class="main">)</span> <span class="main">⊆</span> <span class="free">A</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> fun <span class="keyword1"><span class="command">have</span></span> fun2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="var">?g</span><span class="main">:</span><span class="free">B</span><span class="main">→</span><span class="free">A</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> fun_weaken_type <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?g</span><span class="main">∈</span>inj<span class="main">(</span><span class="free">B</span><span class="main">,</span><span class="free">A</span><span class="main">)</span>"</span></span> 
  <span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">w</span> <span class="skolem">x</span>
      <span class="keyword3"><span class="command">assume</span></span> AS<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="var">?g</span><span class="main">`</span><span class="skolem">w</span><span class="main">=</span><span class="var">?g</span><span class="main">`</span><span class="skolem">x</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">w</span><span class="main">∈</span><span class="free">B</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="free">B</span>"</span></span>
      <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>1<span class="main">)</span> OA AS<span class="main">(</span>2<span class="main">,</span>3<span class="main">)</span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">wz</span></span> <span class="skolem"><span class="skolem">xz</span></span> <span class="keyword2"><span class="keyword">where</span></span> 
        P1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">wz</span><span class="main">∈</span><span class="free">A</span> <span class="main">∧</span> <span class="free">f</span><span class="main">`</span><span class="main">(</span><span class="skolem">wz</span><span class="main">)</span><span class="main">=</span><span class="skolem">w</span>"</span></span>  <span class="quoted"><span class="quoted">"Ord<span class="main">(</span><span class="skolem">wz</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> P2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">xz</span><span class="main">∈</span><span class="free">A</span> <span class="main">∧</span> <span class="free">f</span><span class="main">`</span><span class="main">(</span><span class="skolem">xz</span><span class="main">)</span><span class="main">=</span><span class="skolem">x</span>"</span></span>  <span class="quoted"><span class="quoted">"Ord<span class="main">(</span><span class="skolem">xz</span><span class="main">)</span>"</span></span> 
        <span class="keyword1"><span class="command">unfolding</span></span> surj_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">from</span></span> P1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="keyword1">μ</span> <span class="bound">j</span><span class="main">.</span> <span class="bound">j</span><span class="main">∈</span><span class="free">A</span><span class="main">∧</span> <span class="free">f</span><span class="main">`</span><span class="bound">j</span><span class="main">=</span><span class="skolem">w</span><span class="main">)</span> <span class="main">∈</span> <span class="free">A</span> <span class="main">∧</span> <span class="free">f</span><span class="main">`</span><span class="main">(</span><span class="keyword1">μ</span> <span class="bound">j</span><span class="main">.</span> <span class="bound">j</span><span class="main">∈</span><span class="free">A</span><span class="main">∧</span> <span class="free">f</span><span class="main">`</span><span class="bound">j</span><span class="main">=</span><span class="skolem">w</span><span class="main">)</span><span class="main">=</span><span class="skolem">w</span>"</span></span> 
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> LeastI<span class="main">)</span>
      <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> P2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="keyword1">μ</span> <span class="bound">j</span><span class="main">.</span> <span class="bound">j</span><span class="main">∈</span><span class="free">A</span><span class="main">∧</span> <span class="free">f</span><span class="main">`</span><span class="bound">j</span><span class="main">=</span><span class="skolem">x</span><span class="main">)</span> <span class="main">∈</span> <span class="free">A</span> <span class="main">∧</span> <span class="free">f</span><span class="main">`</span><span class="main">(</span><span class="keyword1">μ</span> <span class="bound">j</span><span class="main">.</span> <span class="bound">j</span><span class="main">∈</span><span class="free">A</span><span class="main">∧</span> <span class="free">f</span><span class="main">`</span><span class="bound">j</span><span class="main">=</span><span class="skolem">x</span><span class="main">)</span><span class="main">=</span><span class="skolem">x</span>"</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> LeastI<span class="main">)</span> 
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> R<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">`</span><span class="main">(</span><span class="keyword1">μ</span> <span class="bound">j</span><span class="main">.</span> <span class="bound">j</span><span class="main">∈</span><span class="free">A</span><span class="main">∧</span> <span class="free">f</span><span class="main">`</span><span class="bound">j</span><span class="main">=</span><span class="skolem">w</span><span class="main">)</span><span class="main">=</span><span class="skolem">w</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">`</span><span class="main">(</span><span class="keyword1">μ</span> <span class="bound">j</span><span class="main">.</span> <span class="bound">j</span><span class="main">∈</span><span class="free">A</span><span class="main">∧</span> <span class="free">f</span><span class="main">`</span><span class="bound">j</span><span class="main">=</span><span class="skolem">x</span><span class="main">)</span><span class="main">=</span><span class="skolem">x</span>"</span></span> 
        <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">from</span></span> AS <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="keyword1">μ</span> <span class="bound">j</span><span class="main">.</span> <span class="bound">j</span><span class="main">∈</span><span class="free">A</span><span class="main">∧</span> <span class="free">f</span><span class="main">`</span><span class="main">(</span><span class="bound">j</span><span class="main">)</span><span class="main">=</span><span class="skolem">w</span><span class="main">)</span><span class="main">=</span><span class="main">(</span><span class="keyword1">μ</span> <span class="bound">j</span><span class="main">.</span> <span class="bound">j</span><span class="main">∈</span><span class="free">A</span> <span class="main">∧</span> <span class="free">f</span><span class="main">`</span><span class="main">(</span><span class="bound">j</span><span class="main">)</span><span class="main">=</span><span class="skolem">x</span><span class="main">)</span>"</span></span> 
        <span class="keyword1"><span class="command">using</span></span> apply_equality fun2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">`</span><span class="main">(</span><span class="keyword1">μ</span> <span class="bound">j</span><span class="main">.</span> <span class="bound">j</span><span class="main">∈</span><span class="free">A</span> <span class="main">∧</span> <span class="free">f</span><span class="main">`</span><span class="main">(</span><span class="bound">j</span><span class="main">)</span><span class="main">=</span><span class="skolem">w</span><span class="main">)</span> <span class="main">=</span> <span class="free">f</span><span class="main">`</span><span class="main">(</span><span class="keyword1">μ</span> <span class="bound">j</span><span class="main">.</span> <span class="bound">j</span><span class="main">∈</span><span class="free">A</span> <span class="main">∧</span> <span class="free">f</span><span class="main">`</span><span class="main">(</span><span class="bound">j</span><span class="main">)</span><span class="main">=</span><span class="skolem">x</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> R<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">w</span> <span class="main">=</span> <span class="free">f</span><span class="main">`</span><span class="main">(</span><span class="keyword1">μ</span> <span class="bound">j</span><span class="main">.</span> <span class="bound">j</span><span class="main">∈</span><span class="free">A</span><span class="main">∧</span> <span class="free">f</span><span class="main">`</span><span class="bound">j</span><span class="main">=</span><span class="skolem">x</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> R<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">w</span><span class="main">=</span><span class="skolem">x</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">w</span><span class="main">∈</span><span class="free">B</span><span class="main">.</span> <span class="main">∀</span><span class="bound">x</span><span class="main">∈</span><span class="free">B</span><span class="main">.</span> <span class="var">?g</span><span class="main">`</span><span class="main">(</span><span class="bound">w</span><span class="main">)</span> <span class="main">=</span> <span class="var">?g</span><span class="main">`</span><span class="main">(</span><span class="bound">x</span><span class="main">)</span> <span class="main">⟶</span> <span class="bound">w</span> <span class="main">=</span> <span class="bound">x</span>"</span></span> 
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> 
    <span class="keyword1"><span class="command">with</span></span> fun2 <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="var">?g</span><span class="main">∈</span>inj<span class="main">(</span><span class="free">B</span><span class="main">,</span><span class="free">A</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> inj_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>     
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">unfolding</span></span> lepoll_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The difference with the previous result is that in this one
<span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>A›</span></span></span></span> is not a subset of an ordinal, it is only injective
with one.›</span></span>

<span class="keyword1"><span class="command">theorem</span></span> surj_fun_inv_2<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main">:</span>surj<span class="main">(</span><span class="free">A</span><span class="main">,</span><span class="free">B</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">≲</span><span class="free">Q</span>"</span></span> <span class="quoted"><span class="quoted">"Ord<span class="main">(</span><span class="free">Q</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">B</span><span class="main">≲</span><span class="free">A</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>2<span class="main">)</span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">h</span></span> <span class="keyword2"><span class="keyword">where</span></span> h_def<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">h</span><span class="main">∈</span>inj<span class="main">(</span><span class="free">A</span><span class="main">,</span><span class="free">Q</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lepoll_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> bij<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">h</span><span class="main">∈</span>bij<span class="main">(</span><span class="free">A</span><span class="main">,</span>range<span class="main">(</span><span class="skolem">h</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> inj_bij_range <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">h1</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">h1</span><span class="main">∈</span>bij<span class="main">(</span>range<span class="main">(</span><span class="skolem">h</span><span class="main">)</span><span class="main">,</span><span class="free">A</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> bij_converse_bij <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">h1</span> <span class="main">∈</span> surj<span class="main">(</span>range<span class="main">(</span><span class="skolem">h</span><span class="main">)</span><span class="main">,</span><span class="free">A</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> bij_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">f</span> <span class="keyword1">O</span> <span class="skolem">h1</span><span class="main">)</span><span class="main">∈</span>surj<span class="main">(</span>range<span class="main">(</span><span class="skolem">h</span><span class="main">)</span><span class="main">,</span><span class="free">B</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> comp_surj <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span>
    <span class="keyword3"><span class="command">assume</span></span> p<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span>range<span class="main">(</span><span class="skolem">h</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">from</span></span> bij <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">h</span><span class="main">∈</span>surj<span class="main">(</span><span class="free">A</span><span class="main">,</span>range<span class="main">(</span><span class="skolem">h</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> bij_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> p <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">q</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">q</span><span class="main">∈</span><span class="free">A</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">h</span><span class="main">`</span><span class="main">(</span><span class="skolem">q</span><span class="main">)</span><span class="main">=</span><span class="skolem">x</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> surj_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="free">Q</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> h_def inj_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"range<span class="main">(</span><span class="skolem">h</span><span class="main">)</span><span class="main">⊆</span><span class="free">Q</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">B</span><span class="main">≲</span>range<span class="main">(</span><span class="skolem">h</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> surj_fun_inv assms<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"range<span class="main">(</span><span class="skolem">h</span><span class="main">)</span><span class="main">≈</span><span class="free">A</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> bij eqpoll_def eqpoll_sym <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">B</span><span class="main">≲</span><span class="free">A</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lepoll_eq_trans <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>


<span class="keyword2"><span class="keyword">end</span></span>
</pre>
</body>

</html>