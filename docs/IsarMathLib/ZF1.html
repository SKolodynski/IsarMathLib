<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory ZF1</title>
</head>


<body>
<div class="head">
<h1>Theory ZF1</h1>
</div>

<pre class="source"><span class="comment1"><span>(</span><span>*</span><span> 
    This file is a part of IsarMathLib - 
    a library of formalized mathematics written for Isabelle/Isar.

    Copyright (C) 2005-2019  Slawomir Kolodynski

    This program is free software Redistribution and use in source and binary forms, 
    with or without modification, are permitted provided that the following conditions are met:

   1. Redistributions of source code must retain the above copyright notice, 
   this list of conditions and the following disclaimer.
   2. Redistributions in binary form must reproduce the above copyright notice, 
   this list of conditions and the following disclaimer in the documentation and/or 
   other materials provided with the distribution.
   3. The name of the author may not be used to endorse or promote products 
   derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED WARRANTIES,
INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT,
INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES LOSS OF USE, DATA, OR PROFITS OR
BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE
USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

</span><span>*</span><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>ZF set theory basics</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><span>ZF1</span><span> </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="../../ZF/ZF/Perm.html"><span>ZF.Perm</span></a><span>

</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>The standard Isabelle distribution contains lots of facts about basic set
</span><span>  theory. This theory file adds some more.</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>Lemmas in Zermelo-Fraenkel set theory</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>Here we put lemmas from the set theory that we could not find in 
</span><span>the standard Isabelle distribution.</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>If one collection is contained in another, then we can say the same
</span><span>  about their unions.</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_2006..2011">lemma</span></span></span><span> </span><span class="entity_def" id="ZF1.collection_contain|fact"><span class="entity_def" id="ZF1.collection_contain|thm"><span>collection_contain</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span class="main"><span>⊆</span></span><span class="free"><span>B</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋃</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><span>⊆</span></span><span> </span><span class="main"><span>⋃</span></span><span class="free"><span>B</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="main"><span>⋃</span></span><span class="free"><span>A</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>X</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span class="main"><span>∈</span></span><span class="skolem"><span>X</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>X</span></span><span class="main"><span>∈</span></span><span class="free"><span>A</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="ZF1.html#offset_2006..2011"><span>assms</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="main"><span>⋃</span></span><span class="free"><span>B</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>If all sets of a nonempty collection are the same, then its union 
</span><span>  is the same.</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_2268..2273">lemma</span></span></span><span> </span><span class="entity_def" id="ZF1.ZF1_1_L1|fact"><span class="entity_def" id="ZF1.ZF1_1_L1|thm"><span>ZF1_1_L1</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>C</span></span><span class="main"><span>≠</span></span><span class="main"><span>0</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∀</span></span><span class="bound"><span>y</span></span><span class="main"><span>∈</span></span><span class="free"><span>C</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>(</span></span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>⋃</span></span><span class="bound"><span>y</span></span><span class="main"><span>∈</span></span><span class="free"><span>C</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>(</span></span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="ZF1.html#offset_2268..2273"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>The union af all values of a constant meta-function belongs to 
</span><span>the same set as the constant.</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="ZF1.ZF1_1_L2|fact"><span class="entity_def" id="ZF1.ZF1_1_L2|thm"><span>ZF1_1_L2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_2496..2498">A1</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>C</span></span><span class="main"><span>≠</span></span><span class="main"><span>0</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_2509..2511">A2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∀</span></span><span class="bound"><span>x</span></span><span class="main"><span>∈</span></span><span class="free"><span>C</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_2537..2539">A3</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∀</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>∈</span></span><span class="free"><span>C</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>∈</span></span><span class="free"><span>C</span></span><span> </span><span class="main"><span>⟶</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>(</span></span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>⋃</span></span><span class="bound"><span>x</span></span><span class="main"><span>∈</span></span><span class="free"><span>C</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>∈</span></span><span class="free"><span>A</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="ZF1.html#offset_2496..2498"><span>A1</span></a><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_2631..2633">D1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span class="main"><span>∈</span></span><span class="free"><span>C</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="ZF1.html#offset_2537..2539"><span>A3</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∀</span></span><span class="bound"><span>y</span></span><span class="main"><span>∈</span></span><span class="free"><span>C</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>(</span></span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="ZF1.html#offset_2496..2498"><span>A1</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>⋃</span></span><span class="bound"><span>y</span></span><span class="main"><span>∈</span></span><span class="free"><span>C</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>(</span></span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="ZF1.html#ZF1.ZF1_1_L1|fact"><span>ZF1_1_L1</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="ZF1.html#offset_2631..2633"><span>D1</span></a><span> </span><a class="entity_ref" href="ZF1.html#offset_2509..2511"><span>A2</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>If two meta-functions are the same on a cartesian product,
</span><span>  then the subsets defined by them are the same. I am surprised Isabelle
</span><span>  can not handle this automatically.</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="ZF1.ZF1_1_L4|fact"><span class="entity_def" id="ZF1.ZF1_1_L4|thm"><span>ZF1_1_L4</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_2997..2999">A1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∀</span></span><span class="bound"><span>x</span></span><span class="main"><span>∈</span></span><span class="free"><span>X</span></span><span class="main"><span>.</span></span><span class="main"><span>∀</span></span><span class="bound"><span>y</span></span><span class="main"><span>∈</span></span><span class="free"><span>Y</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span class="free"><span>a</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>⟨</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="bound"><span>y</span></span><span class="main"><span>⟩</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>X</span></span><span class="main"><span>×</span></span><span class="free"><span>Y</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>b</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>⟨</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="bound"><span>y</span></span><span class="main"><span>⟩</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>X</span></span><span class="main"><span>×</span></span><span class="free"><span>Y</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span class="free"><span>a</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>⟨</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="bound"><span>y</span></span><span class="main"><span>⟩</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><span>×</span></span><span> </span><span class="free"><span>Y</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>⊆</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>b</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>⟨</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="bound"><span>y</span></span><span class="main"><span>⟩</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><span>×</span></span><span> </span><span class="free"><span>Y</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>z</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>z</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>a</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><span>⟨</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="bound"><span>y</span></span><span class="main"><span>⟩</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><span>×</span></span><span> </span><span class="free"><span>Y</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="ZF1.html#offset_2997..2999"><span>A1</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>z</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>b</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span class="main"><span>⟨</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="bound"><span>y</span></span><span class="main"><span>⟩</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>X</span></span><span class="main"><span>×</span></span><span class="free"><span>Y</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>   
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span class="free"><span>b</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>⟨</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="bound"><span>y</span></span><span class="main"><span>⟩</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><span>×</span></span><span> </span><span class="free"><span>Y</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>⊆</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>a</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>⟨</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="bound"><span>y</span></span><span class="main"><span>⟩</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><span>×</span></span><span> </span><span class="free"><span>Y</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>z</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>z</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>b</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>⟨</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="bound"><span>y</span></span><span class="main"><span>⟩</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><span>×</span></span><span> </span><span class="free"><span>Y</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="ZF1.html#offset_2997..2999"><span>A1</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>z</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>a</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span class="main"><span>⟨</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="bound"><span>y</span></span><span class="main"><span>⟩</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>X</span></span><span class="main"><span>×</span></span><span class="free"><span>Y</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>If two meta-functions are the same on a cartesian product,
</span><span>  then the subsets defined by them are the same. 
</span><span>  This is similar to </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>ZF1_1_L4›</span></span></span><span>, except that
</span><span>  the set definition varies over </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>p∈X×Y›</span></span></span><span> rather than 
</span><span>  </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>⟨ x,y⟩∈X×Y›</span></span></span><span>.</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="ZF1.ZF1_1_L4A|fact"><span class="entity_def" id="ZF1.ZF1_1_L4A|thm"><span>ZF1_1_L4A</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_3708..3710">A1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∀</span></span><span class="bound"><span>x</span></span><span class="main"><span>∈</span></span><span class="free"><span>X</span></span><span class="main"><span>.</span></span><span class="main"><span>∀</span></span><span class="bound"><span>y</span></span><span class="main"><span>∈</span></span><span class="free"><span>Y</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>(</span></span><span class="main"><span>⟨</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="bound"><span>y</span></span><span class="main"><span>⟩</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span class="free"><span>a</span></span><span class="main"><span>(</span></span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>X</span></span><span class="main"><span>×</span></span><span class="free"><span>Y</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>b</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>⟨</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="bound"><span>y</span></span><span class="main"><span>⟩</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>X</span></span><span class="main"><span>×</span></span><span class="free"><span>Y</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span> </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>z</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>z</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>a</span></span><span class="main"><span>(</span></span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>∈</span></span><span class="free"><span>X</span></span><span class="main"><span>×</span></span><span class="free"><span>Y</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>p</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_3861..3863">D1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>z</span></span><span class="main"><span>=</span></span><span class="free"><span>a</span></span><span class="main"><span>(</span></span><span class="skolem"><span>p</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>p</span></span><span class="main"><span>∈</span></span><span class="free"><span>X</span></span><span class="main"><span>×</span></span><span class="free"><span>Y</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?x</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>fst</span><span class="main"><span>(</span></span><span class="skolem"><span>p</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?y</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>snd</span><span class="main"><span>(</span></span><span class="skolem"><span>p</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="ZF1.html#offset_3708..3710"><span>A1</span></a><span> </span><a class="entity_ref" href="ZF1.html#offset_3861..3863"><span>D1</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>z</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>b</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>⟨</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="bound"><span>y</span></span><span class="main"><span>⟩</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>X</span></span><span class="main"><span>×</span></span><span class="free"><span>Y</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>}</span></span></span><span> </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span class="free"><span>a</span></span><span class="main"><span>(</span></span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>X</span></span><span class="main"><span>×</span></span><span class="free"><span>Y</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>⊆</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>b</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>⟨</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="bound"><span>y</span></span><span class="main"><span>⟩</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>X</span></span><span class="main"><span>×</span></span><span class="free"><span>Y</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span> </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>z</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>z</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>b</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>⟨</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="bound"><span>y</span></span><span class="main"><span>⟩</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>X</span></span><span class="main"><span>×</span></span><span class="free"><span>Y</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>y</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_4128..4130">D1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟨</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span class="skolem"><span>y</span></span><span class="main"><span>⟩</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>X</span></span><span class="main"><span>×</span></span><span class="free"><span>Y</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>z</span></span><span class="main"><span>=</span></span><span class="free"><span>b</span></span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span class="skolem"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?p</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟨</span></span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span class="skolem"><span>y</span></span><span class="main"><span>⟩</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="ZF1.html#offset_3708..3710"><span>A1</span></a><span> </span><a class="entity_ref" href="ZF1.html#offset_4128..4130"><span>D1</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?p</span></span><span class="main"><span>∈</span></span><span class="free"><span>X</span></span><span class="main"><span>×</span></span><span class="free"><span>Y</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>z</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>(</span></span><span class="var"><span>?p</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>z</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>a</span></span><span class="main"><span>(</span></span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>X</span></span><span class="main"><span>×</span></span><span class="free"><span>Y</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>}</span></span></span><span> </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span class="free"><span>b</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>⟨</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="bound"><span>y</span></span><span class="main"><span>⟩</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>X</span></span><span class="main"><span>×</span></span><span class="free"><span>Y</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>⊆</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>a</span></span><span class="main"><span>(</span></span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>X</span></span><span class="main"><span>×</span></span><span class="free"><span>Y</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>A lemma about inclusion in cartesian products. Included here to remember
</span><span>  that we need the $U\times V \neq \emptyset$ assumption.</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_4489..4494">lemma</span></span></span><span> </span><span class="entity_def" id="ZF1.prod_subset|fact"><span class="entity_def" id="ZF1.prod_subset(2)|thm"><span class="entity_def" id="ZF1.prod_subset(1)|thm"><span>prod_subset</span></span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>U</span></span><span class="main"><span>×</span></span><span class="free"><span>V</span></span><span class="main"><span>≠</span></span><span class="main"><span>0</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>U</span></span><span class="main"><span>×</span></span><span class="free"><span>V</span></span><span> </span><span class="main"><span>⊆</span></span><span> </span><span class="free"><span>X</span></span><span class="main"><span>×</span></span><span class="free"><span>Y</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>U</span></span><span class="main"><span>⊆</span></span><span class="free"><span>X</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>V</span></span><span class="main"><span>⊆</span></span><span class="free"><span>Y</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="ZF1.html#offset_4489..4494"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>A technical lemma about sections in cartesian products.</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_4644..4649">lemma</span></span></span><span> </span><span class="entity_def" id="ZF1.section_proj|fact"><span class="entity_def" id="ZF1.section_proj(2)|thm"><span class="entity_def" id="ZF1.section_proj(1)|thm"><span>section_proj</span></span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><span>⊆</span></span><span> </span><span class="free"><span>X</span></span><span class="main"><span>×</span></span><span class="free"><span>Y</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>U</span></span><span class="main"><span>×</span></span><span class="free"><span>V</span></span><span> </span><span class="main"><span>⊆</span></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>U</span></span><span>"</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>V</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>U</span></span><span> </span><span class="main"><span>⊆</span></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>t</span></span><span class="main"><span>∈</span></span><span class="free"><span>X</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>⟨</span></span><span class="bound"><span>t</span></span><span class="main"><span>,</span></span><span class="free"><span>y</span></span><span class="main"><span>⟩</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>V</span></span><span> </span><span class="main"><span>⊆</span></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>t</span></span><span class="main"><span>∈</span></span><span class="free"><span>Y</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>⟨</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span class="bound"><span>t</span></span><span class="main"><span>⟩</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="ZF1.html#offset_4644..4649"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>If two meta-functions are the same on a set, then they define the same
</span><span>  set by separation.</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_4897..4902">lemma</span></span></span><span> </span><span class="entity_def" id="ZF1.ZF1_1_L4B|fact"><span class="entity_def" id="ZF1.ZF1_1_L4B|thm"><span>ZF1_1_L4B</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∀</span></span><span class="bound"><span>x</span></span><span class="main"><span>∈</span></span><span class="free"><span>X</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span class="free"><span>a</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>∈</span></span><span class="free"><span>X</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>b</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>∈</span></span><span class="free"><span>X</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="ZF1.html#offset_4897..4902"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>A set defined by a constant meta-function is a singleton.</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_5066..5071">lemma</span></span></span><span> </span><span class="entity_def" id="ZF1.ZF1_1_L5|fact"><span class="entity_def" id="ZF1.ZF1_1_L5|thm"><span>ZF1_1_L5</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>X</span></span><span class="main"><span>≠</span></span><span class="main"><span>0</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∀</span></span><span class="bound"><span>x</span></span><span class="main"><span>∈</span></span><span class="free"><span>X</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span class="free"><span>b</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>∈</span></span><span class="free"><span>X</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>c</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="ZF1.html#offset_5066..5071"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>Most of the time, </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>auto›</span></span></span><span> does this job, but there are strange 
</span><span>  cases when the next lemma is needed.</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_5276..5281">lemma</span></span></span><span> </span><span class="entity_def" id="ZF1.subset_with_property|fact"><span class="entity_def" id="ZF1.subset_with_property|thm"><span>subset_with_property</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Y</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>x</span></span><span class="main"><span>∈</span></span><span class="free"><span>X</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Y</span></span><span> </span><span class="main"><span>⊆</span></span><span> </span><span class="free"><span>X</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="ZF1.html#offset_5276..5281"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>We can choose an element from a nonempty set.</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_5423..5428">lemma</span></span></span><span> </span><span class="entity_def" id="ZF1.nonempty_has_element|fact"><span class="entity_def" id="ZF1.nonempty_has_element|thm"><span>nonempty_has_element</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>X</span></span><span class="main"><span>≠</span></span><span class="main"><span>0</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∃</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>∈</span></span><span class="free"><span>X</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="ZF1.html#offset_5423..5428"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span>text{*If after removing an element from a set we get an empty set,
  then this set must be a singleton.*}

lemma rem_point_empty: assumes "a∈A" and "A-{a} = 0"
  shows "A = {a}" using assms by auto; </span><span>*</span><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>In Isabelle/ZF the intersection of an empty family is 
</span><span>  empty. This is exactly lemma </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>Inter_0›</span></span></span><span> from Isabelle's
</span><span>  </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>equalities›</span></span></span><span> theory. We repeat this lemma here as it is very
</span><span>  difficult to find. This is one reason we need comments before every 
</span><span>  theorem: so that we can search for keywords.</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="ZF1.inter_empty_empty|fact"><span class="entity_def" id="ZF1.inter_empty_empty|thm"><span>inter_empty_empty</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋂</span></span><span class="main"><span>0</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>0</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>Inter_0</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>If an intersection of a collection is not empty, then the collection is
</span><span>  not empty. We are (ab)using the fact the the intersection of empty collection 
</span><span>  is defined to be empty.</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_6254..6259">lemma</span></span></span><span> </span><span class="entity_def" id="ZF1.inter_nempty_nempty|fact"><span class="entity_def" id="ZF1.inter_nempty_nempty|thm"><span>inter_nempty_nempty</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋂</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><span>≠</span></span><span> </span><span class="main"><span>0</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span class="main"><span>≠</span></span><span class="main"><span>0</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="ZF1.html#offset_6254..6259"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>For two collections $S,T$ of sets we define the product collection
</span><span>  as the collections of cartesian products $A\times B$, where $A\in S, B\in T$.</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="ZF1.ProductCollection_def|fact"><span class="entity_def" id="ZF1.ProductCollection_def|thm"><span class="entity_def" id="ZF1.ProductCollection_def_raw|axiom"><span>definition</span></span></span></span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="ZF1.ProductCollection|const"><span>ProductCollection</span></span></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>⋃</span></span><span class="bound"><span>U</span></span><span class="main"><span>∈</span></span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span class="main"><span>.</span></span><span class="main"><span>{</span></span><span class="bound"><span>U</span></span><span class="main"><span>×</span></span><span class="bound"><span>V</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>V</span></span><span class="main"><span>∈</span></span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>The union of the product collection of collections $S,T$ is the 
</span><span>  cartesian product of $\bigcup S$ and  $\bigcup T$.</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="ZF1.ZF1_1_L6|fact"><span class="entity_def" id="ZF1.ZF1_1_L6|thm"><span>ZF1_1_L6</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋃</span></span><span> </span><a class="entity_ref" href="ZF1.html#ZF1.ProductCollection|const"><span>ProductCollection</span></a><span class="main"><span>(</span></span><span class="free"><span>S</span></span><span class="main"><span>,</span></span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>⋃</span></span><span class="free"><span>S</span></span><span> </span><span class="main"><span>×</span></span><span> </span><span class="main"><span>⋃</span></span><span class="free"><span>T</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="ZF1.html#ZF1.ProductCollection_def|fact"><span>ProductCollection_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>An intersection of subsets is a subset.</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="ZF1.ZF1_1_L7|fact"><span class="entity_def" id="ZF1.ZF1_1_L7|thm"><span>ZF1_1_L7</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_6838..6840">A1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>I</span></span><span class="main"><span>≠</span></span><span class="main"><span>0</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_6852..6854">A2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∀</span></span><span class="bound"><span>i</span></span><span class="main"><span>∈</span></span><span class="free"><span>I</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>(</span></span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⊆</span></span><span> </span><span class="free"><span>X</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span> </span><span class="main"><span>⋂</span></span><span class="bound"><span>i</span></span><span class="main"><span>∈</span></span><span class="free"><span>I</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>(</span></span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⊆</span></span><span> </span><span class="free"><span>X</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="ZF1.html#offset_6838..6840"><span>A1</span></a><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>i<span class="hidden">⇩</span><sub>0</sub></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i<span class="hidden">⇩</span><sub>0</sub></span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>I</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="ZF1.html#offset_6852..6854"><span>A2</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span> </span><span class="main"><span>⋂</span></span><span class="bound"><span>i</span></span><span class="main"><span>∈</span></span><span class="free"><span>I</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>(</span></span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⊆</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>(</span></span><span class="skolem"><span>i<span class="hidden">⇩</span><sub>0</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span class="main"><span>(</span></span><span class="skolem"><span>i<span class="hidden">⇩</span><sub>0</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⊆</span></span><span> </span><span class="free"><span>X</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span> </span><span class="main"><span>⋂</span></span><span class="bound"><span>i</span></span><span class="main"><span>∈</span></span><span class="free"><span>I</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>(</span></span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⊆</span></span><span> </span><span class="free"><span>X</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>Isabelle/ZF has a "THE" construct that allows to define an element
</span><span>  if there is only one such that is satisfies given predicate.
</span><span>  In pure ZF we can express something similar using the indentity proven below.</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="ZF1.ZF1_1_L8|fact"><span class="entity_def" id="ZF1.ZF1_1_L8|thm"><span>ZF1_1_L8</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋃</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>x</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>Some properties of singletons.</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="ZF1.ZF1_1_L9|fact"><span class="entity_def" id="ZF1.ZF1_1_L9(3)|thm"><span class="entity_def" id="ZF1.ZF1_1_L9(2)|thm"><span class="entity_def" id="ZF1.ZF1_1_L9(1)|thm"><span>ZF1_1_L9</span></span></span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_7388..7390">A1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∃!</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>∈</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="free"><span>φ</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∃</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>x</span></span><span class="main"><span>∈</span></span><span class="free"><span>A</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>φ</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>a</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋃</span></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>x</span></span><span class="main"><span>∈</span></span><span class="free"><span>A</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>φ</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>φ</span></span><span class="main"><span>(</span></span><span class="main"><span>⋃</span></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>x</span></span><span class="main"><span>∈</span></span><span class="free"><span>A</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>φ</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="ZF1.html#offset_7388..7390"><span>A1</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∃</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>x</span></span><span class="main"><span>∈</span></span><span class="free"><span>A</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>φ</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>a</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>a</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_7566..7567">I</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span class="bound"><span>x</span></span><span class="main"><span>∈</span></span><span class="free"><span>A</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>φ</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{</span></span><span class="skolem"><span>a</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋃</span></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>x</span></span><span class="main"><span>∈</span></span><span class="free"><span>A</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>φ</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="ZF1.html#offset_7566..7567"><span>I</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>x</span></span><span class="main"><span>∈</span></span><span class="free"><span>A</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>φ</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span class="main"><span>∈</span></span><span class="free"><span>A</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>φ</span></span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋃</span></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>x</span></span><span class="main"><span>∈</span></span><span class="free"><span>A</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>φ</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>φ</span></span><span class="main"><span>(</span></span><span class="main"><span>⋃</span></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>x</span></span><span class="main"><span>∈</span></span><span class="free"><span>A</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>φ</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>A simple version of </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span> ZF1_1_L9›</span></span></span><span>.</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_7839..7848">corollary</span></span></span><span> </span><span class="entity_def" id="ZF1.singleton_extract|fact"><span class="entity_def" id="ZF1.singleton_extract|thm"><span>singleton_extract</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∃!</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>∈</span></span><span class="free"><span>A</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>⋃</span></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="ZF1.html#offset_7839..7848"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∃!</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>∈</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span>True</span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋃</span></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>x</span></span><span class="main"><span>∈</span></span><span class="free"><span>A</span></span><span class="main"><span>.</span></span><span> </span><span>True</span><span class="main"><span>}</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="ZF1.html#ZF1.ZF1_1_L9|fact"><span>ZF1_1_L9</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>⋃</span></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>A criterion for when a set defined by comprehension is a singleton.</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="ZF1.singleton_comprehension|fact"><span class="entity_def" id="ZF1.singleton_comprehension|thm"><span>singleton_comprehension</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_8162..8164">A1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span class="main"><span>∈</span></span><span class="free"><span>X</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_8176..8178">A2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∀</span></span><span class="bound"><span>x</span></span><span class="main"><span>∈</span></span><span class="free"><span>X</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>∀</span></span><span class="bound"><span>y</span></span><span class="main"><span>∈</span></span><span class="free"><span>X</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>(</span></span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>⋃</span></span><span class="main"><span>{</span></span><span class="free"><span>P</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>∈</span></span><span class="free"><span>X</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>(</span></span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span> 
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?A</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span class="free"><span>P</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>∈</span></span><span class="free"><span>X</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∃!</span></span><span> </span><span class="bound"><span>c</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>c</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="var"><span>?A</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="ZF1.html#offset_8162..8164"><span>A1</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∃</span></span><span class="bound"><span>c</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>c</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="var"><span>?A</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="var"><span>?A</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="var"><span>?A</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>t</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> 
      </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>X</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>X</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>(</span></span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="ZF1.html#offset_8176..8178"><span>A2</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span class="main"><span>=</span></span><span class="skolem"><span>b</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>⋃</span></span><span class="var"><span>?A</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="var"><span>?A</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="ZF1.html#ZF1.singleton_extract|fact"><span>singleton_extract</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>X</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>⋃</span></span><span class="var"><span>?A</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="ZF1.html#offset_8162..8164"><span>A1</span></a><span> </span><a class="entity_ref" href="ZF1.html#offset_8176..8178"><span>A2</span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>X</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>(</span></span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="main"><span>⋃</span></span><span class="var"><span>?A</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>⋃</span></span><span class="var"><span>?A</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>(</span></span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>Adding an element of a set to that set does not change the set.</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_8808..8813">lemma</span></span></span><span> </span><span class="entity_def" id="ZF1.set_elem_add|fact"><span class="entity_def" id="ZF1.set_elem_add|thm"><span>set_elem_add</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span class="main"><span>∈</span></span><span class="free"><span>X</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>X</span></span><span> </span><span class="main"><span>∪</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>x</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>X</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="ZF1.html#offset_8808..8813"><span>assms</span></a><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>Here we define a restriction of a collection of sets to a given set. 
</span><span>  In romantic math this is typically denoted $X\cap M$ and means 
</span><span>  $\{X\cap A : A\in M \} $. Note there is also restrict$(f,A)$ 
</span><span>  defined for relations in ZF.thy.</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="ZF1.RestrictedTo_def|fact"><span class="entity_def" id="ZF1.RestrictedTo_def|thm"><span class="entity_def" id="ZF1.RestrictedTo_def_raw|axiom"><span>definition</span></span></span></span></span></span><span>
  </span><span class="entity"><span class="entity_def" id="ZF1.RestrictedTo|const"><span>RestrictedTo</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>{restricted</span></span><span> </span><span class="keyword1"><span>to}</span></span><span>"</span></span><span> 70</span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>M</span></span></span></span><span> </span><span class="keyword1"><span class="free"><span>{restricted</span></span></span><span> </span><span class="keyword1"><span class="free"><span>to}</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span> </span><span class="main"><span>∩</span></span><span> </span><span class="bound"><span>A</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>A</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>M</span></span></span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>A lemma on a union of a restriction of a collection
</span><span>  to a set.</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="ZF1.union_restrict|fact"><span class="entity_def" id="ZF1.union_restrict|thm"><span>union_restrict</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋃</span></span><span class="main"><span>(</span></span><span class="free"><span>M</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="ZF1.html#ZF1.RestrictedTo|const"><span>{restricted</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="ZF1.html#ZF1.RestrictedTo|const"><span>to}</span></a></span><span> </span><span class="free"><span>X</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋃</span></span><span class="free"><span>M</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>∩</span></span><span> </span><span class="free"><span>X</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="ZF1.html#ZF1.RestrictedTo_def|fact"><span>RestrictedTo_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>Next we show a technical identity that is used to prove sufficiency 
</span><span>  of some condition for a collection of sets to be a base for a topology.</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="ZF1.ZF1_1_L10|fact"><span class="entity_def" id="ZF1.ZF1_1_L10|thm"><span>ZF1_1_L10</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_9580..9582">A1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∀</span></span><span class="bound"><span>U</span></span><span class="main"><span>∈</span></span><span class="free"><span>C</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>∃</span></span><span class="bound"><span>A</span></span><span class="main"><span>∈</span></span><span class="free"><span>B</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>U</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>⋃</span></span><span class="bound"><span>A</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋃</span></span><span class="main"><span>⋃</span></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>⋃</span></span><span class="main"><span>{</span></span><span class="bound"><span>A</span></span><span class="main"><span>∈</span></span><span class="free"><span>B</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>U</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>⋃</span></span><span class="bound"><span>A</span></span><span class="main"><span>}</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>U</span></span><span class="main"><span>∈</span></span><span class="free"><span>C</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>⋃</span></span><span class="free"><span>C</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋃</span></span><span class="main"><span>(</span></span><span class="main"><span>⋃</span></span><span class="bound"><span>U</span></span><span class="main"><span>∈</span></span><span class="free"><span>C</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>⋃</span></span><span class="main"><span>{</span></span><span class="bound"><span>A</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>U</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>⋃</span></span><span class="bound"><span>A</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⊆</span></span><span> </span><span class="main"><span>⋃</span></span><span class="free"><span>C</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋃</span></span><span class="free"><span>C</span></span><span> </span><span class="main"><span>⊆</span></span><span> </span><span class="main"><span>⋃</span></span><span class="main"><span>(</span></span><span class="main"><span>⋃</span></span><span class="bound"><span>U</span></span><span class="main"><span>∈</span></span><span class="free"><span>C</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>⋃</span></span><span class="main"><span>{</span></span><span class="bound"><span>A</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>U</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>⋃</span></span><span class="bound"><span>A</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="main"><span>⋃</span></span><span class="free"><span>C</span></span><span>"</span></span></span><span> 
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="main"><span>⋃</span></span><span class="main"><span>(</span></span><span class="main"><span>⋃</span></span><span class="bound"><span>U</span></span><span class="main"><span>∈</span></span><span class="free"><span>C</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>⋃</span></span><span class="main"><span>{</span></span><span class="bound"><span>A</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>U</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>⋃</span></span><span class="bound"><span>A</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="main"><span>⋃</span></span><span class="free"><span>C</span></span><span>›</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>U</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>U</span></span><span class="main"><span>∈</span></span><span class="free"><span>C</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>∈</span></span><span class="skolem"><span>U</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="ZF1.html#offset_9580..9582"><span>A1</span></a><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>A</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>A</span></span><span class="main"><span>∈</span></span><span class="free"><span>B</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="skolem"><span>U</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>⋃</span></span><span class="skolem"><span>A</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>U</span></span><span class="main"><span>∈</span></span><span class="free"><span>C</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>∈</span></span><span class="skolem"><span>U</span></span><span>›</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>A</span></span><span class="main"><span>∈</span></span><span class="free"><span>B</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="skolem"><span>U</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>⋃</span></span><span class="skolem"><span>A</span></span><span>›</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span class="main"><span>∈</span></span><span> </span><span class="main"><span>⋃</span></span><span class="main"><span>(</span></span><span class="main"><span>⋃</span></span><span class="bound"><span>U</span></span><span class="main"><span>∈</span></span><span class="free"><span>C</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>⋃</span></span><span class="main"><span>{</span></span><span class="bound"><span>A</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>U</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>⋃</span></span><span class="bound"><span>A</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
	</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>Standard Isabelle uses a notion of </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>cons(A,a)›</span></span></span><span> that can be thought 
</span><span>  of as $A\cup \{a\}$.</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="ZF1.consdef|fact"><span class="entity_def" id="ZF1.consdef|thm"><span>consdef</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>cons</span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>∪</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>a</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>cons_def</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>If a difference between a set and a singleton is empty, then
</span><span>  the set is empty or it is equal to the singleton.</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_10330..10335">lemma</span></span></span><span> </span><span class="entity_def" id="ZF1.singl_diff_empty|fact"><span class="entity_def" id="ZF1.singl_diff_empty|thm"><span>singl_diff_empty</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>x</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>0</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>0</span></span><span> </span><span class="main"><span>∨</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>x</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="ZF1.html#offset_10330..10335"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>If a difference between a set and a singleton is the set, 
</span><span>  then the only element of the singleton is not in the set.</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="ZF1.singl_diff_eq|fact"><span class="entity_def" id="ZF1.singl_diff_eq|thm"><span>singl_diff_eq</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_10580..10582">A1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>x</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><span>∉</span></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><span>∉</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>x</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="ZF1.html#offset_10580..10582"><span>A1</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><span>∉</span></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>A basic property of sets defined by comprehension.</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_10745..10750">lemma</span></span></span><span> </span><span class="entity_def" id="ZF1.comprehension|fact"><span class="entity_def" id="ZF1.comprehension(2)|thm"><span class="entity_def" id="ZF1.comprehension(1)|thm"><span>comprehension</span></span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>x</span></span><span class="main"><span>∈</span></span><span class="free"><span>X</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span class="main"><span>∈</span></span><span class="free"><span>X</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="ZF1.html#offset_10745..10750"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span> </span><span>The image of a set by a greater relation is greater.</span><span> </span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_10900..10905">lemma</span></span></span><span> </span><span class="entity_def" id="ZF1.image_rel_mono|fact"><span class="entity_def" id="ZF1.image_rel_mono|thm"><span>image_rel_mono</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span class="main"><span>⊆</span></span><span class="free"><span>s</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span class="main"><span>``</span></span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⊆</span></span><span> </span><span class="free"><span>s</span></span><span class="main"><span>``</span></span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="ZF1.html#offset_10900..10905"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> 

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span> </span><span>A technical lemma about relations: if $x$ is in its image by a relation $U$
</span><span>  and that image is contained in some set $C$, then the image of the singleton
</span><span>  $\{ x\}$ by the relation $U \cup C\times C$ equals $C$.</span><span> </span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_11207..11212">lemma</span></span></span><span> </span><span class="entity_def" id="ZF1.image_greater_rel|fact"><span class="entity_def" id="ZF1.image_greater_rel|thm"><span>image_greater_rel</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>U</span></span><span class="main"><span>``</span></span><span class="main"><span>{</span></span><span class="free"><span>x</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>U</span></span><span class="main"><span>``</span></span><span class="main"><span>{</span></span><span class="free"><span>x</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>⊆</span></span><span> </span><span class="free"><span>C</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>U</span></span><span> </span><span class="main"><span>∪</span></span><span> </span><span class="free"><span>C</span></span><span class="main"><span>×</span></span><span class="free"><span>C</span></span><span class="main"><span>)</span></span><span class="main"><span>``</span></span><span class="main"><span>{</span></span><span class="free"><span>x</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>C</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="ZF1.html#offset_11207..11212"><span>assms</span></a><span> </span><span>image_Un_left</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span> 

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>Reformulation of the definition of composition of two relations:</span><span> </span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="ZF1.rel_compdef|fact"><span class="entity_def" id="ZF1.rel_compdef|thm"><span>rel_compdef</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟨</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span class="free"><span>z</span></span><span class="main"><span>⟩</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="free"><span>s</span></span><span>  </span><span class="main"><span>⟷</span></span><span>  </span><span class="main"><span>(</span></span><span class="main"><span>∃</span></span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>⟨</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span class="bound"><span>y</span></span><span class="main"><span>⟩</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="main"><span>⟨</span></span><span class="bound"><span>y</span></span><span class="main"><span>,</span></span><span class="free"><span>z</span></span><span class="main"><span>⟩</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><span>comp_def</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>Domain and range of the relation of the form $\bigcup \{U\times U : U\in P\}$
</span><span>  is $\bigcup P$:</span><span> </span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="ZF1.domain_range_sym|fact"><span class="entity_def" id="ZF1.domain_range_sym(2)|thm"><span class="entity_def" id="ZF1.domain_range_sym(1)|thm"><span>domain_range_sym</span></span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>domain</span><span class="main"><span>(</span></span><span class="main"><span>⋃</span></span><span class="main"><span>{</span></span><span class="bound"><span>U</span></span><span class="main"><span>×</span></span><span class="bound"><span>U</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>U</span></span><span class="main"><span>∈</span></span><span class="free"><span>P</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>⋃</span></span><span class="free"><span>P</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>range</span><span class="main"><span>(</span></span><span class="main"><span>⋃</span></span><span class="main"><span>{</span></span><span class="bound"><span>U</span></span><span class="main"><span>×</span></span><span class="bound"><span>U</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>U</span></span><span class="main"><span>∈</span></span><span class="free"><span>P</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>⋃</span></span><span class="free"><span>P</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>An identity for the square (in the sense of composition) of a symmetric relation.</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_11815..11820">lemma</span></span></span><span> </span><span class="entity_def" id="ZF1.symm_sq_prod_image|fact"><span class="entity_def" id="ZF1.symm_sq_prod_image|thm"><span>symm_sq_prod_image</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>converse</span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>⋃</span></span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><span>``</span></span><span class="main"><span>{</span></span><span class="bound"><span>x</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span class="main"><span>×</span></span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><span>``</span></span><span class="main"><span>{</span></span><span class="bound"><span>x</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span>domain</span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span> </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>p</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>y</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>z</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟨</span></span><span class="skolem"><span>y</span></span><span class="main"><span>,</span></span><span class="skolem"><span>z</span></span><span class="main"><span>⟩</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>p</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>p</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="free"><span>r</span></span><span>›</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟨</span></span><span class="skolem"><span>y</span></span><span class="main"><span>,</span></span><span class="skolem"><span>x</span></span><span class="main"><span>⟩</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟨</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span class="skolem"><span>z</span></span><span class="main"><span>⟩</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="ZF1.html#ZF1.rel_compdef|fact"><span>rel_compdef</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>⟨</span></span><span class="skolem"><span>y</span></span><span class="main"><span>,</span></span><span class="skolem"><span>x</span></span><span class="main"><span>⟩</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>r</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟨</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span class="skolem"><span>y</span></span><span class="main"><span>⟩</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span>converse</span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="ZF1.html#offset_11815..11820"><span>assms</span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>⟨</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span class="skolem"><span>z</span></span><span class="main"><span>⟩</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>r</span></span><span>›</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>⟨</span></span><span class="skolem"><span>y</span></span><span class="main"><span>,</span></span><span class="skolem"><span>z</span></span><span class="main"><span>⟩</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>p</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∃</span></span><span class="bound"><span>x</span></span><span class="main"><span>∈</span></span><span>domain</span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><span>``</span></span><span class="main"><span>{</span></span><span class="bound"><span>x</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span class="main"><span>×</span></span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><span>``</span></span><span class="main"><span>{</span></span><span class="bound"><span>x</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>}</span></span></span><span> </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>⊆</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋃</span></span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><span>``</span></span><span class="main"><span>{</span></span><span class="bound"><span>x</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span class="main"><span>×</span></span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><span>``</span></span><span class="main"><span>{</span></span><span class="bound"><span>x</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span>domain</span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span> </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span>domain</span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><span>``</span></span><span class="main"><span>{</span></span><span class="skolem"><span>x</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span class="main"><span>×</span></span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><span>``</span></span><span class="main"><span>{</span></span><span class="skolem"><span>x</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⊆</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
      </span><span class="keyword1"><span class="command"><span>{</span></span></span><span> </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>p</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><span>``</span></span><span class="main"><span>{</span></span><span class="skolem"><span>x</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span class="main"><span>×</span></span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><span>``</span></span><span class="main"><span>{</span></span><span class="skolem"><span>x</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>y</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>z</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟨</span></span><span class="skolem"><span>y</span></span><span class="main"><span>,</span></span><span class="skolem"><span>z</span></span><span class="main"><span>⟩</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>p</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>y</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><span>``</span></span><span class="main"><span>{</span></span><span class="skolem"><span>x</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>z</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><span>``</span></span><span class="main"><span>{</span></span><span class="skolem"><span>x</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
        </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>y</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><span>``</span></span><span class="main"><span>{</span></span><span class="skolem"><span>x</span></span><span class="main"><span>}</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟨</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span class="skolem"><span>y</span></span><span class="main"><span>⟩</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟨</span></span><span class="skolem"><span>y</span></span><span class="main"><span>,</span></span><span class="skolem"><span>x</span></span><span class="main"><span>⟩</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span>converse</span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
        </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="ZF1.html#offset_11815..11820"><span>assms</span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>z</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><span>``</span></span><span class="main"><span>{</span></span><span class="skolem"><span>x</span></span><span class="main"><span>}</span></span><span>›</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>⟨</span></span><span class="skolem"><span>y</span></span><span class="main"><span>,</span></span><span class="skolem"><span>z</span></span><span class="main"><span>⟩</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>p</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>p</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>}</span></span></span><span> </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>}</span></span></span><span> </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>⋃</span></span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><span>``</span></span><span class="main"><span>{</span></span><span class="bound"><span>x</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span class="main"><span>×</span></span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><span>``</span></span><span class="main"><span>{</span></span><span class="bound"><span>x</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span>domain</span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⊆</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> 

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>A reflexive relation is contained in the union of products of its singleton images.</span><span> </span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_12909..12914">lemma</span></span></span><span> </span><span class="entity_def" id="ZF1.refl_union_singl_image|fact"><span class="entity_def" id="ZF1.refl_union_singl_image|thm"><span>refl_union_singl_image</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><span>⊆</span></span><span> </span><span class="free"><span>X</span></span><span class="main"><span>×</span></span><span class="free"><span>X</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>id</span><span class="main"><span>(</span></span><span class="free"><span>X</span></span><span class="main"><span>)</span></span><span class="main"><span>⊆</span></span><span class="free"><span>A</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><span>⊆</span></span><span> </span><span class="main"><span>⋃</span></span><span class="main"><span>{</span></span><span class="free"><span>A</span></span><span class="main"><span>``</span></span><span class="main"><span>{</span></span><span class="bound"><span>x</span></span><span class="main"><span>}</span></span><span class="main"><span>×</span></span><span class="free"><span>A</span></span><span class="main"><span>``</span></span><span class="main"><span>{</span></span><span class="bound"><span>x</span></span><span class="main"><span>}</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>X</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> 
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span> </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>p</span></span><span class="main"><span>∈</span></span><span class="free"><span>A</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="ZF1.html#offset_12909..12914"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>y</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span class="main"><span>∈</span></span><span class="free"><span>X</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>y</span></span><span class="main"><span>∈</span></span><span class="free"><span>X</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>p</span></span><span class="main"><span>=</span></span><span class="main"><span>⟨</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span class="skolem"><span>y</span></span><span class="main"><span>⟩</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="ZF1.html#offset_12909..12914"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>p</span></span><span class="main"><span>∈</span></span><span class="free"><span>A</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∃</span></span><span class="bound"><span>x</span></span><span class="main"><span>∈</span></span><span class="free"><span>X</span></span><span class="main"><span>.</span></span><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>``</span></span><span class="main"><span>{</span></span><span class="bound"><span>x</span></span><span class="main"><span>}</span></span><span class="main"><span>×</span></span><span class="free"><span>A</span></span><span class="main"><span>``</span></span><span class="main"><span>{</span></span><span class="bound"><span>x</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>}</span></span></span><span> </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    
</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span> </span><span>It's hard to believe but there are cases where we have to reference this rule.</span><span> </span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_13296..13301">lemma</span></span></span><span> </span><span class="entity_def" id="ZF1.set_mem_eq|fact"><span class="entity_def" id="ZF1.set_mem_eq|thm"><span>set_mem_eq</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span class="main"><span>∈</span></span><span class="free"><span>A</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span class="main"><span>=</span></span><span class="free"><span>B</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span class="main"><span>∈</span></span><span class="free"><span>B</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="ZF1.html#offset_13296..13301"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>Given some family $\mathcal{A}$ of subsets of $X$ we can define the family of supersets of
</span><span>  $\mathcal{A}$.</span><span> </span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="ZF1.Supersets_def|fact"><span class="entity_def" id="ZF1.Supersets_def|thm"><span class="entity_def" id="ZF1.Supersets_def_raw|axiom"><span>definition</span></span></span></span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="ZF1.Supersets|const"><span>Supersets</span></span></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>𝒜</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>B</span></span><span class="main"><span>∈</span></span><span>Pow</span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>∃</span></span><span class="bound"><span>A</span></span><span class="main"><span>∈</span></span><span class="free"><span class="bound"><span class="entity"><span>𝒜</span></span></span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>A</span></span><span class="main"><span>⊆</span></span><span class="bound"><span>B</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹</span><span>The family itself is in its supersets.</span><span> </span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_13585..13590">lemma</span></span></span><span> </span><span class="entity_def" id="ZF1.superset_gen|fact"><span class="entity_def" id="ZF1.superset_gen|thm"><span>superset_gen</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span class="main"><span>⊆</span></span><span class="free"><span>X</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span class="main"><span>∈</span></span><span class="free"><span>𝒜</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="ZF1.html#ZF1.Supersets|const"><span>Supersets</span></a><span class="main"><span>(</span></span><span class="free"><span>X</span></span><span class="main"><span>,</span></span><span class="free"><span>𝒜</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="ZF1.html#offset_13585..13590"><span>assms</span></a><span> </span><a class="entity_ref" href="ZF1.html#ZF1.Supersets_def|fact"><span>Supersets_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> 

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span></pre>
</body>

</html>