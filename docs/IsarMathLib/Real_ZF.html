<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory Real_ZF</title>
</head>


<body>
<div class="head">
<h1>Theory Real_ZF</h1>
</div>

<pre class="source"><span class="comment1">(*
    This file is a part of IsarMathLib - 
    a library of formalized mathematics for Isabelle/Isar.

    Copyright (C) 2005 - 2009  Slawomir Kolodynski

    This program is free software; Redistribution and use in source and binary forms, 
    with or without modification, are permitted provided that the following conditions are met:

   1. Redistributions of source code must retain the above copyright notice, 
   this list of conditions and the following disclaimer.
   2. Redistributions in binary form must reproduce the above copyright notice, 
   this list of conditions and the following disclaimer in the documentation and/or 
   other materials provided with the distribution.
   3. The name of the author may not be used to endorse or promote products 
   derived from this software without specific prior written permission.

HIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED WARRANTIES,
INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT,
INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE
USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

*)</span>

<span class="keyword1"><span class="command">section</span></span> <span class="quoted"><span class="plain_text">‹Construction real numbers - the generic part›</span></span>

<span class="keyword1"><span class="command">theory</span></span> Real_ZF <span class="keyword2"><span class="keyword">imports</span></span> <a href="Int_ZF_IML.html">Int_ZF_IML</a> <a href="Ring_ZF_1.html">Ring_ZF_1</a>

<span class="keyword2"><span class="keyword">begin</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The goal of the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>Real_ZF›</span></span></span></span> series of theory files is 
  to provide a contruction of the set of 
  real numbers. There are several ways to construct real numbers. 
  Most common start from the rational numbers and use Dedekind cuts 
  or Cauchy sequences. <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>Real_ZF_x.thy›</span></span></span></span> series formalizes 
  an alternative 
  approach that constructs real numbers directly from the group of integers.
  Our formalization is mostly based on \cite{Arthan2004}. 
  Different variants of this contruction are also 
  described in \cite{Campo2003} and \cite{Street2003}.
  I recommend to read these papers, but for the impatient here is a short 
  description: we take a set of maps $s : Z\rightarrow Z$ such that
   the set $\{s(m+n)-s(m)-s(n)\}_{n,m \in Z}$ is finite 
  ($Z$ means the integers here). We call these maps slopes. 
  Slopes form a group with the natural addition
  $(s+r)(n) = s(n)+r(n)$. The maps such that the set $s(Z)$ is finite 
  (finite range functions) form a subgroup of slopes. 
  The additive group of real numbers is defined as the 
  quotient group of slopes by the (sub)group of finite range functions.
  The multiplication is defined as the projection of the composition of slopes
  into the resulting quotient (coset) space.
›</span></span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‹The definition of real numbers›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹This section contains the construction of the ring of real numbers
  as classes of slopes - integer almost homomorphisms. The real definitions
  are in <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>Group_ZF_2›</span></span></span></span> theory, here we just specialize the definitions
  of almost homomorphisms, their equivalence and operations to the 
  additive group of integers from the general case of abelian groups considered
  in <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>Group_ZF_2›</span></span></span></span>.›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The set of slopes is defined as the set of almost homomorphisms
  on the additive group of integers.›</span></span>

<span class="keyword1"><span class="command">definition</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">Slopes</span> <span class="main">≡</span> AlmostHoms<span class="main">(</span>int<span class="main">,</span>IntegerAddition<span class="main">)</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The first operation on slopes (pointwise addition) is a special case 
  of the first operation on almost homomorphisms.›</span></span>

<span class="keyword1"><span class="command">definition</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">SlopeOp1</span> <span class="main">≡</span> AlHomOp1<span class="main">(</span>int<span class="main">,</span>IntegerAddition<span class="main">)</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The second operation on slopes (composition) is a special case 
  of the second operation on almost homomorphisms.›</span></span>

<span class="keyword1"><span class="command">definition</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">SlopeOp2</span> <span class="main">≡</span> AlHomOp2<span class="main">(</span>int<span class="main">,</span>IntegerAddition<span class="main">)</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Bounded integer maps are functions from integers
  to integers that have finite range. They play a role of 
  zero in the set of real numbers we are constructing.›</span></span>

<span class="keyword1"><span class="command">definition</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">BoundedIntMaps</span> <span class="main">≡</span> FinRangeFunctions<span class="main">(</span>int<span class="main">,</span>int<span class="main">)</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Bounded integer maps form a normal subgroup of slopes.
  The equivalence relation on slopes is the (group) quotient 
  relation defined by this subgroup.
›</span></span>

<span class="keyword1"><span class="command">definition</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">SlopeEquivalenceRel</span> <span class="main">≡</span> QuotientGroupRel<span class="main">(</span>Slopes<span class="main">,</span>SlopeOp1<span class="main">,</span>BoundedIntMaps<span class="main">)</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The set of real numbers is the set of equivalence classes of
  slopes.›</span></span>

<span class="keyword1"><span class="command">definition</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">RealNumbers</span> <span class="main">≡</span> Slopes<span class="main">//</span>SlopeEquivalenceRel"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The addition on real numbers is defined as the projection of 
  pointwise addition of slopes on the quotient. This means that
  the additive group of real numbers is the quotient group: 
  the group of slopes (with pointwise addition) defined by the
  normal subgroup of bounded integer maps.›</span></span>

<span class="keyword1"><span class="command">definition</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">RealAddition</span> <span class="main">≡</span> ProjFun2<span class="main">(</span>Slopes<span class="main">,</span>SlopeEquivalenceRel<span class="main">,</span>SlopeOp1<span class="main">)</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Multiplication is defined as the projection of composition
  of slopes on the quotient. The fact that it works is probably the
  most surprising part of the construction.›</span></span>

<span class="keyword1"><span class="command">definition</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">RealMultiplication</span> <span class="main">≡</span> ProjFun2<span class="main">(</span>Slopes<span class="main">,</span>SlopeEquivalenceRel<span class="main">,</span>SlopeOp2<span class="main">)</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹We first show that we can use theorems proven in some proof contexts
  (locales). The locale <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>group1›</span></span></span></span> requires assumption that we deal with
  an abelian group. The next lemma allows to use all theorems proven 
  in the context called <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>group1›</span></span></span></span>.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> Real_ZF_1_L1<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"group1<span class="main">(</span>int<span class="main">,</span>IntegerAddition<span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> group1_axioms.intro group1_def Int_ZF_1_T2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Real numbers form a ring. This is a special case of the theorem
  proven in <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>Ring_ZF_1.thy›</span></span></span></span>, where we show the same in general for 
  almost homomorphisms rather than slopes.›</span></span>

<span class="keyword1"><span class="command">theorem</span></span> Real_ZF_1_T1<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"IsAring<span class="main">(</span>RealNumbers<span class="main">,</span>RealAddition<span class="main">,</span>RealMultiplication<span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?AH</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"AlmostHoms<span class="main">(</span>int<span class="main">,</span>IntegerAddition<span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?Op1</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"AlHomOp1<span class="main">(</span>int<span class="main">,</span>IntegerAddition<span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?FR</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"FinRangeFunctions<span class="main">(</span>int<span class="main">,</span>int<span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?Op2</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"AlHomOp2<span class="main">(</span>int<span class="main">,</span>IntegerAddition<span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?R</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"QuotientGroupRel<span class="main">(</span><span class="var">?AH</span><span class="main">,</span><span class="var">?Op1</span><span class="main">,</span><span class="var">?FR</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?A</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"ProjFun2<span class="main">(</span><span class="var">?AH</span><span class="main">,</span><span class="var">?R</span><span class="main">,</span><span class="var">?Op1</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?M</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"ProjFun2<span class="main">(</span><span class="var">?AH</span><span class="main">,</span><span class="var">?R</span><span class="main">,</span><span class="var">?Op2</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IsAring<span class="main">(</span><span class="var">?AH</span><span class="main">//</span><span class="var">?R</span><span class="main">,</span><span class="var">?A</span><span class="main">,</span><span class="var">?M</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_L1 group1.Ring_ZF_1_1_T1
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> Slopes_def SlopeOp2_def SlopeOp1_def 
    BoundedIntMaps_def SlopeEquivalenceRel_def RealNumbers_def
    RealAddition_def RealMultiplication_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹We can use theorems proven in <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>group0›</span></span></span></span> and <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>group1›</span></span></span></span>
  contexts applied to the group of real numbers.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> Real_ZF_1_L2<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span>
  <span class="quoted"><span class="quoted">"group0<span class="main">(</span>RealNumbers<span class="main">,</span>RealAddition<span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"RealAddition <span class="keyword1">{is</span> <span class="keyword1">commutative</span> <span class="keyword1">on}</span> RealNumbers"</span></span>
  <span class="quoted"><span class="quoted">"group1<span class="main">(</span>RealNumbers<span class="main">,</span>RealAddition<span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"IsAgroup<span class="main">(</span>RealNumbers<span class="main">,</span>RealAddition<span class="main">)</span>"</span></span>
    <span class="quoted"><span class="quoted">"RealAddition <span class="keyword1">{is</span> <span class="keyword1">commutative</span> <span class="keyword1">on}</span> RealNumbers"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_T1 IsAring_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> 
    <span class="quoted"><span class="quoted">"group0<span class="main">(</span>RealNumbers<span class="main">,</span>RealAddition<span class="main">)</span>"</span></span>
    <span class="quoted"><span class="quoted">"RealAddition <span class="keyword1">{is</span> <span class="keyword1">commutative</span> <span class="keyword1">on}</span> RealNumbers"</span></span>
    <span class="quoted"><span class="quoted">"group1<span class="main">(</span>RealNumbers<span class="main">,</span>RealAddition<span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> group1_axioms.intro group0_def group1_def
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Let's define some notation.›</span></span>

<span class="keyword1"><span class="command">locale</span></span> real0 <span class="main">=</span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">real</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">ℝ</span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> real_def <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ℝ</span></span> <span class="main">≡</span> RealNumbers"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">ra</span> <span class="main">(</span><span class="keyword2"><span class="keyword">infixl</span></span> <span class="quoted">"<span class="keyword1">\&lt;ra&gt;</span>"</span> 69<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> ra_def <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">b</span> <span class="main">≡</span> RealAddition<span class="main">`</span><span class="main">⟨</span><span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">⟩</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">rminus</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">\&lt;rm&gt;</span> _"</span> 72<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> rminus_def <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">a</span> <span class="main">≡</span> GroupInv<span class="main">(</span><span class="main"><span class="free">ℝ</span></span><span class="main">,</span>RealAddition<span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="free">a</span><span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">rsub</span> <span class="main">(</span><span class="keyword2"><span class="keyword">infixl</span></span> <span class="quoted">"<span class="keyword1">\&lt;rs&gt;</span>"</span> 69<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> rsub_def <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">b</span> <span class="main">≡</span> <span class="free">a</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">b</span><span class="main">)</span>"</span></span>
 
  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">rm</span> <span class="main">(</span><span class="keyword2"><span class="keyword">infixl</span></span> <span class="quoted">"<span class="keyword1">⋅</span>"</span> 70<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> rm_def <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span> <span class="main">≡</span> RealMultiplication<span class="main">`</span><span class="main">⟨</span><span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">⟩</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">rzero</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">𝟬</span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> rzero_def <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> 
  <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟬</span></span> <span class="main">≡</span> TheNeutralElement<span class="main">(</span>RealNumbers<span class="main">,</span>RealAddition<span class="main">)</span>"</span></span>
 
  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">rone</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">𝟭</span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> rone_def <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> 
  <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟭</span></span> <span class="main">≡</span> TheNeutralElement<span class="main">(</span>RealNumbers<span class="main">,</span>RealMultiplication<span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">rtwo</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">𝟮</span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> rtwo_def <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟮</span></span>  <span class="main">≡</span> <span class="main"><span class="free">𝟭</span></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="main"><span class="free">𝟭</span></span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">non_zero</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">ℝ<span class="hidden">⇩</span><sub>0</sub></span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> non_zero_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ℝ<span class="hidden">⇩</span><sub>0</sub></span></span> <span class="main">≡</span> <span class="main"><span class="free">ℝ</span></span><span class="main">-</span><span class="main">{</span><span class="main"><span class="free">𝟬</span></span><span class="main">}</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">inv</span> <span class="main">(</span><span class="quoted">"_<span class="keyword1">¯</span> "</span> <span class="main">[</span>90<span class="main">]</span> 91<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> inv_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> 
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">¯</span></span> <span class="main">≡</span> GroupInv<span class="main">(</span><span class="main"><span class="free">ℝ<span class="hidden">⇩</span><sub>0</sub></span></span><span class="main">,</span>restrict<span class="main">(</span>RealMultiplication<span class="main">,</span><span class="main"><span class="free">ℝ<span class="hidden">⇩</span><sub>0</sub></span></span><span class="main">×</span><span class="main"><span class="free">ℝ<span class="hidden">⇩</span><sub>0</sub></span></span><span class="main">)</span><span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="free">a</span><span class="main">)</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹In <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>real0›</span></span></span></span> context all theorems proven in the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>ring0›</span></span></span></span>,
  context are valid.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real0<span class="main">)</span> Real_ZF_1_L3<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"ring0<span class="main">(</span><span class="main"><span class="free">ℝ</span></span><span class="main">,</span>RealAddition<span class="main">,</span>RealMultiplication<span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_T1 ring0_def ring0.Ring_ZF_1_L1 
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Lets try out our notation to see that zero and one are real numbers.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real0<span class="main">)</span> Real_ZF_1_L4<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟬</span></span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟭</span></span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_L3 ring0.Ring_ZF_1_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The lemma below lists some properties that
  require one real number to state.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real0<span class="main">)</span> Real_ZF_1_L5<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">a</span><span class="main">)</span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">a</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="main"><span class="free">𝟬</span></span> <span class="main">=</span> <span class="free">a</span>"</span></span> 
  <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟬</span></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">a</span> <span class="main">=</span> <span class="free">a</span>"</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main"><span class="free">𝟭</span></span> <span class="main">=</span> <span class="free">a</span>"</span></span> 
  <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟭</span></span><span class="main"><span class="free">⋅</span></span><span class="free">a</span> <span class="main">=</span> <span class="free">a</span>"</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">a</span> <span class="main">=</span> <span class="main"><span class="free">𝟬</span></span>"</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="main"><span class="free">𝟬</span></span> <span class="main">=</span> <span class="free">a</span>"</span></span>  
  <span class="keyword1"><span class="command">using</span></span> assms Real_ZF_1_L3 ring0.Ring_ZF_1_L3 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The lemma below lists some properties that
  require two real numbers to state.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real0<span class="main">)</span> Real_ZF_1_L6<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">b</span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">b</span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">b</span> <span class="main">=</span> <span class="free">b</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">a</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">a</span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span> <span class="main">=</span> <span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span><span class="main">)</span>"</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">b</span><span class="main">)</span> <span class="main">=</span> <span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="main">(</span><span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms Real_ZF_1_L3 ring0.Ring_ZF_1_L4 ring0.Ring_ZF_1_L7
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Multiplication of reals is associative.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real0<span class="main">)</span> Real_ZF_1_L6A<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms Real_ZF_1_L3 ring0.Ring_ZF_1_L11 
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Addition is distributive with respect to multiplication.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real0<span class="main">)</span> Real_ZF_1_L7<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span> 
  <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">c</span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span>"</span></span> 
  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">b</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">c</span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="free">a</span> <span class="main">=</span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">a</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">a</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">b</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">c</span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span>"</span></span>  
  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">b</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">c</span><span class="main">)</span><span class="main"><span class="free">⋅</span></span><span class="free">a</span> <span class="main">=</span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">a</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="free">c</span><span class="main"><span class="free">⋅</span></span><span class="free">a</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms Real_ZF_1_L3 ring0.ring_oper_distr  ring0.Ring_ZF_1_L8 
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹A simple rearrangement with four real numbers.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real0<span class="main">)</span> Real_ZF_1_L7A<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">d</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">b</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="free">c</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">d</span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="free">c</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">b</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">d</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms Real_ZF_1_L2 group0.group0_4_L8A <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹<span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>RealAddition›</span></span></span></span> is defined as the projection of the
  first operation on slopes (that is, slope addition) on the quotient 
  (slopes divided by the "almost equal" relation. The next lemma plays with
  definitions to show that this is the same as the operation induced on the 
  appriopriate quotient group. The names <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>AH›</span></span></span></span>, <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>Op1›</span></span></span></span> 
  and <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>FR›</span></span></span></span> are used in <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>group1›</span></span></span></span> context to denote almost 
  homomorphisms, the first operation on <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>AH›</span></span></span></span> and finite range 
  functions resp.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> Real_ZF_1_L8<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">AH</span> <span class="main">=</span> AlmostHoms<span class="main">(</span>int<span class="main">,</span>IntegerAddition<span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">Op1</span> <span class="main">=</span> AlHomOp1<span class="main">(</span>int<span class="main">,</span>IntegerAddition<span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">FR</span> <span class="main">=</span> FinRangeFunctions<span class="main">(</span>int<span class="main">,</span>int<span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"RealAddition <span class="main">=</span> QuotientGroupOp<span class="main">(</span><span class="free">AH</span><span class="main">,</span><span class="free">Op1</span><span class="main">,</span><span class="free">FR</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms RealAddition_def SlopeEquivalenceRel_def
    QuotientGroupOp_def Slopes_def SlopeOp1_def BoundedIntMaps_def
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The symbol <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>𝟬›</span></span></span></span> in the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>real0›</span></span></span></span> context is defined
  as the neutral element of real addition. The next lemma shows that this
  is the same as the neutral element of the appriopriate quotient group.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real0<span class="main">)</span> Real_ZF_1_L9<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">AH</span> <span class="main">=</span> AlmostHoms<span class="main">(</span>int<span class="main">,</span>IntegerAddition<span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">Op1</span> <span class="main">=</span> AlHomOp1<span class="main">(</span>int<span class="main">,</span>IntegerAddition<span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">FR</span> <span class="main">=</span> FinRangeFunctions<span class="main">(</span>int<span class="main">,</span>int<span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">r</span> <span class="main">=</span> QuotientGroupRel<span class="main">(</span><span class="free">AH</span><span class="main">,</span><span class="free">Op1</span><span class="main">,</span><span class="free">FR</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"TheNeutralElement<span class="main">(</span><span class="free">AH</span><span class="main">//</span><span class="free">r</span><span class="main">,</span>QuotientGroupOp<span class="main">(</span><span class="free">AH</span><span class="main">,</span><span class="free">Op1</span><span class="main">,</span><span class="free">FR</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="main"><span class="free">𝟬</span></span>"</span></span>
  <span class="quoted"><span class="quoted">"SlopeEquivalenceRel <span class="main">=</span> <span class="free">r</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms Slopes_def Real_ZF_1_L8 RealNumbers_def
    SlopeEquivalenceRel_def SlopeOp1_def BoundedIntMaps_def
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Zero is the class of any finite range function.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real0<span class="main">)</span> Real_ZF_1_L10<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">s</span> <span class="main">∈</span> Slopes"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"SlopeEquivalenceRel<span class="main">``</span><span class="main">{</span><span class="free">s</span><span class="main">}</span> <span class="main">=</span> <span class="main"><span class="free">𝟬</span></span> <span class="main">⟷</span> <span class="free">s</span> <span class="main">∈</span> BoundedIntMaps"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?AH</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"AlmostHoms<span class="main">(</span>int<span class="main">,</span>IntegerAddition<span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?Op1</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"AlHomOp1<span class="main">(</span>int<span class="main">,</span>IntegerAddition<span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?FR</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"FinRangeFunctions<span class="main">(</span>int<span class="main">,</span>int<span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?r</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"QuotientGroupRel<span class="main">(</span><span class="var">?AH</span><span class="main">,</span><span class="var">?Op1</span><span class="main">,</span><span class="var">?FR</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?e</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"TheNeutralElement<span class="main">(</span><span class="var">?AH</span><span class="main">//</span><span class="var">?r</span><span class="main">,</span>QuotientGroupOp<span class="main">(</span><span class="var">?AH</span><span class="main">,</span><span class="var">?Op1</span><span class="main">,</span><span class="var">?FR</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"group1<span class="main">(</span>int<span class="main">,</span>IntegerAddition<span class="main">)</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">s</span><span class="main">∈</span><span class="var">?AH</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_L1 Slopes_def
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?r</span><span class="main">``</span><span class="main">{</span><span class="free">s</span><span class="main">}</span> <span class="main">=</span> <span class="var">?e</span> <span class="main">⟷</span> <span class="free">s</span> <span class="main">∈</span> <span class="var">?FR</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> group1.Group_ZF_3_3_L5 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"<span class="var">?r</span> <span class="main">=</span> SlopeEquivalenceRel"</span></span>
    <span class="quoted"><span class="quoted">"<span class="var">?e</span> <span class="main">=</span> <span class="main"><span class="free">𝟬</span></span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="var">?FR</span> <span class="main">=</span> BoundedIntMaps"</span></span>
    <span class="keyword1"><span class="command">using</span></span> SlopeEquivalenceRel_def Slopes_def SlopeOp1_def 
      BoundedIntMaps_def Real_ZF_1_L9 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹We will need a couple of results from <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>Group_ZF_3.thy›</span></span></span></span> 
  The first two that state that the definition
  of addition and multiplication of real numbers are consistent, 
  that is the result 
  does not depend on the choice of the slopes representing the numbers.
  The second one implies that what we call <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>SlopeEquivalenceRel›</span></span></span></span> 
  is actually an equivalence relation on the set of slopes.
  We also show that the neutral element of the multiplicative operation on
  reals (in short number $1$) is the class of the identity function on 
  integers.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> Real_ZF_1_L11<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span>
  <span class="quoted"><span class="quoted">"Congruent2<span class="main">(</span>SlopeEquivalenceRel<span class="main">,</span>SlopeOp1<span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"Congruent2<span class="main">(</span>SlopeEquivalenceRel<span class="main">,</span>SlopeOp2<span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"SlopeEquivalenceRel <span class="main">⊆</span> Slopes <span class="main">×</span> Slopes"</span></span>
  <span class="quoted"><span class="quoted">"equiv<span class="main">(</span>Slopes<span class="main">,</span> SlopeEquivalenceRel<span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"SlopeEquivalenceRel<span class="main">``</span><span class="main">{</span>id<span class="main">(</span>int<span class="main">)</span><span class="main">}</span> <span class="main">=</span> 
  TheNeutralElement<span class="main">(</span>RealNumbers<span class="main">,</span>RealMultiplication<span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"BoundedIntMaps <span class="main">⊆</span> Slopes"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?G</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"int"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?f</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"IntegerAddition"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?AH</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"AlmostHoms<span class="main">(</span>int<span class="main">,</span>IntegerAddition<span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?Op1</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"AlHomOp1<span class="main">(</span>int<span class="main">,</span>IntegerAddition<span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?Op2</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"AlHomOp2<span class="main">(</span>int<span class="main">,</span>IntegerAddition<span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?FR</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"FinRangeFunctions<span class="main">(</span>int<span class="main">,</span>int<span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?R</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"QuotientGroupRel<span class="main">(</span><span class="var">?AH</span><span class="main">,</span><span class="var">?Op1</span><span class="main">,</span><span class="var">?FR</span><span class="main">)</span>"</span></span>
   <span class="keyword1"><span class="command">have</span></span> 
     <span class="quoted"><span class="quoted">"Congruent2<span class="main">(</span><span class="var">?R</span><span class="main">,</span><span class="var">?Op1</span><span class="main">)</span>"</span></span>
     <span class="quoted"><span class="quoted">"Congruent2<span class="main">(</span><span class="var">?R</span><span class="main">,</span><span class="var">?Op2</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_L1 group1.Group_ZF_3_4_L13A group1.Group_ZF_3_3_L4
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> 
    <span class="quoted"><span class="quoted">"Congruent2<span class="main">(</span>SlopeEquivalenceRel<span class="main">,</span>SlopeOp1<span class="main">)</span>"</span></span>
    <span class="quoted"><span class="quoted">"Congruent2<span class="main">(</span>SlopeEquivalenceRel<span class="main">,</span>SlopeOp2<span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> SlopeEquivalenceRel_def SlopeOp1_def Slopes_def 
      BoundedIntMaps_def SlopeOp2_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"equiv<span class="main">(</span><span class="var">?AH</span><span class="main">,</span><span class="var">?R</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_L1 group1.Group_ZF_3_3_L3 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"equiv<span class="main">(</span>Slopes<span class="main">,</span>SlopeEquivalenceRel<span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> BoundedIntMaps_def SlopeEquivalenceRel_def SlopeOp1_def Slopes_def
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"SlopeEquivalenceRel <span class="main">⊆</span> Slopes <span class="main">×</span> Slopes"</span></span>
    <span class="keyword1"><span class="command">using</span></span> equiv_type <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?R</span><span class="main">``</span><span class="main">{</span>id<span class="main">(</span>int<span class="main">)</span><span class="main">}</span> <span class="main">=</span> TheNeutralElement<span class="main">(</span><span class="var">?AH</span><span class="main">//</span><span class="var">?R</span><span class="main">,</span>ProjFun2<span class="main">(</span><span class="var">?AH</span><span class="main">,</span><span class="var">?R</span><span class="main">,</span><span class="var">?Op2</span><span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_L1 group1.Group_ZF_3_4_T2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span>  <span class="quoted"><span class="quoted">"SlopeEquivalenceRel<span class="main">``</span><span class="main">{</span>id<span class="main">(</span>int<span class="main">)</span><span class="main">}</span> <span class="main">=</span> 
    TheNeutralElement<span class="main">(</span>RealNumbers<span class="main">,</span>RealMultiplication<span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Slopes_def RealNumbers_def
    SlopeEquivalenceRel_def SlopeOp1_def BoundedIntMaps_def
    RealMultiplication_def SlopeOp2_def
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?FR</span> <span class="main">⊆</span> <span class="var">?AH</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_L1 group1.Group_ZF_3_3_L1
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"BoundedIntMaps <span class="main">⊆</span> Slopes"</span></span>
    <span class="keyword1"><span class="command">using</span></span> BoundedIntMaps_def Slopes_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹A one-side implication of the equivalence from <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>Real_ZF_1_L10›</span></span></span></span>:
  the class of a bounded integer map is the real zero.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real0<span class="main">)</span> Real_ZF_1_L11A<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">s</span> <span class="main">∈</span> BoundedIntMaps"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"SlopeEquivalenceRel<span class="main">``</span><span class="main">{</span><span class="free">s</span><span class="main">}</span> <span class="main">=</span> <span class="main"><span class="free">𝟬</span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms Real_ZF_1_L11 Real_ZF_1_L10 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The next lemma is rephrases the result from <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>Group_ZF_3.thy›</span></span></span></span>
  that says that the negative (the group inverse with respect to real 
  addition) of the class of a slope is the class of that slope 
  composed with the integer additive group inverse. The result and proof is not
  very readable as we use mostly generic set theory notation with long names 
  here. <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>Real_ZF_1.thy›</span></span></span></span> contains the same statement written in a more
  readable notation: $[-s] = -[s]$.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> real0<span class="main">)</span> Real_ZF_1_L12<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">s</span> <span class="main">∈</span> Slopes"</span></span> <span class="keyword2"><span class="keyword">and</span></span> 
  Dr<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">r</span> <span class="main">=</span> QuotientGroupRel<span class="main">(</span>Slopes<span class="main">,</span>SlopeOp1<span class="main">,</span>BoundedIntMaps<span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">r</span><span class="main">``</span><span class="main">{</span>GroupInv<span class="main">(</span>int<span class="main">,</span>IntegerAddition<span class="main">)</span> <span class="keyword1">O</span> <span class="free">s</span><span class="main">}</span> <span class="main">=</span> <span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="main">(</span><span class="free">r</span><span class="main">``</span><span class="main">{</span><span class="free">s</span><span class="main">}</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?G</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"int"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?f</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"IntegerAddition"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?AH</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"AlmostHoms<span class="main">(</span>int<span class="main">,</span>IntegerAddition<span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?Op1</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"AlHomOp1<span class="main">(</span>int<span class="main">,</span>IntegerAddition<span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?FR</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"FinRangeFunctions<span class="main">(</span>int<span class="main">,</span>int<span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?F</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"ProjFun2<span class="main">(</span>Slopes<span class="main">,</span><span class="free">r</span><span class="main">,</span>SlopeOp1<span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">from</span></span> A1 Dr <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"group1<span class="main">(</span><span class="var">?G</span><span class="main">,</span> <span class="var">?f</span><span class="main">)</span>"</span></span> 
    <span class="quoted"><span class="quoted">"<span class="free">s</span> <span class="main">∈</span> AlmostHoms<span class="main">(</span><span class="var">?G</span><span class="main">,</span> <span class="var">?f</span><span class="main">)</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">r</span> <span class="main">=</span> QuotientGroupRel<span class="main">(</span>
    AlmostHoms<span class="main">(</span><span class="var">?G</span><span class="main">,</span> <span class="var">?f</span><span class="main">)</span><span class="main">,</span> AlHomOp1<span class="main">(</span><span class="var">?G</span><span class="main">,</span> <span class="var">?f</span><span class="main">)</span><span class="main">,</span> FinRangeFunctions<span class="main">(</span><span class="var">?G</span><span class="main">,</span> <span class="var">?G</span><span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="var">?F</span> <span class="main">=</span> ProjFun2<span class="main">(</span>AlmostHoms<span class="main">(</span><span class="var">?G</span><span class="main">,</span> <span class="var">?f</span><span class="main">)</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> AlHomOp1<span class="main">(</span><span class="var">?G</span><span class="main">,</span> <span class="var">?f</span><span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_L1 Slopes_def SlopeOp1_def BoundedIntMaps_def
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">r</span><span class="main">``</span><span class="main">{</span>GroupInv<span class="main">(</span><span class="var">?G</span><span class="main">,</span> <span class="var">?f</span><span class="main">)</span> <span class="keyword1">O</span> <span class="free">s</span><span class="main">}</span> <span class="main">=</span>
    GroupInv<span class="main">(</span>AlmostHoms<span class="main">(</span><span class="var">?G</span><span class="main">,</span> <span class="var">?f</span><span class="main">)</span> <span class="main">//</span> <span class="free">r</span><span class="main">,</span> <span class="var">?F</span><span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="free">r</span> <span class="main">``</span> <span class="main">{</span><span class="free">s</span><span class="main">}</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> group1.Group_ZF_3_3_L6 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> Dr <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span>
    <span class="keyword1"><span class="command">using</span></span> RealNumbers_def Slopes_def SlopeEquivalenceRel_def RealAddition_def
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Two classes are equal iff the slopes that represent them 
  are almost equal.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> Real_ZF_1_L13<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">s</span> <span class="main">∈</span> Slopes"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">p</span> <span class="main">∈</span> Slopes"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">r</span> <span class="main">=</span> SlopeEquivalenceRel"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">r</span><span class="main">``</span><span class="main">{</span><span class="free">s</span><span class="main">}</span> <span class="main">=</span> <span class="free">r</span><span class="main">``</span><span class="main">{</span><span class="free">p</span><span class="main">}</span> <span class="main">⟷</span> <span class="main">⟨</span><span class="free">s</span><span class="main">,</span><span class="free">p</span><span class="main">⟩</span> <span class="main">∈</span>  <span class="free">r</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms Real_ZF_1_L11 eq_equiv_class equiv_class_eq
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Identity function on integers is a slope.
  Thislemma  concludes the easy part of the construction that follows from
  the fact that slope equivalence classes form a ring. It is easy to see
  that multiplication of classes of almost homomorphisms is not 
  commutative in general.
  The remaining properties of real numbers, like commutativity of 
  multiplication and the existence of multiplicative inverses have to be 
  proven using properties of the group of integers, rather that in general
  setting of abelian groups.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> Real_ZF_1_L14<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"id<span class="main">(</span>int<span class="main">)</span> <span class="main">∈</span> Slopes"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"id<span class="main">(</span>int<span class="main">)</span> <span class="main">∈</span> AlmostHoms<span class="main">(</span>int<span class="main">,</span>IntegerAddition<span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> Real_ZF_1_L1 group1.Group_ZF_3_4_L15
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> Slopes_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword2"><span class="keyword">end</span></span>
</pre>
</body>

</html>