<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory Real_ZF_2</title>
</head>


<body>
<div class="head">
<h1>Theory Real_ZF_2</h1>
</div>

<pre class="source"><span class="comment1">(* 
    This file is a part of IsarMathLib - 
    a library of formalized mathematics written for Isabelle/Isar.

    Copyright (C) 2020,2021 Slawomir Kolodynski

    This program is free software; Redistribution and use in source and binary forms, 
    with or without modification, are permitted provided that the following conditions are met:

   1. Redistributions of source code must retain the above copyright notice, 
   this list of conditions and the following disclaimer.
   2. Redistributions in binary form must reproduce the above copyright notice, 
   this list of conditions and the following disclaimer in the documentation and/or 
   other materials provided with the distribution.
   3. The name of the author may not be used to endorse or promote products 
   derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED 
WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF 
MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, 
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, 
PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; 
OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR 
OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, 
EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. *)</span>

<span class="keyword1"><span class="command">section</span></span> <span class="quoted"><span class="plain_text">‚Äπ Basic properties of real numbers ‚Ä∫</span></span>

<span class="keyword1"><span class="command">theory</span></span> Real_ZF_2 <span class="keyword2"><span class="keyword">imports</span></span> <a href="OrderedField_ZF.html">OrderedField_ZF</a> <a href="MetricSpace_ZF.html">MetricSpace_ZF</a>
<span class="keyword2"><span class="keyword">begin</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚Äπ Isabelle/ZF and IsarMathLib do not have a set of real numbers built-in. 
  The <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>Real_ZF‚Ä∫</span></span></span></span> and <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>Real_ZF_1‚Ä∫</span></span></span></span> theories provide a construction but here we do not use it in any way
  and we just assume that we have a model of real numbers (i.e. a completely ordered field) 
  as defined in the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>Ordered_Field‚Ä∫</span></span></span></span> theory. The construction only assures us that objects with 
  the desired properties exist in the ZF world. ‚Ä∫</span></span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‚ÄπBasic notation for real numbers‚Ä∫</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚Äπ In this section we define notation that we will use whenever real numbers play a role, i.e. 
  most of mathematics.‚Ä∫</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚Äπ The next locale sets up notation for contexts where real numbers are used. ‚Ä∫</span></span>

<span class="keyword1"><span class="command">locale</span></span> reals <span class="main">=</span>
  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">Reals</span><span class="main">(</span><span class="quoted">"<span class="keyword1">‚Ñù</span>"</span><span class="main">)</span> <span class="keyword2"><span class="keyword">and</span></span> <span class="free">Add</span> <span class="keyword2"><span class="keyword">and</span></span> <span class="free">Mul</span> <span class="keyword2"><span class="keyword">and</span></span> <span class="free">ROrd</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> R_are_reals<span class="main">:</span> <span class="quoted"><span class="quoted">"IsAmodelOfReals<span class="main">(</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">,</span><span class="free">Add</span><span class="main">,</span><span class="free">Mul</span><span class="main">,</span> <span class="free">ROrd</span><span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">zero</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">ùü¨</span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> zero_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùü¨</span></span> <span class="main">‚â°</span> TheNeutralElement<span class="main">(</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">,</span><span class="free">Add</span><span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">one</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">ùü≠</span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> one_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùü≠</span></span> <span class="main">‚â°</span> TheNeutralElement<span class="main">(</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">,</span><span class="free">Mul</span><span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">realmul</span> <span class="main">(</span><span class="keyword2"><span class="keyword">infixl</span></span> <span class="quoted">"<span class="keyword1">\&lt;rmu&gt;</span>"</span> 71<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> realmul_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main"><span class="free">\&lt;rmu&gt;</span></span> <span class="free">y</span> <span class="main">‚â°</span> <span class="free">Mul</span><span class="main">`</span><span class="main">‚ü®</span><span class="free">x</span><span class="main">,</span><span class="free">y</span><span class="main">‚ü©</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">realadd</span> <span class="main">(</span><span class="keyword2"><span class="keyword">infixl</span></span> <span class="quoted">"<span class="keyword1">\&lt;ra&gt;</span>"</span> 69<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> realadd_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">y</span> <span class="main">‚â°</span> <span class="free">Add</span><span class="main">`</span><span class="main">‚ü®</span><span class="free">x</span><span class="main">,</span><span class="free">y</span><span class="main">‚ü©</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">realminus</span><span class="main">(</span><span class="quoted">"<span class="keyword1">\&lt;rm&gt;</span> _"</span> 89<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> realminus_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">x</span><span class="main">)</span> <span class="main">‚â°</span> GroupInv<span class="main">(</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">,</span><span class="free">Add</span><span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="free">x</span><span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">realsub</span> <span class="main">(</span><span class="keyword2"><span class="keyword">infixl</span></span> <span class="quoted">"<span class="keyword1">\&lt;rs&gt;</span>"</span> 90<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> realsub_def <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="free">y</span> <span class="main">‚â°</span> <span class="free">x</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">y</span><span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">lesseq</span> <span class="main">(</span><span class="keyword2"><span class="keyword">infix</span></span> <span class="quoted">"<span class="keyword1">\&lt;lsq&gt;</span>"</span> 68<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> lesseq_def <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">y</span> <span class="main">‚â°</span> <span class="main">‚ü®</span><span class="free">x</span><span class="main">,</span><span class="free">y</span><span class="main">‚ü©</span> <span class="main">‚àà</span>  <span class="free">ROrd</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">sless</span> <span class="main">(</span><span class="keyword2"><span class="keyword">infix</span></span> <span class="quoted">"<span class="keyword1">\&lt;ls&gt;</span>"</span> 68<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> sless_def <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">y</span> <span class="main">‚â°</span> <span class="free">x</span><span class="main"><span class="free">\&lt;lsq&gt;</span></span><span class="free">y</span> <span class="main">‚àß</span> <span class="free">x</span><span class="main">‚â†</span><span class="free">y</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">nonnegative</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">‚Ñù<span class="hidden">‚áß</span><sup>+</sup></span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> nonnegative_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">‚Ñù<span class="hidden">‚áß</span><sup>+</sup></span></span> <span class="main">‚â°</span> Nonnegative<span class="main">(</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">,</span><span class="free">Add</span><span class="main">,</span> <span class="free">ROrd</span><span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">positiveset</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">‚Ñù<span class="hidden">‚á©</span><sub>+</sub></span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> positiveset_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">‚Ñù<span class="hidden">‚á©</span><sub>+</sub></span></span> <span class="main">‚â°</span> PositiveSet<span class="main">(</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">,</span><span class="free">Add</span><span class="main">,</span> <span class="free">ROrd</span><span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">setinv</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">\&lt;sm&gt;</span> _"</span> 72<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> setninv_def <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">\&lt;sm&gt;</span></span><span class="free">A</span> <span class="main">‚â°</span> GroupInv<span class="main">(</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">,</span><span class="free">Add</span><span class="main">)</span><span class="main">``</span><span class="main">(</span><span class="free">A</span><span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">non_zero</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">‚Ñù<span class="hidden">‚á©</span><sub>0</sub></span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> non_zero_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">‚Ñù<span class="hidden">‚á©</span><sub>0</sub></span></span> <span class="main">‚â°</span> <span class="main"><span class="free">‚Ñù</span></span><span class="main">-</span><span class="main">{</span><span class="main"><span class="free">ùü¨</span></span><span class="main">}</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">abs</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">¬¶</span> _ <span class="keyword1">¬¶</span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> abs_def <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">¬¶</span></span><span class="free">x</span><span class="main"><span class="free">¬¶</span></span> <span class="main">‚â°</span> AbsoluteValue<span class="main">(</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">,</span><span class="free">Add</span><span class="main">,</span><span class="free">ROrd</span><span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="free">x</span><span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">dist</span>
  <span class="keyword2"><span class="keyword">defines</span></span> dist_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">dist</span> <span class="main">‚â°</span> <span class="main">{</span><span class="main">‚ü®</span><span class="bound">p</span><span class="main">,</span><span class="main"><span class="free">¬¶</span></span>fst<span class="main">(</span><span class="bound">p</span><span class="main">)</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> snd<span class="main">(</span><span class="bound">p</span><span class="main">)</span><span class="main"><span class="free">¬¶</span></span><span class="main">‚ü©</span> <span class="main">.</span> <span class="bound">p</span> <span class="main">‚àà</span> <span class="main"><span class="free">‚Ñù</span></span><span class="main">√ó</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">}</span>"</span></span> 

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">two</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">ùüÆ</span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> two_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ùüÆ</span></span> <span class="main">‚â°</span> <span class="main"><span class="free">ùü≠</span></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main"><span class="free">ùü≠</span></span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">inv</span> <span class="main">(</span><span class="quoted">"_<span class="keyword1">¬Ø</span> "</span> <span class="main">[</span>96<span class="main">]</span> 97<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> inv_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> 
    <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main"><span class="free">¬Ø</span></span> <span class="main">‚â°</span> GroupInv<span class="main">(</span><span class="main"><span class="free">‚Ñù<span class="hidden">‚á©</span><sub>0</sub></span></span><span class="main">,</span>restrict<span class="main">(</span><span class="free">Mul</span><span class="main">,</span><span class="main"><span class="free">‚Ñù<span class="hidden">‚á©</span><sub>0</sub></span></span><span class="main">√ó</span><span class="main"><span class="free">‚Ñù<span class="hidden">‚á©</span><sub>0</sub></span></span><span class="main">)</span><span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="free">x</span><span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">realsq</span> <span class="main">(</span><span class="quoted">"_<span class="keyword1"><span class="hidden">‚áß</span><sup>2</sup></span>"</span> <span class="main">[</span>96<span class="main">]</span> 97<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> realsq_def <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main"><span class="free"><span class="hidden">‚áß</span><sup>2</sup></span></span> <span class="main">‚â°</span> <span class="free">x</span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="free">x</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">oddext</span> <span class="main">(</span><span class="quoted">"_ <span class="keyword1">¬∞</span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> oddext_def <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">f</span><span class="main"><span class="free">¬∞</span></span> <span class="main">‚â°</span> OddExtension<span class="main">(</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">,</span><span class="free">Add</span><span class="main">,</span><span class="free">ROrd</span><span class="main">,</span><span class="free">f</span><span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">disk</span>
  <span class="keyword2"><span class="keyword">defines</span></span> disk_def <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">disk</span><span class="main">(</span><span class="free">c</span><span class="main">,</span><span class="free">r</span><span class="main">)</span> <span class="main">‚â°</span> Disk<span class="main">(</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">,</span><span class="free">dist</span><span class="main">,</span><span class="free">ROrd</span><span class="main">,</span><span class="free">c</span><span class="main">,</span><span class="free">r</span><span class="main">)</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚Äπ The assumtions of the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>field1‚Ä∫</span></span></span></span> locale (that sets the context for ordered fields) 
  hold in the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>reals‚Ä∫</span></span></span></span> locale ‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> reals<span class="main">)</span> field1_is_valid<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"field1<span class="main">(</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">,</span> <span class="free">Add</span><span class="main">,</span> <span class="free">Mul</span><span class="main">,</span><span class="free">ROrd</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span>
  <span class="keyword1"><span class="command">from</span></span> R_are_reals <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"IsAring<span class="main">(</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">,</span> <span class="free">Add</span><span class="main">,</span> <span class="free">Mul</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">Mul</span> <span class="keyword1">{is</span> <span class="keyword1">commutative</span> <span class="keyword1">on}</span> <span class="main"><span class="free">‚Ñù</span></span>"</span></span>
    <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">ROrd</span> <span class="main">‚äÜ</span> <span class="main"><span class="free">‚Ñù</span></span> <span class="main">√ó</span> <span class="main"><span class="free">‚Ñù</span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"IsLinOrder<span class="main">(</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">,</span>  <span class="free">ROrd</span><span class="main">)</span>"</span></span> 
    <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚àÄ</span><span class="bound">x</span> <span class="bound">y</span><span class="main">.</span> <span class="main">‚àÄ</span><span class="bound">z</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">.</span> <span class="main">‚ü®</span><span class="bound">x</span><span class="main">,</span> <span class="bound">y</span><span class="main">‚ü©</span> <span class="main">‚àà</span> <span class="free">ROrd</span> <span class="main">‚ü∂</span> <span class="main">‚ü®</span><span class="free">Add</span><span class="main">`</span><span class="main">‚ü®</span><span class="bound">x</span><span class="main">,</span> <span class="bound">z</span><span class="main">‚ü©</span><span class="main">,</span> <span class="free">Add</span><span class="main">`</span><span class="main">‚ü®</span><span class="bound">y</span><span class="main">,</span> <span class="bound">z</span><span class="main">‚ü©</span><span class="main">‚ü©</span> <span class="main">‚àà</span> <span class="free">ROrd</span>"</span></span>
    <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"Nonnegative<span class="main">(</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">,</span> <span class="free">Add</span><span class="main">,</span> <span class="free">ROrd</span><span class="main">)</span> <span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">under}</span> <span class="free">Mul</span>"</span></span>
    <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"TheNeutralElement<span class="main">(</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">,</span> <span class="free">Add</span><span class="main">)</span> <span class="main">‚â†</span> TheNeutralElement<span class="main">(</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">,</span> <span class="free">Mul</span><span class="main">)</span>"</span></span>
    <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚àÄ</span><span class="bound">x</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">.</span> <span class="bound">x</span> <span class="main">‚â†</span> TheNeutralElement<span class="main">(</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">,</span><span class="free">Add</span><span class="main">)</span> <span class="main">‚ü∂</span> <span class="main">(</span><span class="main">‚àÉ</span><span class="bound">y</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">.</span> <span class="free">Mul</span><span class="main">`</span><span class="main">‚ü®</span><span class="bound">x</span><span class="main">,</span> <span class="bound">y</span><span class="main">‚ü©</span> <span class="main">=</span> TheNeutralElement<span class="main">(</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">,</span><span class="free">Mul</span><span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> IsAmodelOfReals_def IsAnOrdField_def IsAnOrdRing_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>
  
<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚Äπ We can use theorems proven in the  <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>field1‚Ä∫</span></span></span></span> locale in the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>reals‚Ä∫</span></span></span></span> locale. 
  Note that since the the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>field1‚Ä∫</span></span></span></span> locale is an extension of the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>ring1‚Ä∫</span></span></span></span> locale, which is an 
  extension of <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>ring0‚Ä∫</span></span></span></span> locale , this makes available also the theorems proven in 
  the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>ring1‚Ä∫</span></span></span></span> and <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>ring0‚Ä∫</span></span></span></span> locales. ‚Ä∫</span></span>

<span class="keyword1"><span class="command">sublocale</span></span> reals <span class="main">&lt;</span> field1 <span class="quoted"><span class="free">Reals</span></span> <span class="quoted"><span class="free">Add</span></span> <span class="quoted"><span class="free">Mul</span></span> <span class="quoted"><span class="free">realadd</span></span> <span class="quoted"><span class="free">realminus</span></span> <span class="quoted"><span class="free">realsub</span></span> <span class="quoted"><span class="free">realmul</span></span> <span class="quoted"><span class="free">zero</span></span> <span class="quoted"><span class="free">one</span></span> <span class="quoted"><span class="free">two</span></span> <span class="quoted"><span class="free">realsq</span></span> <span class="quoted"><span class="free">ROrd</span></span>
  <span class="keyword1"><span class="command">using</span></span> field1_is_valid <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚Äπ The <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>group3‚Ä∫</span></span></span></span> locale from the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>OrderedGroup_ZF‚Ä∫</span></span></span></span> theory defines context for theorems about 
  ordered groups. We can use theorems proven in there in the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>reals‚Ä∫</span></span></span></span> locale as real numbers 
  with addition form an ordered group. ‚Ä∫</span></span>

<span class="keyword1"><span class="command">sublocale</span></span> reals <span class="main">&lt;</span> group3 <span class="quoted"><span class="free">Reals</span></span> <span class="quoted"><span class="free">Add</span></span> <span class="quoted"><span class="free">ROrd</span></span> <span class="quoted"><span class="free">zero</span></span> <span class="quoted"><span class="free">realadd</span></span> <span class="quoted"><span class="free">realminus</span></span> <span class="quoted"><span class="free">lesseq</span></span> <span class="quoted"><span class="free">sless</span></span> <span class="quoted"><span class="free">nonnegative</span></span> <span class="quoted"><span class="free">positiveset</span></span>
  <span class="keyword1"><span class="command">unfolding</span></span> group3_def <span class="keyword1"><span class="command">using</span></span> OrdRing_ZF_1_L4 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπSince real numbers with addition form a group we can use the theorems proven in the  <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>group0‚Ä∫</span></span></span></span> 
  locale defined in the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>Group_ZF‚Ä∫</span></span></span></span> theory in the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>reals‚Ä∫</span></span></span></span> locale. ‚Ä∫</span></span>

<span class="keyword1"><span class="command">sublocale</span></span> reals <span class="main">&lt;</span> group0 <span class="quoted"><span class="free">Reals</span></span> <span class="quoted"><span class="free">Add</span></span> <span class="quoted"><span class="free">zero</span></span> <span class="quoted"><span class="free">realadd</span></span> <span class="quoted"><span class="free">realminus</span></span> 
  <span class="keyword1"><span class="command">unfolding</span></span> group3_def <span class="keyword1"><span class="command">using</span></span> OrderedGroup_ZF_1_L1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπLet's recall basic properties of the real line. ‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> reals<span class="main">)</span> basic_props<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span>  <span class="quoted"><span class="quoted">"<span class="free">ROrd</span> <span class="keyword1">{is</span> <span class="keyword1">total</span> <span class="keyword1">on}</span> <span class="main"><span class="free">‚Ñù</span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">Add</span> <span class="keyword1">{is</span> <span class="keyword1">commutative</span> <span class="keyword1">on}</span> <span class="main"><span class="free">‚Ñù</span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> OrdRing_ZF_1_L4<span class="main">(</span>2<span class="main">,</span>3<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> 

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚Äπ The distance function <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>dist‚Ä∫</span></span></span></span> defined in the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>reals‚Ä∫</span></span></span></span> locale is a metric. ‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> reals<span class="main">)</span> dist_is_metric<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">dist</span> <span class="main">:</span> <span class="main"><span class="free">‚Ñù</span></span><span class="main">√ó</span><span class="main"><span class="free">‚Ñù</span></span> <span class="main">‚Üí</span> <span class="main"><span class="free">‚Ñù<span class="hidden">‚áß</span><sup>+</sup></span></span>"</span></span> 
  <span class="quoted"><span class="quoted">"<span class="main">‚àÄ</span><span class="bound">x</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">.</span><span class="main">‚àÄ</span><span class="bound">y</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">.</span> <span class="free">dist</span><span class="main">`</span><span class="main">‚ü®</span><span class="bound">x</span><span class="main">,</span><span class="bound">y</span><span class="main">‚ü©</span> <span class="main">=</span> <span class="main"><span class="free">¬¶</span></span><span class="bound">x</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="bound">y</span><span class="main"><span class="free">¬¶</span></span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">‚àÄ</span><span class="bound">x</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">.</span><span class="free">dist</span><span class="main">`</span><span class="main">‚ü®</span><span class="bound">x</span><span class="main">,</span><span class="bound">x</span><span class="main">‚ü©</span> <span class="main">=</span> <span class="main"><span class="free">ùü¨</span></span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">‚àÄ</span><span class="bound">x</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">.</span><span class="main">‚àÄ</span><span class="bound">y</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">.</span> <span class="free">dist</span><span class="main">`</span><span class="main">‚ü®</span><span class="bound">x</span><span class="main">,</span><span class="bound">y</span><span class="main">‚ü©</span> <span class="main">=</span> <span class="free">dist</span><span class="main">`</span><span class="main">‚ü®</span><span class="bound">y</span><span class="main">,</span><span class="bound">x</span><span class="main">‚ü©</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">‚àÄ</span><span class="bound">x</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">.</span><span class="main">‚àÄ</span><span class="bound">y</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">.</span><span class="main">‚àÄ</span><span class="bound">z</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">.</span> <span class="main"><span class="free">¬¶</span></span><span class="bound">x</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="bound">z</span><span class="main"><span class="free">¬¶</span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="main"><span class="free">¬¶</span></span><span class="bound">x</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="bound">y</span><span class="main"><span class="free">¬¶</span></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main"><span class="free">¬¶</span></span><span class="bound">y</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="bound">z</span><span class="main"><span class="free">¬¶</span></span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">‚àÄ</span><span class="bound">x</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">.</span><span class="main">‚àÄ</span><span class="bound">y</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">.</span><span class="main">‚àÄ</span><span class="bound">z</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">.</span> <span class="free">dist</span><span class="main">`</span><span class="main">‚ü®</span><span class="bound">x</span><span class="main">,</span><span class="bound">z</span><span class="main">‚ü©</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">dist</span><span class="main">`</span><span class="main">‚ü®</span><span class="bound">x</span><span class="main">,</span> <span class="bound">y</span><span class="main">‚ü©</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">dist</span><span class="main">`</span><span class="main">‚ü®</span><span class="bound">y</span><span class="main">,</span><span class="bound">z</span><span class="main">‚ü©</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">‚àÄ</span><span class="bound">x</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">.</span><span class="main">‚àÄ</span><span class="bound">y</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">.</span> <span class="free">dist</span><span class="main">`</span><span class="main">‚ü®</span><span class="bound">x</span><span class="main">,</span><span class="bound">y</span><span class="main">‚ü©</span> <span class="main">=</span> <span class="main"><span class="free">ùü¨</span></span> <span class="main">‚ü∂</span> <span class="bound">x</span><span class="main">=</span><span class="bound">y</span>"</span></span> 
  <span class="quoted"><span class="quoted">"IsApseudoMetric<span class="main">(</span><span class="free">dist</span><span class="main">,</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">,</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">,</span><span class="free">Add</span><span class="main">,</span><span class="free">ROrd</span><span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"IsAmetric<span class="main">(</span><span class="free">dist</span><span class="main">,</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">,</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">,</span><span class="free">Add</span><span class="main">,</span><span class="free">ROrd</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword3"><span class="command">show</span></span> I<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">dist</span> <span class="main">:</span> <span class="main"><span class="free">‚Ñù</span></span><span class="main">√ó</span><span class="main"><span class="free">‚Ñù</span></span> <span class="main">‚Üí</span> <span class="main"><span class="free">‚Ñù<span class="hidden">‚áß</span><sup>+</sup></span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> group_op_closed inverse_in_group OrdRing_ZF_1_L4 
      OrderedGroup_ZF_3_L3B  ZF_fun_from_total <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> II<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">‚àÄ</span><span class="bound">x</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">.</span><span class="main">‚àÄ</span><span class="bound">y</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">.</span> <span class="free">dist</span><span class="main">`</span><span class="main">‚ü®</span><span class="bound">x</span><span class="main">,</span><span class="bound">y</span><span class="main">‚ü©</span> <span class="main">=</span> <span class="main"><span class="free">¬¶</span></span><span class="bound">x</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="bound">y</span><span class="main"><span class="free">¬¶</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> ZF_fun_from_tot_val0 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> III<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">‚àÄ</span><span class="bound">x</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">.</span><span class="free">dist</span><span class="main">`</span><span class="main">‚ü®</span><span class="bound">x</span><span class="main">,</span><span class="bound">x</span><span class="main">‚ü©</span> <span class="main">=</span> <span class="main"><span class="free">ùü¨</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> group0_2_L6 OrderedGroup_ZF_3_L2A <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">{</span></span> <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="skolem">y</span>
    <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="main">(</span><span class="skolem">x</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="skolem">y</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="skolem">y</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="skolem">x</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> group0_2_L12 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">x</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span>‚Ä∫</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">y</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">¬¶</span></span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="main">(</span><span class="skolem">x</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="skolem">y</span><span class="main">)</span><span class="main"><span class="free">¬¶</span></span> <span class="main">=</span><span class="main"><span class="free">¬¶</span></span><span class="skolem">x</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="skolem">y</span><span class="main"><span class="free">¬¶</span></span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> group_op_closed inverse_in_group basic_props<span class="main">(</span>1<span class="main">)</span> OrderedGroup_ZF_3_L7A
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">¬¶</span></span><span class="skolem">y</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="skolem">x</span><span class="main"><span class="free">¬¶</span></span> <span class="main">=</span> <span class="main"><span class="free">¬¶</span></span><span class="skolem">x</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="skolem">y</span><span class="main"><span class="free">¬¶</span></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">x</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span>‚Ä∫</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">y</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span>‚Ä∫</span></span> II <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">dist</span><span class="main">`</span><span class="main">‚ü®</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">y</span><span class="main">‚ü©</span> <span class="main">=</span> <span class="free">dist</span><span class="main">`</span><span class="main">‚ü®</span><span class="skolem">y</span><span class="main">,</span><span class="skolem">x</span><span class="main">‚ü©</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword3"><span class="command">thus</span></span> IV<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">‚àÄ</span><span class="bound">x</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">.</span><span class="main">‚àÄ</span><span class="bound">y</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">.</span> <span class="free">dist</span><span class="main">`</span><span class="main">‚ü®</span><span class="bound">x</span><span class="main">,</span><span class="bound">y</span><span class="main">‚ü©</span> <span class="main">=</span> <span class="free">dist</span><span class="main">`</span><span class="main">‚ü®</span><span class="bound">y</span><span class="main">,</span><span class="bound">x</span><span class="main">‚ü©</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">{</span></span> <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="skolem">y</span>
    <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">dist</span><span class="main">`</span><span class="main">‚ü®</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">y</span><span class="main">‚ü©</span> <span class="main">=</span> <span class="main"><span class="free">ùü¨</span></span>"</span></span>  
    <span class="keyword1"><span class="command">with</span></span> II <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">¬¶</span></span><span class="skolem">x</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="skolem">y</span><span class="main"><span class="free">¬¶</span></span> <span class="main">=</span> <span class="main"><span class="free">ùü¨</span></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">x</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span>‚Ä∫</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">y</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="skolem">y</span> <span class="main">=</span> <span class="main"><span class="free">ùü¨</span></span>"</span></span> 
      <span class="keyword1"><span class="command">using</span></span> group_op_closed inverse_in_group OrderedGroup_ZF_3_L3D <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">x</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span>‚Ä∫</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">y</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">=</span><span class="skolem">y</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> group0_2_L11A <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword3"><span class="command">thus</span></span> V<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">‚àÄ</span><span class="bound">x</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">.</span><span class="main">‚àÄ</span><span class="bound">y</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">.</span> <span class="free">dist</span><span class="main">`</span><span class="main">‚ü®</span><span class="bound">x</span><span class="main">,</span><span class="bound">y</span><span class="main">‚ü©</span> <span class="main">=</span> <span class="main"><span class="free">ùü¨</span></span> <span class="main">‚ü∂</span> <span class="bound">x</span><span class="main">=</span><span class="bound">y</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">{</span></span> <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="skolem">y</span> <span class="skolem">z</span>
    <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">¬¶</span></span><span class="skolem">x</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="skolem">z</span><span class="main"><span class="free">¬¶</span></span> <span class="main">=</span> <span class="main"><span class="free">¬¶</span></span><span class="main">(</span><span class="skolem">x</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="skolem">y</span><span class="main">)</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="main">(</span><span class="skolem">y</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="skolem">z</span><span class="main">)</span><span class="main"><span class="free">¬¶</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> cancel_middle<span class="main">(</span>5<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">x</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span>‚Ä∫</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">y</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span>‚Ä∫</span></span> <span class="quoted"><span class="quoted">‚Äπ<span class="skolem">z</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span>‚Ä∫</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">¬¶</span></span><span class="skolem">x</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="skolem">z</span><span class="main"><span class="free">¬¶</span></span>  <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="main"><span class="free">¬¶</span></span><span class="skolem">x</span><span class="main"><span class="free">\&lt;rs&gt;</span></span><span class="skolem">y</span><span class="main"><span class="free">¬¶</span></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main"><span class="free">¬¶</span></span><span class="skolem">y</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="skolem">z</span><span class="main"><span class="free">¬¶</span></span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> group_op_closed inverse_in_group OrdRing_ZF_1_L4<span class="main">(</span>2<span class="main">,</span>3<span class="main">)</span> OrdGroup_triangle_ineq
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword3"><span class="command">thus</span></span>  <span class="quoted"><span class="quoted">"<span class="main">‚àÄ</span><span class="bound">x</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">.</span><span class="main">‚àÄ</span><span class="bound">y</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">.</span><span class="main">‚àÄ</span><span class="bound">z</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">.</span> <span class="main"><span class="free">¬¶</span></span><span class="bound">x</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="bound">z</span><span class="main"><span class="free">¬¶</span></span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="main"><span class="free">¬¶</span></span><span class="bound">x</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="bound">y</span><span class="main"><span class="free">¬¶</span></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main"><span class="free">¬¶</span></span><span class="bound">y</span> <span class="main"><span class="free">\&lt;rs&gt;</span></span> <span class="bound">z</span><span class="main"><span class="free">¬¶</span></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> II <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚àÄ</span><span class="bound">x</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">.</span><span class="main">‚àÄ</span><span class="bound">y</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">.</span><span class="main">‚àÄ</span><span class="bound">z</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">.</span> <span class="free">dist</span><span class="main">`</span><span class="main">‚ü®</span><span class="bound">x</span><span class="main">,</span><span class="bound">z</span><span class="main">‚ü©</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">dist</span><span class="main">`</span><span class="main">‚ü®</span><span class="bound">x</span><span class="main">,</span> <span class="bound">y</span><span class="main">‚ü©</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">dist</span><span class="main">`</span><span class="main">‚ü®</span><span class="bound">y</span><span class="main">,</span><span class="bound">z</span><span class="main">‚ü©</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> I III IV V <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"IsApseudoMetric<span class="main">(</span><span class="free">dist</span><span class="main">,</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">,</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">,</span><span class="free">Add</span><span class="main">,</span><span class="free">ROrd</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"IsAmetric<span class="main">(</span><span class="free">dist</span><span class="main">,</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">,</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">,</span><span class="free">Add</span><span class="main">,</span><span class="free">ROrd</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">unfolding</span></span> IsApseudoMetric_def IsAmetric_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπReal numbers form an ordered loop.‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> reals<span class="main">)</span> reals_loop<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"IsAnOrdLoop<span class="main">(</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">,</span><span class="free">Add</span><span class="main">,</span><span class="free">ROrd</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IsAloop<span class="main">(</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">,</span><span class="free">Add</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> group_is_loop <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> R_are_reals <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">ROrd</span> <span class="main">‚äÜ</span> <span class="main"><span class="free">‚Ñù</span></span> <span class="main">√ó</span> <span class="main"><span class="free">‚Ñù</span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"IsPartOrder<span class="main">(</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">,</span><span class="free">ROrd</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> IsAmodelOfReals_def IsAnOrdField_def IsAnOrdRing_def Order_ZF_1_L2 
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> 
  <span class="keyword1"><span class="command">{</span></span> <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="skolem">y</span> <span class="skolem">z</span> <span class="keyword3"><span class="command">assume</span></span> A<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main"><span class="free">\&lt;lsq&gt;</span></span><span class="skolem">y</span> <span class="main">‚ü∑</span> <span class="skolem">x</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="skolem">z</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="skolem">y</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="skolem">z</span>"</span></span> 
      <span class="keyword1"><span class="command">using</span></span> ord_transl_inv ineq_cancel_right <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main"><span class="free">\&lt;lsq&gt;</span></span><span class="skolem">y</span> <span class="main">‚ü∑</span> <span class="skolem">z</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="skolem">x</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="skolem">z</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="skolem">y</span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> ord_transl_inv OrderedGroup_ZF_1_L5AE <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="skolem">x</span><span class="main"><span class="free">\&lt;lsq&gt;</span></span><span class="skolem">y</span> <span class="main">‚ü∑</span> <span class="skolem">x</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="skolem">z</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="skolem">y</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="skolem">z</span><span class="main">)</span> <span class="main">‚àß</span> <span class="main">(</span><span class="skolem">x</span><span class="main"><span class="free">\&lt;lsq&gt;</span></span><span class="skolem">y</span> <span class="main">‚ü∑</span> <span class="skolem">z</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="skolem">x</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="skolem">z</span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="skolem">y</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"IsAnOrdLoop<span class="main">(</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">,</span><span class="free">Add</span><span class="main">,</span><span class="free">ROrd</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsAnOrdLoop_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚Äπ The assumptions of the  <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>pmetric_space‚Ä∫</span></span></span></span> locale hold in the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‚Äπ</span></span>reals‚Ä∫</span></span></span></span> locale. ‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> reals<span class="main">)</span> pmetric_space_valid<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"pmetric_space<span class="main">(</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">,</span><span class="free">Add</span><span class="main">,</span> <span class="free">ROrd</span><span class="main">,</span><span class="free">dist</span><span class="main">,</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">)</span>"</span></span> 
  <span class="keyword1"><span class="command">unfolding</span></span> pmetric_space_def pmetric_space_axioms_def loop1_def
  <span class="keyword1"><span class="command">using</span></span> reals_loop dist_is_metric<span class="main">(</span>8<span class="main">)</span> 
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span> 

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπSome properties of the order relation on reals: ‚Ä∫</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> reals<span class="main">)</span> pos_is_lattice<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"IsLinOrder<span class="main">(</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">,</span><span class="free">ROrd</span><span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"IsLinOrder<span class="main">(</span><span class="main"><span class="free">‚Ñù<span class="hidden">‚á©</span><sub>+</sub></span></span><span class="main">,</span><span class="free">ROrd</span> <span class="main">‚à©</span> <span class="main"><span class="free">‚Ñù<span class="hidden">‚á©</span><sub>+</sub></span></span><span class="main">√ó</span><span class="main"><span class="free">‚Ñù<span class="hidden">‚á©</span><sub>+</sub></span></span><span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">ROrd</span> <span class="main">‚à©</span> <span class="main"><span class="free">‚Ñù<span class="hidden">‚á©</span><sub>+</sub></span></span><span class="main">√ó</span><span class="main"><span class="free">‚Ñù<span class="hidden">‚á©</span><sub>+</sub></span></span><span class="main">)</span> <span class="keyword1">{is</span> <span class="keyword1">a</span> <span class="keyword1">lattice</span> <span class="keyword1">on}</span> <span class="main"><span class="free">‚Ñù<span class="hidden">‚á©</span><sub>+</sub></span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"IsLinOrder<span class="main">(</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">,</span><span class="free">ROrd</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> OrdRing_ZF_1_L1 <span class="keyword1"><span class="command">unfolding</span></span> IsAnOrdRing_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">‚Ñù<span class="hidden">‚á©</span><sub>+</sub></span></span> <span class="main">‚äÜ</span> <span class="main"><span class="free">‚Ñù</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> pos_set_in_gr <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span> 
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"IsLinOrder<span class="main">(</span><span class="main"><span class="free">‚Ñù<span class="hidden">‚á©</span><sub>+</sub></span></span><span class="main">,</span><span class="free">ROrd</span> <span class="main">‚à©</span> <span class="main"><span class="free">‚Ñù<span class="hidden">‚á©</span><sub>+</sub></span></span><span class="main">√ó</span><span class="main"><span class="free">‚Ñù<span class="hidden">‚á©</span><sub>+</sub></span></span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> ord_linear_subset<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">ROrd</span> <span class="main">‚à©</span> <span class="main"><span class="free">‚Ñù<span class="hidden">‚á©</span><sub>+</sub></span></span><span class="main">√ó</span><span class="main"><span class="free">‚Ñù<span class="hidden">‚á©</span><sub>+</sub></span></span><span class="main">)</span> <span class="main">‚äÜ</span> <span class="main"><span class="free">‚Ñù<span class="hidden">‚á©</span><sub>+</sub></span></span><span class="main">√ó</span><span class="main"><span class="free">‚Ñù<span class="hidden">‚á©</span><sub>+</sub></span></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">ROrd</span> <span class="main">‚à©</span> <span class="main"><span class="free">‚Ñù<span class="hidden">‚á©</span><sub>+</sub></span></span><span class="main">√ó</span><span class="main"><span class="free">‚Ñù<span class="hidden">‚á©</span><sub>+</sub></span></span><span class="main">)</span> <span class="keyword1">{is</span> <span class="keyword1">a</span> <span class="keyword1">lattice</span> <span class="keyword1">on}</span> <span class="main"><span class="free">‚Ñù<span class="hidden">‚á©</span><sub>+</sub></span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lin_is_latt <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚Äπ We define the topology on reals as one consisting of the unions of open disks. ‚Ä∫</span></span>

<span class="keyword1"><span class="command">definition</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> reals<span class="main">)</span> <span class="entity">RealTopology</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">œÑ<span class="hidden">‚á©</span><sub>‚Ñù</sub></span>"</span><span class="main">)</span> 
  <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="keyword1"><span class="free">œÑ<span class="hidden">‚á©</span><sub>‚Ñù</sub></span></span> <span class="main">‚â°</span> <span class="main">{</span><span class="main">‚ãÉ</span><span class="bound">A</span><span class="main">.</span> <span class="bound">A</span> <span class="main">‚àà</span> Pow<span class="main">(</span><span class="main">‚ãÉ</span><span class="bound">c</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">.</span><span class="main">{</span><span class="free">disk</span><span class="main">(</span><span class="bound">c</span><span class="main">,</span><span class="bound">r</span><span class="main">)</span><span class="main">.</span> <span class="bound">r</span> <span class="main">‚àà</span> <span class="main"><span class="free">‚Ñù<span class="hidden">‚á©</span><sub>+</sub></span></span><span class="main">}</span><span class="main">)</span><span class="main">}</span>"</span></span>
  
<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‚ÄπReal numbers form a topological space with topology generated by open disks. ‚Ä∫</span></span>

<span class="keyword1"><span class="command">theorem</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> reals<span class="main">)</span> reals_is_top<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="keyword1">œÑ<span class="hidden">‚á©</span><sub>‚Ñù</sub></span> <span class="keyword1">{is</span> <span class="keyword1">a</span> <span class="keyword1">topology}</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚ãÉ</span><span class="keyword1">œÑ<span class="hidden">‚á©</span><sub>‚Ñù</sub></span> <span class="main">=</span> <span class="main"><span class="free">‚Ñù</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?B</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="main">‚ãÉ</span><span class="bound">c</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">.</span><span class="main">{</span><span class="free">disk</span><span class="main">(</span><span class="bound">c</span><span class="main">,</span><span class="bound">r</span><span class="main">)</span><span class="main">.</span> <span class="bound">r</span> <span class="main">‚àà</span> <span class="main"><span class="free">‚Ñù<span class="hidden">‚á©</span><sub>+</sub></span></span><span class="main">}</span>"</span></span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"pmetric_space<span class="main">(</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">,</span><span class="free">Add</span><span class="main">,</span> <span class="free">ROrd</span><span class="main">,</span><span class="free">dist</span><span class="main">,</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> pmetric_space_valid <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IsMeetSemilattice<span class="main">(</span><span class="main"><span class="free">‚Ñù<span class="hidden">‚á©</span><sub>+</sub></span></span><span class="main">,</span><span class="free">ROrd</span> <span class="main">‚à©</span> <span class="main"><span class="free">‚Ñù<span class="hidden">‚á©</span><sub>+</sub></span></span><span class="main">√ó</span><span class="main"><span class="free">‚Ñù<span class="hidden">‚á©</span><sub>+</sub></span></span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> pos_is_lattice<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsAlattice_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> R_are_reals <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">‚Ñù<span class="hidden">‚á©</span><sub>+</sub></span></span><span class="main">‚â†</span><span class="main">0</span>"</span></span> 
    <span class="keyword1"><span class="command">unfolding</span></span> IsAmodelOfReals_def IsAnOrdField_def <span class="keyword1"><span class="command">using</span></span> ordring_one_is_pos <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?B</span> <span class="main">=</span> <span class="main">(</span><span class="main">‚ãÉ</span><span class="bound">c</span><span class="main">‚àà</span><span class="main"><span class="free">‚Ñù</span></span><span class="main">.</span><span class="main">{</span><span class="free">disk</span><span class="main">(</span><span class="bound">c</span><span class="main">,</span><span class="bound">r</span><span class="main">)</span><span class="main">.</span> <span class="bound">r</span> <span class="main">‚àà</span> <span class="main"><span class="free">‚Ñù<span class="hidden">‚á©</span><sub>+</sub></span></span><span class="main">}</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="keyword1">œÑ<span class="hidden">‚á©</span><sub>‚Ñù</sub></span> <span class="main">=</span>  <span class="main">{</span><span class="main">‚ãÉ</span><span class="bound">A</span><span class="main">.</span> <span class="bound">A</span> <span class="main">‚àà</span> Pow<span class="main">(</span><span class="var">?B</span><span class="main">)</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> RealTopology_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="keyword1">œÑ<span class="hidden">‚á©</span><sub>‚Ñù</sub></span> <span class="keyword1">{is</span> <span class="keyword1">a</span> <span class="keyword1">topology}</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="main">‚ãÉ</span><span class="keyword1">œÑ<span class="hidden">‚á©</span><sub>‚Ñù</sub></span> <span class="main">=</span> <span class="main"><span class="free">‚Ñù</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> pmetric_space.pmetric_is_top
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword2"><span class="keyword">end</span></span>
</pre>
</body>

</html>