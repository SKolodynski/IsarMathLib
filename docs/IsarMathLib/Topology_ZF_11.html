<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory Topology_ZF_11</title>
</head>


<body>
<div class="head">
<h1>Theory Topology_ZF_11</h1>
</div>

<pre class="source"><span class="comment1">(* 
    This file is a part of IsarMathLib - 
    a library of formalized mathematics written for Isabelle/Isar.

    Copyright (C) 2013 Daniel de la Concepcion

    This program is free software; Redistribution and use in source and binary forms, 
    with or without modification, are permitted provided that the following conditions are met:

   1. Redistributions of source code must retain the above copyright notice, 
   this list of conditions and the following disclaimer.
   2. Redistributions in binary form must reproduce the above copyright notice, 
   this list of conditions and the following disclaimer in the documentation and/or 
   other materials provided with the distribution.
   3. The name of the author may not be used to endorse or promote products 
   derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED 
WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF 
MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, 
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, 
PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; 
OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR 
OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, 
EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. *)</span>

<span class="keyword1"><span class="command">section</span></span> <span class="quoted"><span class="plain_text">‹Topology 11›</span></span>

<span class="keyword1"><span class="command">theory</span></span> Topology_ZF_11 <span class="keyword2"><span class="keyword">imports</span></span> <a href="Topology_ZF_7.html">Topology_ZF_7</a> <a href="Finite_ZF_1.html">Finite_ZF_1</a>

<span class="keyword2"><span class="keyword">begin</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹This file deals with order topologies. The order topology
is already defined in <span class="antiquoted"><span class="antiquoted"><span class="antiquote"><span class="antiquote">@{</span></span><span class="operator"><span class="operator">file</span></span> "Topology_ZF_examples_1.thy"<span class="antiquote"><span class="antiquote">}</span></span></span></span>.›</span></span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‹Order topologies›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹We will assume
most of the time that the ordered set has more than one point.
It is natural to think that the topological properties
can be translated to properties of the order; since every
order rises one and only one topology in a set.›</span></span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‹Separation properties›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Order topologies have a lot of separation properties.›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Every order topology is Hausdorff.›</span></span>

<span class="keyword1"><span class="command">theorem</span></span> order_top_T2<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"IsLinOrder<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">x</span> <span class="bound">y</span><span class="main">.</span> <span class="bound">x</span><span class="main">≠</span><span class="bound">y</span><span class="main">∧</span><span class="bound">x</span><span class="main">∈</span><span class="free">X</span><span class="main">∧</span><span class="bound">y</span><span class="main">∈</span><span class="free">X</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span><span class="keyword1">{is</span> <span class="keyword1">T<span class="hidden">⇩</span><sub>2</sub>}</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="skolem">y</span> <span class="keyword3"><span class="command">assume</span></span> A1<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="main">⋃</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">∈</span><span class="main">⋃</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">≠</span><span class="skolem">y</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> AS<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">≠</span><span class="skolem">y</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> union_ordtopology<span class="main">[</span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> assms<span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">assume</span></span> A2<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">z</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="main">{</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">y</span><span class="main">}</span><span class="main">.</span> <span class="main">(</span><span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">y</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span><span class="main">⟶</span><span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="bound">z</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span><span class="main">∧</span><span class="main">⟨</span><span class="bound">z</span><span class="main">,</span><span class="skolem">y</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span><span class="main">)</span><span class="main">∧</span><span class="main">(</span><span class="main">⟨</span><span class="skolem">y</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span><span class="main">⟶</span><span class="main">⟨</span><span class="skolem">y</span><span class="main">,</span><span class="bound">z</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span><span class="main">∧</span><span class="main">⟨</span><span class="bound">z</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">from</span></span> AS<span class="main">(</span>1<span class="main">,</span>2<span class="main">)</span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">y</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span><span class="main">∨</span><span class="main">⟨</span><span class="skolem">y</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def IsTotal_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">y</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span>
        <span class="keyword1"><span class="command">with</span></span> AS A2 <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">z</span></span> <span class="keyword2"><span class="keyword">where</span></span> z<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">z</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">z</span><span class="main">,</span><span class="skolem">y</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">≠</span><span class="skolem">x</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">≠</span><span class="skolem">y</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">with</span></span> AS<span class="main">(</span>1<span class="main">,</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">z</span><span class="main">)</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">∈</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">z</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> LeftRayX_def RightRayX_def
          <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
        <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">z</span><span class="main">)</span><span class="main">∩</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">z</span><span class="main">)</span><span class="main">=</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> inter_lray_rray<span class="main">[</span><span class="operator">OF</span> z<span class="main"><span class="main">(</span></span>3<span class="main"><span class="main">)</span></span> z<span class="main"><span class="main">(</span></span>3<span class="main"><span class="main">)</span></span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span>
          <span class="keyword1"><span class="command">unfolding</span></span> IntervalX_def <span class="keyword1"><span class="command">using</span></span> Order_ZF_2_L4<span class="main">[</span><span class="operator">OF</span> total_is_refl _ z<span class="main"><span class="main">(</span></span>3<span class="main"><span class="main">)</span></span><span class="main">]</span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def
          <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
        <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">z</span><span class="main">)</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span><span class="quoted"><span class="quoted">"RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">z</span><span class="main">)</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span>
          <span class="keyword1"><span class="command">using</span></span> z<span class="main">(</span>3<span class="main">)</span> base_sets_open<span class="main">[</span><span class="operator">OF</span> Ordtopology_is_a_topology<span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">U</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span><span class="main">.</span> <span class="main">∃</span><span class="bound">V</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span><span class="main">.</span> <span class="skolem">x</span><span class="main">∈</span><span class="bound">U</span> <span class="main">∧</span> <span class="skolem">y</span><span class="main">∈</span><span class="bound">V</span> <span class="main">∧</span> <span class="bound">U</span><span class="main">∩</span><span class="bound">V</span><span class="main">=</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">y</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span>
        <span class="keyword1"><span class="command">with</span></span> AS A2 <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">z</span></span> <span class="keyword2"><span class="keyword">where</span></span> z<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">y</span><span class="main">,</span><span class="skolem">z</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">z</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">≠</span><span class="skolem">x</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">≠</span><span class="skolem">y</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">with</span></span> AS<span class="main">(</span>1<span class="main">,</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">∈</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">z</span><span class="main">)</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">z</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> LeftRayX_def RightRayX_def
          <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
        <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">z</span><span class="main">)</span><span class="main">∩</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">z</span><span class="main">)</span><span class="main">=</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> inter_lray_rray<span class="main">[</span><span class="operator">OF</span> z<span class="main"><span class="main">(</span></span>3<span class="main"><span class="main">)</span></span> z<span class="main"><span class="main">(</span></span>3<span class="main"><span class="main">)</span></span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span>
          <span class="keyword1"><span class="command">unfolding</span></span> IntervalX_def <span class="keyword1"><span class="command">using</span></span> Order_ZF_2_L4<span class="main">[</span><span class="operator">OF</span> total_is_refl _ z<span class="main"><span class="main">(</span></span>3<span class="main"><span class="main">)</span></span><span class="main">]</span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def
          <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
        <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">z</span><span class="main">)</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span><span class="quoted"><span class="quoted">"RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">z</span><span class="main">)</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span>
          <span class="keyword1"><span class="command">using</span></span> z<span class="main">(</span>3<span class="main">)</span> base_sets_open<span class="main">[</span><span class="operator">OF</span> Ordtopology_is_a_topology<span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">U</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span><span class="main">.</span> <span class="main">∃</span><span class="bound">V</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span><span class="main">.</span> <span class="skolem">x</span><span class="main">∈</span><span class="bound">U</span> <span class="main">∧</span> <span class="skolem">y</span><span class="main">∈</span><span class="bound">V</span> <span class="main">∧</span> <span class="bound">U</span><span class="main">∩</span><span class="bound">V</span><span class="main">=</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">U</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span><span class="main">.</span> <span class="main">∃</span><span class="bound">V</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span><span class="main">.</span> <span class="skolem">x</span><span class="main">∈</span><span class="bound">U</span> <span class="main">∧</span> <span class="skolem">y</span><span class="main">∈</span><span class="bound">V</span> <span class="main">∧</span> <span class="bound">U</span><span class="main">∩</span><span class="bound">V</span><span class="main">=</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">assume</span></span> A2<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">z</span><span class="main">∈</span><span class="free">X</span> <span class="main">-</span> <span class="main">{</span><span class="skolem">x</span><span class="main">,</span> <span class="skolem">y</span><span class="main">}</span><span class="main">.</span> <span class="main">(</span><span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span> <span class="skolem">y</span><span class="main">⟩</span> <span class="main">∈</span> <span class="free">r</span> <span class="main">∧</span> <span class="main">(</span><span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span> <span class="bound">z</span><span class="main">⟩</span> <span class="main">∉</span> <span class="free">r</span> <span class="main">∨</span> <span class="main">⟨</span><span class="bound">z</span><span class="main">,</span> <span class="skolem">y</span><span class="main">⟩</span> <span class="main">∉</span> <span class="free">r</span><span class="main">)</span><span class="main">)</span> <span class="main">∨</span> <span class="main">(</span><span class="main">⟨</span><span class="skolem">y</span><span class="main">,</span> <span class="skolem">x</span><span class="main">⟩</span> <span class="main">∈</span> <span class="free">r</span> <span class="main">∧</span> <span class="main">(</span><span class="main">⟨</span><span class="skolem">y</span><span class="main">,</span> <span class="bound">z</span><span class="main">⟩</span> <span class="main">∉</span> <span class="free">r</span> <span class="main">∨</span> <span class="main">⟨</span><span class="bound">z</span><span class="main">,</span> <span class="skolem">x</span><span class="main">⟩</span> <span class="main">∉</span> <span class="free">r</span><span class="main">)</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">from</span></span> AS<span class="main">(</span>1<span class="main">,</span>2<span class="main">)</span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> disj<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">y</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span><span class="main">∨</span><span class="main">⟨</span><span class="skolem">y</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def IsTotal_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">assume</span></span> TT<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">y</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span>
        <span class="keyword1"><span class="command">with</span></span> AS assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> T<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">y</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∉</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def antisym_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">from</span></span> TT AS<span class="main">(</span>1-3<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">y</span><span class="main">)</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">∈</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">x</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> LeftRayX_def RightRayX_def
          <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
        <span class="keyword1"><span class="command">{</span></span>
          <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">z</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">y</span><span class="main">)</span><span class="main">∩</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">x</span><span class="main">)</span>"</span></span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">z</span><span class="main">,</span><span class="skolem">y</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">z</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="main">{</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">y</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> RightRayX_def LeftRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">with</span></span> A2 T <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">}</span></span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">y</span><span class="main">)</span><span class="main">∩</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">x</span><span class="main">)</span><span class="main">=</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
        <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">y</span><span class="main">)</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span><span class="quoted"><span class="quoted">"RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">x</span><span class="main">)</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span>
          <span class="keyword1"><span class="command">using</span></span> base_sets_open<span class="main">[</span><span class="operator">OF</span> Ordtopology_is_a_topology<span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span> AS <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">U</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span><span class="main">.</span> <span class="main">∃</span><span class="bound">V</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span><span class="main">.</span> <span class="skolem">x</span><span class="main">∈</span><span class="bound">U</span> <span class="main">∧</span> <span class="skolem">y</span><span class="main">∈</span><span class="bound">V</span> <span class="main">∧</span> <span class="bound">U</span><span class="main">∩</span><span class="bound">V</span><span class="main">=</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">assume</span></span> TT<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">y</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span>
        <span class="keyword1"><span class="command">with</span></span> AS assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> T<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">y</span><span class="main">⟩</span><span class="main">∉</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def antisym_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">from</span></span> TT AS<span class="main">(</span>1-3<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">∈</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">x</span><span class="main">)</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">y</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> LeftRayX_def RightRayX_def
          <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
        <span class="keyword1"><span class="command">{</span></span>
          <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">z</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">x</span><span class="main">)</span><span class="main">∩</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">y</span><span class="main">)</span>"</span></span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">z</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">y</span><span class="main">,</span><span class="skolem">z</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="main">{</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">y</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> RightRayX_def LeftRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">with</span></span> A2 T <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">}</span></span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">x</span><span class="main">)</span><span class="main">∩</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">y</span><span class="main">)</span><span class="main">=</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
        <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">x</span><span class="main">)</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span><span class="quoted"><span class="quoted">"RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">y</span><span class="main">)</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span>
          <span class="keyword1"><span class="command">using</span></span> base_sets_open<span class="main">[</span><span class="operator">OF</span> Ordtopology_is_a_topology<span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span> AS <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">U</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span><span class="main">.</span> <span class="main">∃</span><span class="bound">V</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span><span class="main">.</span> <span class="skolem">x</span><span class="main">∈</span><span class="bound">U</span> <span class="main">∧</span> <span class="skolem">y</span><span class="main">∈</span><span class="bound">V</span> <span class="main">∧</span> <span class="bound">U</span><span class="main">∩</span><span class="bound">V</span><span class="main">=</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">U</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span><span class="main">.</span> <span class="main">∃</span><span class="bound">V</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span><span class="main">.</span> <span class="skolem">x</span><span class="main">∈</span><span class="bound">U</span> <span class="main">∧</span> <span class="skolem">y</span><span class="main">∈</span><span class="bound">V</span> <span class="main">∧</span> <span class="bound">U</span><span class="main">∩</span><span class="bound">V</span><span class="main">=</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">U</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span><span class="main">.</span> <span class="main">∃</span><span class="bound">V</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span><span class="main">.</span> <span class="skolem">x</span><span class="main">∈</span><span class="bound">U</span> <span class="main">∧</span> <span class="skolem">y</span><span class="main">∈</span><span class="bound">V</span> <span class="main">∧</span> <span class="bound">U</span><span class="main">∩</span><span class="bound">V</span><span class="main">=</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">unfolding</span></span> isT2_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Every order topology is $T_4$, but the proof needs lots of machinery.
At the end of the file, we will prove that every order topology is normal; sooner
or later.›</span></span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‹Connectedness properties›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Connectedness is related to two properties of orders: completeness and density›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Some order-dense properties:›</span></span>

<span class="keyword1"><span class="command">definition</span></span>
  <span class="entity">IsDenseSub</span> <span class="main">(</span><span class="quoted">"_ <span class="keyword1">{is</span> <span class="keyword1">dense</span> <span class="keyword1">in}</span>_<span class="keyword1">{with</span> <span class="keyword1">respect</span> <span class="keyword1">to}</span>_"</span><span class="main">)</span> <span class="keyword2"><span class="keyword">where</span></span>
  <span class="quoted"><span class="quoted">"<span class="free"><span class="bound"><span class="entity">A</span></span></span> <span class="keyword1"><span class="free">{is</span></span> <span class="keyword1"><span class="free">dense</span></span> <span class="keyword1"><span class="free">in}</span></span><span class="free"><span class="bound"><span class="entity">X</span></span></span><span class="keyword1"><span class="free">{with</span></span> <span class="keyword1"><span class="free">respect</span></span> <span class="keyword1"><span class="free">to}</span></span><span class="free"><span class="bound"><span class="entity">r</span></span></span> <span class="main">≡</span> 
  <span class="main">∀</span><span class="bound">x</span><span class="main">∈</span><span class="free"><span class="bound"><span class="entity">X</span></span></span><span class="main">.</span> <span class="main">∀</span><span class="bound">y</span><span class="main">∈</span><span class="free"><span class="bound"><span class="entity">X</span></span></span><span class="main">.</span> <span class="main">⟨</span><span class="bound">x</span><span class="main">,</span><span class="bound">y</span><span class="main">⟩</span><span class="main">∈</span><span class="free"><span class="bound"><span class="entity">r</span></span></span> <span class="main">∧</span> <span class="bound">x</span><span class="main">≠</span><span class="bound">y</span>  <span class="main">⟶</span> <span class="main">(</span><span class="main">∃</span><span class="bound">z</span><span class="main">∈</span><span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">-</span><span class="main">{</span><span class="bound">x</span><span class="main">,</span><span class="bound">y</span><span class="main">}</span><span class="main">.</span> <span class="main">⟨</span><span class="bound">x</span><span class="main">,</span><span class="bound">z</span><span class="main">⟩</span><span class="main">∈</span><span class="free"><span class="bound"><span class="entity">r</span></span></span><span class="main">∧</span><span class="main">⟨</span><span class="bound">z</span><span class="main">,</span><span class="bound">y</span><span class="main">⟩</span><span class="main">∈</span><span class="free"><span class="bound"><span class="entity">r</span></span></span><span class="main">)</span>"</span></span>

<span class="keyword1"><span class="command">definition</span></span>
  <span class="entity">IsDenseUnp</span> <span class="main">(</span><span class="quoted">"_ <span class="keyword1">{is</span> <span class="keyword1">not-properly</span> <span class="keyword1">dense</span> <span class="keyword1">in}</span>_<span class="keyword1">{with</span> <span class="keyword1">respect</span> <span class="keyword1">to}</span>_"</span><span class="main">)</span> <span class="keyword2"><span class="keyword">where</span></span>
  <span class="quoted"><span class="quoted">"<span class="free"><span class="bound"><span class="entity">A</span></span></span> <span class="keyword1"><span class="free">{is</span></span> <span class="keyword1"><span class="free">not-properly</span></span> <span class="keyword1"><span class="free">dense</span></span> <span class="keyword1"><span class="free">in}</span></span><span class="free"><span class="bound"><span class="entity">X</span></span></span><span class="keyword1"><span class="free">{with</span></span> <span class="keyword1"><span class="free">respect</span></span> <span class="keyword1"><span class="free">to}</span></span><span class="free"><span class="bound"><span class="entity">r</span></span></span> <span class="main">≡</span> 
  <span class="main">∀</span><span class="bound">x</span><span class="main">∈</span><span class="free"><span class="bound"><span class="entity">X</span></span></span><span class="main">.</span> <span class="main">∀</span><span class="bound">y</span><span class="main">∈</span><span class="free"><span class="bound"><span class="entity">X</span></span></span><span class="main">.</span> <span class="main">⟨</span><span class="bound">x</span><span class="main">,</span><span class="bound">y</span><span class="main">⟩</span><span class="main">∈</span><span class="free"><span class="bound"><span class="entity">r</span></span></span> <span class="main">∧</span> <span class="bound">x</span><span class="main">≠</span><span class="bound">y</span>  <span class="main">⟶</span> <span class="main">(</span><span class="main">∃</span><span class="bound">z</span><span class="main">∈</span><span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">.</span> <span class="main">⟨</span><span class="bound">x</span><span class="main">,</span><span class="bound">z</span><span class="main">⟩</span><span class="main">∈</span><span class="free"><span class="bound"><span class="entity">r</span></span></span><span class="main">∧</span><span class="main">⟨</span><span class="bound">z</span><span class="main">,</span><span class="bound">y</span><span class="main">⟩</span><span class="main">∈</span><span class="free"><span class="bound"><span class="entity">r</span></span></span><span class="main">)</span>"</span></span>

<span class="keyword1"><span class="command">definition</span></span>
  <span class="entity">IsWeaklyDenseSub</span> <span class="main">(</span><span class="quoted">"_ <span class="keyword1">{is</span> <span class="keyword1">weakly</span> <span class="keyword1">dense</span> <span class="keyword1">in}</span>_<span class="keyword1">{with</span> <span class="keyword1">respect</span> <span class="keyword1">to}</span>_"</span><span class="main">)</span> <span class="keyword2"><span class="keyword">where</span></span>
  <span class="quoted"><span class="quoted">"<span class="free"><span class="bound"><span class="entity">A</span></span></span> <span class="keyword1"><span class="free">{is</span></span> <span class="keyword1"><span class="free">weakly</span></span> <span class="keyword1"><span class="free">dense</span></span> <span class="keyword1"><span class="free">in}</span></span><span class="free"><span class="bound"><span class="entity">X</span></span></span><span class="keyword1"><span class="free">{with</span></span> <span class="keyword1"><span class="free">respect</span></span> <span class="keyword1"><span class="free">to}</span></span><span class="free"><span class="bound"><span class="entity">r</span></span></span> <span class="main">≡</span> 
  <span class="main">∀</span><span class="bound">x</span><span class="main">∈</span><span class="free"><span class="bound"><span class="entity">X</span></span></span><span class="main">.</span> <span class="main">∀</span><span class="bound">y</span><span class="main">∈</span><span class="free"><span class="bound"><span class="entity">X</span></span></span><span class="main">.</span> <span class="main">⟨</span><span class="bound">x</span><span class="main">,</span><span class="bound">y</span><span class="main">⟩</span><span class="main">∈</span><span class="free"><span class="bound"><span class="entity">r</span></span></span> <span class="main">∧</span> <span class="bound">x</span><span class="main">≠</span><span class="bound">y</span>  <span class="main">⟶</span> <span class="main">(</span><span class="main">(</span><span class="main">∃</span><span class="bound">z</span><span class="main">∈</span><span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">-</span><span class="main">{</span><span class="bound">x</span><span class="main">,</span><span class="bound">y</span><span class="main">}</span><span class="main">.</span> <span class="main">⟨</span><span class="bound">x</span><span class="main">,</span><span class="bound">z</span><span class="main">⟩</span><span class="main">∈</span><span class="free"><span class="bound"><span class="entity">r</span></span></span><span class="main">∧</span><span class="main">⟨</span><span class="bound">z</span><span class="main">,</span><span class="bound">y</span><span class="main">⟩</span><span class="main">∈</span><span class="free"><span class="bound"><span class="entity">r</span></span></span><span class="main">)</span><span class="main">∨</span> IntervalX<span class="main">(</span><span class="free"><span class="bound"><span class="entity">X</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">r</span></span></span><span class="main">,</span><span class="bound">x</span><span class="main">,</span><span class="bound">y</span><span class="main">)</span><span class="main">=</span><span class="main">0</span><span class="main">)</span>"</span></span>

<span class="keyword1"><span class="command">definition</span></span>
  <span class="entity">IsDense</span> <span class="main">(</span><span class="quoted">"_ <span class="keyword1">{is</span> <span class="keyword1">dense</span> <span class="keyword1">with</span> <span class="keyword1">respect</span> <span class="keyword1">to}</span>_"</span><span class="main">)</span> <span class="keyword2"><span class="keyword">where</span></span>
  <span class="quoted"><span class="quoted">"<span class="free"><span class="bound"><span class="entity">X</span></span></span> <span class="keyword1"><span class="free">{is</span></span> <span class="keyword1"><span class="free">dense</span></span> <span class="keyword1"><span class="free">with</span></span> <span class="keyword1"><span class="free">respect</span></span> <span class="keyword1"><span class="free">to}</span></span><span class="free"><span class="bound"><span class="entity">r</span></span></span> <span class="main">≡</span> 
  <span class="main">∀</span><span class="bound">x</span><span class="main">∈</span><span class="free"><span class="bound"><span class="entity">X</span></span></span><span class="main">.</span> <span class="main">∀</span><span class="bound">y</span><span class="main">∈</span><span class="free"><span class="bound"><span class="entity">X</span></span></span><span class="main">.</span> <span class="main">⟨</span><span class="bound">x</span><span class="main">,</span><span class="bound">y</span><span class="main">⟩</span><span class="main">∈</span><span class="free"><span class="bound"><span class="entity">r</span></span></span> <span class="main">∧</span> <span class="bound">x</span><span class="main">≠</span><span class="bound">y</span>  <span class="main">⟶</span> <span class="main">(</span><span class="main">∃</span><span class="bound">z</span><span class="main">∈</span><span class="free"><span class="bound"><span class="entity">X</span></span></span><span class="main">-</span><span class="main">{</span><span class="bound">x</span><span class="main">,</span><span class="bound">y</span><span class="main">}</span><span class="main">.</span> <span class="main">⟨</span><span class="bound">x</span><span class="main">,</span><span class="bound">z</span><span class="main">⟩</span><span class="main">∈</span><span class="free"><span class="bound"><span class="entity">r</span></span></span><span class="main">∧</span><span class="main">⟨</span><span class="bound">z</span><span class="main">,</span><span class="bound">y</span><span class="main">⟩</span><span class="main">∈</span><span class="free"><span class="bound"><span class="entity">r</span></span></span><span class="main">)</span>"</span></span>

<span class="keyword1"><span class="command">lemma</span></span> dense_sub<span class="main">:</span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">X</span> <span class="keyword1">{is</span> <span class="keyword1">dense</span> <span class="keyword1">with</span> <span class="keyword1">respect</span> <span class="keyword1">to}</span><span class="free">r</span><span class="main">)</span> <span class="main">⟷</span> <span class="main">(</span><span class="free">X</span> <span class="keyword1">{is</span> <span class="keyword1">dense</span> <span class="keyword1">in}</span><span class="free">X</span><span class="keyword1">{with</span> <span class="keyword1">respect</span> <span class="keyword1">to}</span><span class="free">r</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">unfolding</span></span> IsDenseSub_def IsDense_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">lemma</span></span> not_prop_dense_sub<span class="main">:</span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">A</span> <span class="keyword1">{is</span> <span class="keyword1">dense</span> <span class="keyword1">in}</span><span class="free">X</span><span class="keyword1">{with</span> <span class="keyword1">respect</span> <span class="keyword1">to}</span><span class="free">r</span><span class="main">)</span> <span class="main">⟶</span> <span class="main">(</span><span class="free">A</span> <span class="keyword1">{is</span> <span class="keyword1">not-properly</span> <span class="keyword1">dense</span> <span class="keyword1">in}</span><span class="free">X</span><span class="keyword1">{with</span> <span class="keyword1">respect</span> <span class="keyword1">to}</span><span class="free">r</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">unfolding</span></span> IsDenseSub_def IsDenseUnp_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹In densely ordered sets, intervals are infinite.›</span></span>

<span class="keyword1"><span class="command">theorem</span></span> dense_order_inf_intervals<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"IsLinOrder<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="free">b</span><span class="main">,</span> <span class="free">c</span><span class="main">)</span><span class="main">≠</span><span class="main">0</span>"</span></span><span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="keyword1">{is</span> <span class="keyword1">dense</span> <span class="keyword1">with</span> <span class="keyword1">respect</span> <span class="keyword1">to}</span><span class="free">r</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">¬</span>Finite<span class="main">(</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="free">b</span><span class="main">,</span> <span class="free">c</span><span class="main">)</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span>
  <span class="keyword3"><span class="command">assume</span></span> fin<span class="main">:</span><span class="quoted"><span class="quoted">"Finite<span class="main">(</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="free">b</span><span class="main">,</span> <span class="free">c</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">have</span></span> sub<span class="main">:</span><span class="quoted"><span class="quoted">"IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="free">b</span><span class="main">,</span> <span class="free">c</span><span class="main">)</span><span class="main">⊆</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IntervalX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">have</span></span> p<span class="main">:</span><span class="quoted"><span class="quoted">"Minimum<span class="main">(</span><span class="free">r</span><span class="main">,</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="free">b</span><span class="main">,</span> <span class="free">c</span><span class="main">)</span><span class="main">)</span><span class="main">∈</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="free">b</span><span class="main">,</span> <span class="free">c</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Finite_ZF_1_T2<span class="main">(</span>2<span class="main">)</span><span class="main">[</span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> Finite_Fin<span class="main"><span class="main">[</span></span><span class="operator">OF</span> fin sub<span class="main"><span class="main">]</span></span> assms<span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="free">b</span><span class="main">,</span>Minimum<span class="main">(</span><span class="free">r</span><span class="main">,</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="free">b</span><span class="main">,</span> <span class="free">c</span><span class="main">)</span><span class="main">)</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">≠</span>Minimum<span class="main">(</span><span class="free">r</span><span class="main">,</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="free">b</span><span class="main">,</span> <span class="free">c</span><span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">unfolding</span></span> IntervalX_def <span class="keyword1"><span class="command">using</span></span> Order_ZF_2_L1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>3<span class="main">,</span>5<span class="main">)</span> sub p <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">z1</span></span> <span class="keyword2"><span class="keyword">where</span></span> z1<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">z1</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">z1</span><span class="main">≠</span><span class="free">b</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">z1</span><span class="main">≠</span>Minimum<span class="main">(</span><span class="free">r</span><span class="main">,</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="free">b</span><span class="main">,</span> <span class="free">c</span><span class="main">)</span><span class="main">)</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="free">b</span><span class="main">,</span><span class="skolem">z1</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">z1</span><span class="main">,</span>Minimum<span class="main">(</span><span class="free">r</span><span class="main">,</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="free">b</span><span class="main">,</span> <span class="free">c</span><span class="main">)</span><span class="main">)</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span>
    <span class="keyword1"><span class="command">unfolding</span></span> IsDense_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">from</span></span> p <span class="keyword1"><span class="command">have</span></span> B<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⟨</span>Minimum<span class="main">(</span><span class="free">r</span><span class="main">,</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="free">b</span><span class="main">,</span> <span class="free">c</span><span class="main">)</span><span class="main">)</span><span class="main">,</span><span class="free">c</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IntervalX_def <span class="keyword1"><span class="command">using</span></span> Order_ZF_2_L1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"trans<span class="main">(</span><span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">note</span></span> z1<span class="main">(</span>5<span class="main">)</span> <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> z1a<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">z1</span><span class="main">,</span><span class="free">c</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> trans_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z1</span><span class="main">=</span><span class="free">c</span>"</span></span>
    <span class="keyword1"><span class="command">with</span></span> B <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span>Minimum<span class="main">(</span><span class="free">r</span><span class="main">,</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="free">b</span><span class="main">,</span> <span class="free">c</span><span class="main">)</span><span class="main">)</span><span class="main">,</span><span class="skolem">z1</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> z1<span class="main">(</span>5<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z1</span><span class="main">=</span>Minimum<span class="main">(</span><span class="free">r</span><span class="main">,</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="free">b</span><span class="main">,</span> <span class="free">c</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def antisym_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">using</span></span> z1<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z1</span><span class="main">≠</span><span class="free">c</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> z1<span class="main">(</span>1<span class="main">,</span>2<span class="main">,</span>4<span class="main">)</span> z1a <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z1</span><span class="main">∈</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="free">b</span><span class="main">,</span> <span class="free">c</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IntervalX_def <span class="keyword1"><span class="command">using</span></span> Order_ZF_2_L1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span>Minimum<span class="main">(</span><span class="free">r</span><span class="main">,</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="free">b</span><span class="main">,</span> <span class="free">c</span><span class="main">)</span><span class="main">)</span><span class="main">,</span><span class="skolem">z1</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Finite_ZF_1_T2<span class="main">(</span>4<span class="main">)</span><span class="main">[</span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> Finite_Fin<span class="main"><span class="main">[</span></span><span class="operator">OF</span> fin sub<span class="main"><span class="main">]</span></span> assms<span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> z1<span class="main">(</span>5<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z1</span><span class="main">=</span>Minimum<span class="main">(</span><span class="free">r</span><span class="main">,</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="free">b</span><span class="main">,</span> <span class="free">c</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def antisym_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> z1<span class="main">(</span>3<span class="main">)</span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Left rays are infinite.›</span></span>

<span class="keyword1"><span class="command">theorem</span></span> dense_order_inf_lrays<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"IsLinOrder<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="free">c</span><span class="main">)</span><span class="main">≠</span><span class="main">0</span>"</span></span><span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">∈</span><span class="free">X</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="keyword1">{is</span> <span class="keyword1">dense</span> <span class="keyword1">with</span> <span class="keyword1">respect</span> <span class="keyword1">to}</span><span class="free">r</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">¬</span>Finite<span class="main">(</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="free">c</span><span class="main">)</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>2<span class="main">)</span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">b</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="free">c</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">≠</span><span class="free">c</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> LeftRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>3<span class="main">)</span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">z</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="main">{</span><span class="skolem">b</span><span class="main">,</span><span class="free">c</span><span class="main">}</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">z</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">z</span><span class="main">,</span><span class="free">c</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>4<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsDense_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="skolem">b</span><span class="main">,</span> <span class="free">c</span><span class="main">)</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IntervalX_def <span class="keyword1"><span class="command">using</span></span> Order_ZF_2_L1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> nFIN<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">¬</span>Finite<span class="main">(</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="skolem">b</span><span class="main">,</span> <span class="free">c</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> dense_order_inf_intervals<span class="main">[</span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> _ _ assms<span class="main"><span class="main">(</span></span>3<span class="main"><span class="main">,</span></span>4<span class="main"><span class="main">)</span></span><span class="main">]</span>
    <span class="quoted"><span class="quoted">‹<span class="skolem">b</span><span class="main">∈</span><span class="free">X</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">d</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">d</span><span class="main">∈</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="skolem">b</span><span class="main">,</span> <span class="free">c</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">d</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">d</span><span class="main">,</span><span class="free">c</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">d</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">d</span><span class="main">≠</span><span class="skolem">b</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">d</span><span class="main">≠</span><span class="free">c</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IntervalX_def <span class="keyword1"><span class="command">using</span></span> Order_ZF_2_L1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">d</span><span class="main">∈</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="free">c</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> LeftRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="skolem">b</span><span class="main">,</span> <span class="free">c</span><span class="main">)</span><span class="main">⊆</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="free">c</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> nFIN <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> subset_Finite <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Right rays are infinite.›</span></span>

<span class="keyword1"><span class="command">theorem</span></span> dense_order_inf_rrays<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"IsLinOrder<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="free">b</span><span class="main">)</span><span class="main">≠</span><span class="main">0</span>"</span></span><span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="free">X</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="keyword1">{is</span> <span class="keyword1">dense</span> <span class="keyword1">with</span> <span class="keyword1">respect</span> <span class="keyword1">to}</span><span class="free">r</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">¬</span>Finite<span class="main">(</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="free">b</span><span class="main">)</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>2<span class="main">)</span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">c</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">c</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="free">b</span><span class="main">,</span><span class="skolem">c</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">≠</span><span class="skolem">c</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> RightRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>3<span class="main">)</span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">z</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="main">{</span><span class="free">b</span><span class="main">,</span><span class="skolem">c</span><span class="main">}</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="free">b</span><span class="main">,</span><span class="skolem">z</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">z</span><span class="main">,</span><span class="skolem">c</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>4<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsDense_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="free">b</span><span class="main">,</span> <span class="skolem">c</span><span class="main">)</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IntervalX_def <span class="keyword1"><span class="command">using</span></span> Order_ZF_2_L1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> nFIN<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">¬</span>Finite<span class="main">(</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="free">b</span><span class="main">,</span> <span class="skolem">c</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> dense_order_inf_intervals<span class="main">[</span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> _ assms<span class="main"><span class="main">(</span></span>3<span class="main"><span class="main">)</span></span> _ assms<span class="main"><span class="main">(</span></span>4<span class="main"><span class="main">)</span></span><span class="main">]</span>
    <span class="quoted"><span class="quoted">‹<span class="skolem">c</span><span class="main">∈</span><span class="free">X</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">d</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">d</span><span class="main">∈</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="free">b</span><span class="main">,</span> <span class="skolem">c</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="free">b</span><span class="main">,</span><span class="skolem">d</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">d</span><span class="main">,</span><span class="skolem">c</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">d</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">d</span><span class="main">≠</span><span class="free">b</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">d</span><span class="main">≠</span><span class="skolem">c</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IntervalX_def <span class="keyword1"><span class="command">using</span></span> Order_ZF_2_L1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">d</span><span class="main">∈</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="free">b</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> RightRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="free">b</span><span class="main">,</span> <span class="skolem">c</span><span class="main">)</span><span class="main">⊆</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="free">b</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> nFIN <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> subset_Finite <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The whole space in a densely ordered set is infinite.›</span></span>

<span class="keyword1"><span class="command">corollary</span></span> dense_order_infinite<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"IsLinOrder<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">)</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="keyword1">{is</span> <span class="keyword1">dense</span> <span class="keyword1">with</span> <span class="keyword1">respect</span> <span class="keyword1">to}</span><span class="free">r</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">x</span> <span class="bound">y</span><span class="main">.</span> <span class="bound">x</span><span class="main">≠</span><span class="bound">y</span><span class="main">∧</span><span class="bound">x</span><span class="main">∈</span><span class="free">X</span><span class="main">∧</span><span class="bound">y</span><span class="main">∈</span><span class="free">X</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">¬</span><span class="main">(</span><span class="free">X</span><span class="main">≺</span>nat<span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>3<span class="main">)</span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">b</span></span> <span class="skolem"><span class="skolem">c</span></span> <span class="keyword2"><span class="keyword">where</span></span> B<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">c</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">≠</span><span class="skolem">c</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">c</span><span class="main">⟩</span><span class="main">∉</span><span class="free">r</span>"</span></span>
    <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">c</span><span class="main">,</span><span class="skolem">b</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def IsTotal_def <span class="keyword1"><span class="command">using</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">b</span><span class="main">∈</span><span class="free">X</span>›</span></span><span class="quoted"><span class="quoted">‹<span class="skolem">c</span><span class="main">∈</span><span class="free">X</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>2<span class="main">)</span> B <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">z</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="main">{</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">c</span><span class="main">}</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">c</span><span class="main">,</span><span class="skolem">z</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">z</span><span class="main">,</span><span class="skolem">b</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsDense_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">c</span><span class="main">,</span><span class="skolem">b</span><span class="main">)</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IntervalX_def <span class="keyword1"><span class="command">using</span></span> Order_ZF_2_L1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">¬</span><span class="main">(</span>Finite<span class="main">(</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">c</span><span class="main">,</span><span class="skolem">b</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> dense_order_inf_intervals<span class="main">[</span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> _ <span class="quoted"><span class="quoted">‹<span class="skolem">c</span><span class="main">∈</span><span class="free">X</span>›</span></span><span class="quoted"><span class="quoted">‹<span class="skolem">b</span><span class="main">∈</span><span class="free">X</span>›</span></span> assms<span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span>
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">c</span><span class="main">,</span><span class="skolem">b</span><span class="main">)</span><span class="main">⊆</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IntervalX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">¬</span><span class="main">(</span>Finite<span class="main">(</span><span class="free">X</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> subset_Finite <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">¬</span><span class="main">(</span><span class="free">X</span><span class="main">≺</span>nat<span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lesspoll_nat_is_Finite <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">c</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span>
    <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>2<span class="main">)</span> B <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">z</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="main">{</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">c</span><span class="main">}</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">z</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">z</span><span class="main">,</span><span class="skolem">c</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsDense_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">c</span><span class="main">)</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IntervalX_def <span class="keyword1"><span class="command">using</span></span> Order_ZF_2_L1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">¬</span><span class="main">(</span>Finite<span class="main">(</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">c</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> dense_order_inf_intervals<span class="main">[</span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> _ <span class="quoted"><span class="quoted">‹<span class="skolem">b</span><span class="main">∈</span><span class="free">X</span>›</span></span><span class="quoted"><span class="quoted">‹<span class="skolem">c</span><span class="main">∈</span><span class="free">X</span>›</span></span> assms<span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span>
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">c</span><span class="main">)</span><span class="main">⊆</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IntervalX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">¬</span><span class="main">(</span>Finite<span class="main">(</span><span class="free">X</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> subset_Finite <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">¬</span><span class="main">(</span><span class="free">X</span><span class="main">≺</span>nat<span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lesspoll_nat_is_Finite <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹If an order topology is connected, then the order is complete.
It is equivalent to assume that $r\subseteq X\times X$ or prove that
$r\cap X\times X$ is complete.›</span></span>

<span class="keyword1"><span class="command">theorem</span></span> conn_imp_complete<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"IsLinOrder<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">x</span> <span class="bound">y</span><span class="main">.</span> <span class="bound">x</span><span class="main">≠</span><span class="bound">y</span><span class="main">∧</span><span class="bound">x</span><span class="main">∈</span><span class="free">X</span><span class="main">∧</span><span class="bound">y</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">r</span><span class="main">⊆</span><span class="free">X</span><span class="main">×</span><span class="free">X</span>"</span></span>
     <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span><span class="keyword1">{is</span> <span class="keyword1">connected}</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">r</span><span class="keyword1">{is</span> <span class="keyword1">complete}</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="main">¬</span><span class="main">(</span><span class="free">r</span><span class="keyword1">{is</span> <span class="keyword1">complete}</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">A</span></span> <span class="keyword2"><span class="keyword">where</span></span> A<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">A</span><span class="main">≠</span><span class="main">0</span>"</span></span><span class="quoted"><span class="quoted">"IsBoundedAbove<span class="main">(</span><span class="skolem">A</span><span class="main">,</span><span class="free">r</span><span class="main">)</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">¬</span><span class="main">(</span>HasAminimum<span class="main">(</span><span class="free">r</span><span class="main">,</span> <span class="main">⋂</span><span class="bound">b</span><span class="main">∈</span><span class="skolem">A</span><span class="main">.</span> <span class="free">r</span> <span class="main">``</span> <span class="main">{</span><span class="bound">b</span><span class="main">}</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span>
      IsComplete_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">from</span></span> A<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> r1<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">m</span><span class="main">∈</span><span class="main">⋂</span><span class="bound">b</span><span class="main">∈</span><span class="skolem">A</span><span class="main">.</span> <span class="free">r</span> <span class="main">``</span> <span class="main">{</span><span class="bound">b</span><span class="main">}</span><span class="main">.</span> <span class="main">∃</span><span class="bound">x</span><span class="main">∈</span><span class="main">⋂</span><span class="bound">b</span><span class="main">∈</span><span class="skolem">A</span><span class="main">.</span> <span class="free">r</span> <span class="main">``</span> <span class="main">{</span><span class="bound">b</span><span class="main">}</span><span class="main">.</span> <span class="main">⟨</span><span class="bound">m</span><span class="main">,</span><span class="bound">x</span><span class="main">⟩</span><span class="main">∉</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> HasAminimum_def
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">force</span>
    <span class="keyword1"><span class="command">from</span></span> A<span class="main">(</span>1<span class="main">,</span>2<span class="main">)</span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">b</span></span> <span class="keyword2"><span class="keyword">where</span></span> r2<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">x</span><span class="main">∈</span><span class="skolem">A</span><span class="main">.</span> <span class="main">⟨</span><span class="bound">x</span><span class="main">,</span> <span class="skolem">b</span><span class="main">⟩</span> <span class="main">∈</span> <span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsBoundedAbove_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>3<span class="main">)</span> A<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">A</span><span class="main">⊆</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> r3<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">c</span><span class="main">∈</span><span class="skolem">A</span><span class="main">.</span> <span class="free">r</span> <span class="main">``</span> <span class="main">{</span><span class="bound">c</span><span class="main">}</span><span class="main">⊆</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> image_iff <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">from</span></span> r2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">x</span><span class="main">∈</span><span class="skolem">A</span><span class="main">.</span> <span class="skolem">b</span><span class="main">∈</span><span class="free">r</span><span class="main">``</span><span class="main">{</span><span class="bound">x</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> image_iff <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> noE<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">∈</span><span class="main">(</span><span class="main">⋂</span><span class="bound">b</span><span class="main">∈</span><span class="skolem">A</span><span class="main">.</span> <span class="free">r</span> <span class="main">``</span> <span class="main">{</span><span class="bound">b</span><span class="main">}</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> A<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="main">(</span><span class="main">⋂</span><span class="bound">b</span><span class="main">∈</span><span class="skolem">A</span><span class="main">.</span> <span class="free">r</span> <span class="main">``</span> <span class="main">{</span><span class="bound">b</span><span class="main">}</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">c</span><span class="main">∈</span><span class="skolem">A</span><span class="main">.</span> <span class="skolem">x</span><span class="main">∈</span><span class="free">r</span><span class="main">``</span><span class="main">{</span><span class="bound">c</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> A<span class="main">(</span>1<span class="main">)</span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">c</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">c</span><span class="main">∈</span><span class="skolem">A</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="free">r</span><span class="main">``</span><span class="main">{</span><span class="skolem">c</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> r3 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> sub<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">⋂</span><span class="bound">b</span><span class="main">∈</span><span class="skolem">A</span><span class="main">.</span> <span class="free">r</span> <span class="main">``</span> <span class="main">{</span><span class="bound">b</span><span class="main">}</span><span class="main">)</span><span class="main">⊆</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="keyword3"><span class="command">assume</span></span> x<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="main">(</span><span class="main">⋂</span><span class="bound">b</span><span class="main">∈</span><span class="skolem">A</span><span class="main">.</span> <span class="free">r</span> <span class="main">``</span> <span class="main">{</span><span class="bound">b</span><span class="main">}</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">with</span></span> r1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">z</span><span class="main">∈</span><span class="main">⋂</span><span class="bound">b</span><span class="main">∈</span><span class="skolem">A</span><span class="main">.</span> <span class="free">r</span> <span class="main">``</span> <span class="main">{</span><span class="bound">b</span><span class="main">}</span><span class="main">.</span> <span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="bound">z</span><span class="main">⟩</span><span class="main">∉</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">z</span></span> <span class="keyword2"><span class="keyword">where</span></span> z<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="main">(</span><span class="main">⋂</span><span class="bound">b</span><span class="main">∈</span><span class="skolem">A</span><span class="main">.</span> <span class="free">r</span> <span class="main">``</span> <span class="main">{</span><span class="bound">b</span><span class="main">}</span><span class="main">)</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">z</span><span class="main">⟩</span><span class="main">∉</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">from</span></span> x z<span class="main">(</span>1<span class="main">)</span> sub <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> z<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">z</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def IsTotal_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> xx<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">z</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> RightRayX_def <span class="keyword1"><span class="command">using</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">∈</span><span class="free">X</span>›</span></span><span class="quoted"><span class="quoted">‹<span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">z</span><span class="main">⟩</span><span class="main">∉</span><span class="free">r</span>›</span></span>
        assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def <span class="keyword1"><span class="command">using</span></span> total_is_refl <span class="keyword1"><span class="command">unfolding</span></span> refl_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">m</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">m</span><span class="main">∈</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">z</span><span class="main">)</span>"</span></span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> m<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">m</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="main">{</span><span class="skolem">z</span><span class="main">}</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">z</span><span class="main">,</span><span class="skolem">m</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> RightRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">{</span></span>
          <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">c</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">c</span><span class="main">∈</span><span class="skolem">A</span>"</span></span>
          <span class="keyword1"><span class="command">with</span></span> z<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">c</span><span class="main">,</span><span class="skolem">z</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> image_iff <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">with</span></span> m<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">c</span><span class="main">,</span><span class="skolem">m</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def trans_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">m</span><span class="main">∈</span><span class="free">r</span><span class="main">``</span><span class="main">{</span><span class="skolem">c</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> image_iff <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">}</span></span>
        <span class="keyword1"><span class="command">with</span></span> A<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">m</span><span class="main">∈</span><span class="main">(</span><span class="main">⋂</span><span class="bound">b</span><span class="main">∈</span><span class="skolem">A</span><span class="main">.</span> <span class="free">r</span> <span class="main">``</span> <span class="main">{</span><span class="bound">b</span><span class="main">}</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> sub1<span class="main">:</span><span class="quoted"><span class="quoted">"RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">z</span><span class="main">)</span><span class="main">⊆</span><span class="main">(</span><span class="main">⋂</span><span class="bound">b</span><span class="main">∈</span><span class="skolem">A</span><span class="main">.</span> <span class="free">r</span> <span class="main">``</span> <span class="main">{</span><span class="bound">b</span><span class="main">}</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">z</span><span class="main">)</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> 
        base_sets_open<span class="main">[</span><span class="operator">OF</span> Ordtopology_is_a_topology<span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span> <span class="quoted"><span class="quoted">‹<span class="skolem">z</span><span class="main">∈</span><span class="free">X</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> sub1 xx <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">U</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span><span class="main">.</span> <span class="skolem">x</span><span class="main">∈</span><span class="bound">U</span> <span class="main">∧</span> <span class="bound">U</span><span class="main">⊆</span><span class="main">(</span><span class="main">⋂</span><span class="bound">b</span><span class="main">∈</span><span class="skolem">A</span><span class="main">.</span> <span class="free">r</span> <span class="main">``</span> <span class="main">{</span><span class="bound">b</span><span class="main">}</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">⋂</span><span class="bound">b</span><span class="main">∈</span><span class="skolem">A</span><span class="main">.</span> <span class="free">r</span> <span class="main">``</span> <span class="main">{</span><span class="bound">b</span><span class="main">}</span><span class="main">)</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> topology0.open_neigh_open<span class="main">[</span><span class="operator">OF</span> topology0_ordtopology<span class="main"><span class="main">[</span></span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span>
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="main">(</span><span class="main">⋂</span><span class="bound">b</span><span class="main">∈</span><span class="skolem">A</span><span class="main">.</span> <span class="free">r</span> <span class="main">``</span> <span class="main">{</span><span class="bound">b</span><span class="main">}</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∉</span><span class="main">(</span><span class="main">⋂</span><span class="bound">b</span><span class="main">∈</span><span class="skolem">A</span><span class="main">.</span> <span class="free">r</span> <span class="main">``</span> <span class="main">{</span><span class="bound">b</span><span class="main">}</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> A<span class="main">(</span>1<span class="main">)</span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">b</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∉</span><span class="free">r</span><span class="main">``</span><span class="main">{</span><span class="skolem">b</span><span class="main">}</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">∈</span><span class="skolem">A</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∉</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> image_iff <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">A</span><span class="main">⊆</span><span class="free">X</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">b</span><span class="main">∈</span><span class="skolem">A</span>›</span></span><span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">∈</span><span class="free">X</span>›</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">b</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def
        IsTotal_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> xx<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">b</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> LeftRayX_def <span class="keyword1"><span class="command">using</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">∈</span><span class="free">X</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∉</span><span class="free">r</span>›</span></span>
        assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def <span class="keyword1"><span class="command">using</span></span> total_is_refl <span class="keyword1"><span class="command">unfolding</span></span> refl_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">y</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">∈</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">b</span><span class="main">)</span><span class="main">∩</span><span class="main">(</span><span class="main">⋂</span><span class="bound">b</span><span class="main">∈</span><span class="skolem">A</span><span class="main">.</span> <span class="free">r</span> <span class="main">``</span> <span class="main">{</span><span class="bound">b</span><span class="main">}</span><span class="main">)</span>"</span></span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="main">{</span><span class="skolem">b</span><span class="main">}</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">y</span><span class="main">,</span><span class="skolem">b</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">c</span><span class="main">∈</span><span class="skolem">A</span><span class="main">.</span> <span class="skolem">y</span><span class="main">∈</span><span class="free">r</span><span class="main">``</span><span class="main">{</span><span class="bound">c</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> LeftRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">y</span><span class="main">,</span><span class="skolem">b</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">c</span><span class="main">∈</span><span class="skolem">A</span><span class="main">.</span> <span class="main">⟨</span><span class="bound">c</span><span class="main">,</span><span class="skolem">y</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> image_iff <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">b</span><span class="main">∈</span><span class="skolem">A</span>›</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">=</span><span class="skolem">b</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def antisym_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">y</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="main">{</span><span class="skolem">b</span><span class="main">}</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> sub1<span class="main">:</span><span class="quoted"><span class="quoted">"LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">b</span><span class="main">)</span><span class="main">⊆</span><span class="free">X</span><span class="main">-</span><span class="main">(</span><span class="main">⋂</span><span class="bound">b</span><span class="main">∈</span><span class="skolem">A</span><span class="main">.</span> <span class="free">r</span> <span class="main">``</span> <span class="main">{</span><span class="bound">b</span><span class="main">}</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> LeftRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">b</span><span class="main">)</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> 
        base_sets_open<span class="main">[</span><span class="operator">OF</span> Ordtopology_is_a_topology<span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span> <span class="quoted"><span class="quoted">‹<span class="skolem">b</span><span class="main">∈</span><span class="skolem">A</span>›</span></span><span class="quoted"><span class="quoted">‹<span class="skolem">A</span><span class="main">⊆</span><span class="free">X</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">with</span></span> sub1 xx <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">U</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span><span class="main">.</span> <span class="skolem">x</span><span class="main">∈</span><span class="bound">U</span><span class="main">∧</span><span class="bound">U</span><span class="main">⊆</span><span class="free">X</span><span class="main">-</span><span class="main">(</span><span class="main">⋂</span><span class="bound">b</span><span class="main">∈</span><span class="skolem">A</span><span class="main">.</span> <span class="free">r</span> <span class="main">``</span> <span class="main">{</span><span class="bound">b</span><span class="main">}</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span> <span class="main">-</span> <span class="main">(</span><span class="main">⋂</span><span class="bound">b</span><span class="main">∈</span><span class="skolem">A</span><span class="main">.</span> <span class="free">r</span> <span class="main">``</span> <span class="main">{</span><span class="bound">b</span><span class="main">}</span><span class="main">)</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> topology0.open_neigh_open<span class="main">[</span><span class="operator">OF</span> topology0_ordtopology<span class="main"><span class="main">[</span></span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span>
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⋃</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span><span class="main">-</span><span class="main">(</span><span class="main">⋂</span><span class="bound">b</span><span class="main">∈</span><span class="skolem">A</span><span class="main">.</span> <span class="free">r</span> <span class="main">``</span> <span class="main">{</span><span class="bound">b</span><span class="main">}</span><span class="main">)</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> union_ordtopology<span class="main">[</span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">,</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">⋂</span><span class="bound">b</span><span class="main">∈</span><span class="skolem">A</span><span class="main">.</span> <span class="free">r</span> <span class="main">``</span> <span class="main">{</span><span class="bound">b</span><span class="main">}</span><span class="main">)</span><span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">in}</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsClosed_def <span class="keyword1"><span class="command">using</span></span> union_ordtopology<span class="main">[</span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">,</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span>
      sub <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">note</span></span> assms<span class="main">(</span>4<span class="main">)</span> <span class="keyword1"><span class="command">ultimately</span></span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">⋂</span><span class="bound">b</span><span class="main">∈</span><span class="skolem">A</span><span class="main">.</span> <span class="free">r</span> <span class="main">``</span> <span class="main">{</span><span class="bound">b</span><span class="main">}</span><span class="main">)</span><span class="main">=</span><span class="main">0</span><span class="main">∨</span><span class="main">(</span><span class="main">⋂</span><span class="bound">b</span><span class="main">∈</span><span class="skolem">A</span><span class="main">.</span> <span class="free">r</span> <span class="main">``</span> <span class="main">{</span><span class="bound">b</span><span class="main">}</span><span class="main">)</span><span class="main">=</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> union_ordtopology<span class="main">[</span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">,</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">unfolding</span></span> IsConnected_def
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> e1<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">⋂</span><span class="bound">b</span><span class="main">∈</span><span class="skolem">A</span><span class="main">.</span> <span class="free">r</span> <span class="main">``</span> <span class="main">{</span><span class="bound">b</span><span class="main">}</span><span class="main">)</span><span class="main">=</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> noE <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">x</span><span class="main">∈</span><span class="free">X</span><span class="main">.</span> <span class="main">∀</span><span class="bound">b</span><span class="main">∈</span><span class="skolem">A</span><span class="main">.</span> <span class="bound">x</span><span class="main">∈</span><span class="free">r</span><span class="main">``</span><span class="main">{</span><span class="bound">b</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> r4<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">x</span><span class="main">∈</span><span class="free">X</span><span class="main">.</span> <span class="main">∀</span><span class="bound">b</span><span class="main">∈</span><span class="skolem">A</span><span class="main">.</span> <span class="main">⟨</span><span class="bound">b</span><span class="main">,</span><span class="bound">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> image_iff <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">a1</span> <span class="skolem">a2</span> <span class="keyword3"><span class="command">assume</span></span> aA<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">a1</span><span class="main">∈</span><span class="skolem">A</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">a2</span><span class="main">∈</span><span class="skolem">A</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">a1</span><span class="main">≠</span><span class="skolem">a2</span>"</span></span>
      <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">A</span><span class="main">⊆</span><span class="free">X</span>›</span></span> <span class="keyword1"><span class="command">have</span></span> aX<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">a1</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">a2</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> r4 aA<span class="main">(</span>1<span class="main">,</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">a1</span><span class="main">,</span><span class="skolem">a2</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">a2</span><span class="main">,</span><span class="skolem">a1</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">a1</span><span class="main">=</span><span class="skolem">a2</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def antisym_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> aA<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">from</span></span> A<span class="main">(</span>1<span class="main">)</span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">t</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">t</span><span class="main">∈</span><span class="skolem">A</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">A</span><span class="main">=</span><span class="main">{</span><span class="skolem">t</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> r4 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">x</span><span class="main">∈</span><span class="free">X</span><span class="main">.</span> <span class="main">⟨</span><span class="skolem">t</span><span class="main">,</span><span class="bound">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">t</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">A</span><span class="main">⊆</span><span class="free">X</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"HasAminimum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> HasAminimum_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> e1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"HasAminimum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="main">⋂</span><span class="bound">b</span><span class="main">∈</span><span class="skolem">A</span><span class="main">.</span> <span class="free">r</span> <span class="main">``</span> <span class="main">{</span><span class="bound">b</span><span class="main">}</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> A<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹If an order topology is connected, then the order is dense.›</span></span>

<span class="keyword1"><span class="command">theorem</span></span> conn_imp_dense<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"IsLinOrder<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">x</span> <span class="bound">y</span><span class="main">.</span> <span class="bound">x</span><span class="main">≠</span><span class="bound">y</span><span class="main">∧</span><span class="bound">x</span><span class="main">∈</span><span class="free">X</span><span class="main">∧</span><span class="bound">y</span><span class="main">∈</span><span class="free">X</span>"</span></span>
     <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span><span class="keyword1">{is</span> <span class="keyword1">connected}</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span> <span class="keyword1">{is</span> <span class="keyword1">dense</span> <span class="keyword1">with</span> <span class="keyword1">respect</span> <span class="keyword1">to}</span><span class="free">r</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="main">¬</span><span class="main">(</span><span class="free">X</span> <span class="keyword1">{is</span> <span class="keyword1">dense</span> <span class="keyword1">with</span> <span class="keyword1">respect</span> <span class="keyword1">to}</span><span class="free">r</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">x1</span><span class="main">∈</span><span class="free">X</span><span class="main">.</span> <span class="main">∃</span><span class="bound">x2</span><span class="main">∈</span><span class="free">X</span><span class="main">.</span> <span class="main">⟨</span><span class="bound">x1</span><span class="main">,</span><span class="bound">x2</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span><span class="main">∧</span><span class="bound">x1</span><span class="main">≠</span><span class="bound">x2</span><span class="main">∧</span><span class="main">(</span><span class="main">∀</span><span class="bound">z</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="main">{</span><span class="bound">x1</span><span class="main">,</span><span class="bound">x2</span><span class="main">}</span><span class="main">.</span> <span class="main">⟨</span><span class="bound">x1</span><span class="main">,</span><span class="bound">z</span><span class="main">⟩</span><span class="main">∉</span><span class="free">r</span><span class="main">∨</span><span class="main">⟨</span><span class="bound">z</span><span class="main">,</span><span class="bound">x2</span><span class="main">⟩</span><span class="main">∉</span><span class="free">r</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">unfolding</span></span> IsDense_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">x1</span></span> <span class="skolem"><span class="skolem">x2</span></span> <span class="keyword2"><span class="keyword">where</span></span> x<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">x1</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">x2</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">x1</span><span class="main">,</span><span class="skolem">x2</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">x1</span><span class="main">≠</span><span class="skolem">x2</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">∀</span><span class="bound">z</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="main">{</span><span class="skolem">x1</span><span class="main">,</span><span class="skolem">x2</span><span class="main">}</span><span class="main">.</span> <span class="main">⟨</span><span class="skolem">x1</span><span class="main">,</span><span class="bound">z</span><span class="main">⟩</span><span class="main">∉</span><span class="free">r</span><span class="main">∨</span><span class="main">⟨</span><span class="bound">z</span><span class="main">,</span><span class="skolem">x2</span><span class="main">⟩</span><span class="main">∉</span><span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">from</span></span> x<span class="main">(</span>1<span class="main">,</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> P<span class="main">:</span><span class="quoted"><span class="quoted">"LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">x2</span><span class="main">)</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span><span class="quoted"><span class="quoted">"RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">x1</span><span class="main">)</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span>  base_sets_open<span class="main">[</span><span class="operator">OF</span> Ordtopology_is_a_topology<span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">x2</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∉</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">x2</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">x2</span><span class="main">⟩</span><span class="main">∉</span><span class="free">r</span><span class="main">∨</span><span class="skolem">x</span><span class="main">=</span><span class="skolem">x2</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> LeftRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">x2</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span><span class="main">∨</span><span class="skolem">x</span><span class="main">=</span><span class="skolem">x2</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">∈</span><span class="free">X</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x2</span><span class="main">∈</span><span class="free">X</span>›</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def
        IsTotal_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> s<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">x2</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def <span class="keyword1"><span class="command">using</span></span> total_is_refl <span class="quoted"><span class="quoted">‹<span class="skolem">x2</span><span class="main">∈</span><span class="free">X</span>›</span></span>
        <span class="keyword1"><span class="command">unfolding</span></span> refl_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> x<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">x1</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def trans_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">=</span><span class="skolem">x1</span><span class="main">∨</span><span class="skolem">x</span><span class="main">∈</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">x1</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> RightRayX_def <span class="keyword1"><span class="command">using</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">∈</span><span class="free">X</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> s <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">x2</span><span class="main">,</span><span class="skolem">x1</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span><span class="main">∨</span><span class="skolem">x</span><span class="main">∈</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">x1</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> x<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x1</span><span class="main">=</span><span class="skolem">x2</span> <span class="main">∨</span> <span class="skolem">x</span><span class="main">∈</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">x1</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def
        antisym_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> x<span class="main">(</span>4<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">x1</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">-</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">x2</span><span class="main">)</span><span class="main">⊆</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">x1</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">x1</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> xr<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="main">{</span><span class="skolem">x1</span><span class="main">}</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">x1</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> RightRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">x2</span><span class="main">)</span>"</span></span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> xl<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="main">{</span><span class="skolem">x2</span><span class="main">}</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">x2</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> LeftRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">from</span></span> xl xr x<span class="main">(</span>5<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">with</span></span> xr<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">x2</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">x1</span><span class="main">)</span><span class="main">=</span><span class="free">X</span><span class="main">-</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">x2</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">x2</span><span class="main">)</span><span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">in}</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> P<span class="main">(</span>2<span class="main">)</span> union_ordtopology<span class="main">[</span>
      <span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">,</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">unfolding</span></span> IsClosed_def LeftRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> P<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">x2</span><span class="main">)</span><span class="main">=</span><span class="main">0</span><span class="main">∨</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">x2</span><span class="main">)</span><span class="main">=</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> union_ordtopology<span class="main">[</span>
      <span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">,</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> assms<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsConnected_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> x<span class="main">(</span>1<span class="main">,</span>3<span class="main">,</span>4<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">x2</span><span class="main">)</span><span class="main">=</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> LeftRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x2</span><span class="main">∈</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">x2</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> x<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> LeftRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Actually a connected order topology is one that comes from a dense
and complete order.›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹First a lemma. In a complete ordered set, every non-empty set bounded from below has
a maximum lower bound.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> complete_order_bounded_below<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">r</span><span class="keyword1">{is</span> <span class="keyword1">complete}</span>"</span></span> <span class="quoted"><span class="quoted">"IsBoundedBelow<span class="main">(</span><span class="free">A</span><span class="main">,</span><span class="free">r</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">r</span><span class="main">⊆</span><span class="free">X</span><span class="main">×</span><span class="free">X</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"HasAmaximum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="main">⋂</span><span class="bound">c</span><span class="main">∈</span><span class="free">A</span><span class="main">.</span> <span class="free">r</span><span class="main">-``</span><span class="main">{</span><span class="bound">c</span><span class="main">}</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?M</span></span></span><span class="main">=</span><span class="quoted"><span class="quoted">"<span class="main">⋂</span><span class="bound">c</span><span class="main">∈</span><span class="free">A</span><span class="main">.</span> <span class="free">r</span><span class="main">-``</span><span class="main">{</span><span class="bound">c</span><span class="main">}</span>"</span></span>
  <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>3<span class="main">)</span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">t</span></span> <span class="keyword2"><span class="keyword">where</span></span> A<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">t</span><span class="main">∈</span><span class="free">A</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">m</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">m</span><span class="main">∈</span><span class="var">?M</span>"</span></span>
    <span class="keyword1"><span class="command">with</span></span> A <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">m</span><span class="main">∈</span><span class="free">r</span><span class="main">-``</span><span class="main">{</span><span class="skolem">t</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">m</span><span class="main">,</span><span class="skolem">t</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">∀</span><span class="bound">x</span><span class="main">∈</span><span class="main">⋂</span><span class="bound">c</span><span class="main">∈</span><span class="free">A</span><span class="main">.</span> <span class="free">r</span> <span class="main">-``</span> <span class="main">{</span><span class="bound">c</span><span class="main">}</span><span class="main">.</span> <span class="main">⟨</span><span class="bound">x</span><span class="main">,</span> <span class="skolem">t</span><span class="main">⟩</span> <span class="main">∈</span> <span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IsBoundedAbove<span class="main">(</span><span class="var">?M</span><span class="main">,</span><span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsBoundedAbove_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>2<span class="main">,</span>3<span class="main">)</span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">l</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">" <span class="main">∀</span><span class="bound">x</span><span class="main">∈</span><span class="free">A</span><span class="main">.</span> <span class="main">⟨</span><span class="skolem">l</span><span class="main">,</span> <span class="bound">x</span><span class="main">⟩</span> <span class="main">∈</span> <span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsBoundedBelow_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">x</span><span class="main">∈</span><span class="free">A</span><span class="main">.</span> <span class="skolem">l</span> <span class="main">∈</span> <span class="free">r</span><span class="main">-``</span><span class="main">{</span><span class="bound">x</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> vimage_iff <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">l</span><span class="main">∈</span><span class="var">?M</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?M</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">note</span></span> assms<span class="main">(</span>1<span class="main">)</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"HasAminimum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="main">⋂</span><span class="bound">c</span><span class="main">∈</span><span class="var">?M</span><span class="main">.</span> <span class="free">r</span> <span class="main">``</span> <span class="main">{</span><span class="bound">c</span><span class="main">}</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsComplete_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">rr</span></span> <span class="keyword2"><span class="keyword">where</span></span> rr<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">rr</span><span class="main">∈</span><span class="main">(</span><span class="main">⋂</span><span class="bound">c</span><span class="main">∈</span><span class="var">?M</span><span class="main">.</span> <span class="free">r</span> <span class="main">``</span> <span class="main">{</span><span class="bound">c</span><span class="main">}</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">s</span><span class="main">∈</span><span class="main">(</span><span class="main">⋂</span><span class="bound">c</span><span class="main">∈</span><span class="var">?M</span><span class="main">.</span> <span class="free">r</span> <span class="main">``</span> <span class="main">{</span><span class="bound">c</span><span class="main">}</span><span class="main">)</span><span class="main">.</span> <span class="main">⟨</span><span class="skolem">rr</span><span class="main">,</span><span class="bound">s</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> HasAminimum_def
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">aa</span> <span class="keyword3"><span class="command">assume</span></span> A<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">aa</span><span class="main">∈</span><span class="free">A</span>"</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">c</span> <span class="keyword3"><span class="command">assume</span></span> M<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">c</span><span class="main">∈</span><span class="var">?M</span>"</span></span>
      <span class="keyword1"><span class="command">with</span></span> A <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">c</span><span class="main">,</span><span class="skolem">aa</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">aa</span><span class="main">∈</span><span class="free">r</span><span class="main">``</span><span class="main">{</span><span class="skolem">c</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">aa</span><span class="main">∈</span><span class="main">(</span><span class="main">⋂</span><span class="bound">c</span><span class="main">∈</span><span class="var">?M</span><span class="main">.</span> <span class="free">r</span> <span class="main">``</span> <span class="main">{</span><span class="bound">c</span><span class="main">}</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> rr<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">⊆</span><span class="main">(</span><span class="main">⋂</span><span class="bound">c</span><span class="main">∈</span><span class="var">?M</span><span class="main">.</span> <span class="free">r</span> <span class="main">``</span> <span class="main">{</span><span class="bound">c</span><span class="main">}</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> rr<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">s</span><span class="main">∈</span><span class="free">A</span><span class="main">.</span> <span class="main">⟨</span><span class="skolem">rr</span><span class="main">,</span><span class="bound">s</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">rr</span><span class="main">∈</span><span class="var">?M</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">m</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">m</span><span class="main">∈</span><span class="var">?M</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">rr</span><span class="main">∈</span><span class="free">r</span><span class="main">``</span><span class="main">{</span><span class="skolem">m</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> rr<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">m</span><span class="main">,</span><span class="skolem">rr</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">m</span><span class="main">∈</span><span class="var">?M</span><span class="main">.</span> <span class="main">⟨</span><span class="bound">m</span><span class="main">,</span><span class="skolem">rr</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">unfolding</span></span> HasAmaximum_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span> 

<span class="keyword1"><span class="command">theorem</span></span> comp_dense_imp_conn<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"IsLinOrder<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">x</span> <span class="bound">y</span><span class="main">.</span> <span class="bound">x</span><span class="main">≠</span><span class="bound">y</span><span class="main">∧</span><span class="bound">x</span><span class="main">∈</span><span class="free">X</span><span class="main">∧</span><span class="bound">y</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">r</span><span class="main">⊆</span><span class="free">X</span><span class="main">×</span><span class="free">X</span>"</span></span>
     <span class="quoted"><span class="quoted">"<span class="free">X</span> <span class="keyword1">{is</span> <span class="keyword1">dense</span> <span class="keyword1">with</span> <span class="keyword1">respect</span> <span class="keyword1">to}</span><span class="free">r</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">r</span><span class="keyword1">{is</span> <span class="keyword1">complete}</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span><span class="keyword1">{is</span> <span class="keyword1">connected}</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="main">¬</span><span class="main">(</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span><span class="keyword1">{is</span> <span class="keyword1">connected}</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">U</span></span> <span class="keyword2"><span class="keyword">where</span></span> U<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">≠</span><span class="main">0</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">≠</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="keyword1">{is</span> <span class="keyword1">closed</span> <span class="keyword1">in}</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">unfolding</span></span> IsConnected_def <span class="keyword1"><span class="command">using</span></span> union_ordtopology<span class="main">[</span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">,</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">from</span></span> U<span class="main">(</span>4<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> A<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">-</span><span class="skolem">U</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">⊆</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsClosed_def <span class="keyword1"><span class="command">using</span></span> union_ordtopology<span class="main">[</span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">,</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">from</span></span> U<span class="main">(</span>1<span class="main">)</span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">u</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">u</span><span class="main">∈</span><span class="skolem">U</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">from</span></span> A<span class="main">(</span>2<span class="main">)</span> U<span class="main">(</span>1<span class="main">,</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">-</span><span class="skolem">U</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">v</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">v</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="skolem">U</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">u</span><span class="main">∈</span><span class="skolem">U</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">U</span><span class="main">⊆</span><span class="free">X</span>›</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">u</span><span class="main">,</span><span class="skolem">v</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span><span class="main">∨</span><span class="main">⟨</span><span class="skolem">v</span><span class="main">,</span><span class="skolem">u</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def IsTotal_def
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">u</span><span class="main">,</span><span class="skolem">v</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span>
      <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">v</span><span class="main">)</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> base_sets_open<span class="main">[</span><span class="operator">OF</span> Ordtopology_is_a_topology<span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span>
        <span class="quoted"><span class="quoted">‹<span class="skolem">v</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="skolem">U</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">∩</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">v</span><span class="main">)</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> U<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">using</span></span> Ordtopology_is_a_topology<span class="main">(</span>1<span class="main">)</span>
        <span class="main">[</span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">unfolding</span></span> IsATopology_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">b</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">∈</span><span class="main">(</span><span class="skolem">U</span><span class="main">)</span><span class="main">∩</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">v</span><span class="main">)</span>"</span></span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">v</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> LeftRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> bound<span class="main">:</span><span class="quoted"><span class="quoted">"IsBoundedAbove<span class="main">(</span><span class="skolem">U</span><span class="main">∩</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">v</span><span class="main">)</span><span class="main">,</span><span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsBoundedAbove_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command"><span class="improper">with</span></span></span> <span class="quoted"><span class="quoted">‹<span class="main">⟨</span><span class="skolem">u</span><span class="main">,</span><span class="skolem">v</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>›</span></span><span class="quoted"><span class="quoted">‹<span class="skolem">u</span><span class="main">∈</span><span class="skolem">U</span>›</span></span><span class="quoted"><span class="quoted">‹<span class="skolem">U</span><span class="main">⊆</span><span class="free">X</span>›</span></span><span class="quoted"><span class="quoted">‹<span class="skolem">v</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="skolem">U</span>›</span></span> <span class="keyword1"><span class="command">have</span></span> nE<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">∩</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">v</span><span class="main">)</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> LeftRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> Hmin<span class="main">:</span><span class="quoted"><span class="quoted">"HasAminimum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="main">⋂</span><span class="bound">c</span><span class="main">∈</span><span class="skolem">U</span><span class="main">∩</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">v</span><span class="main">)</span><span class="main">.</span> <span class="free">r</span><span class="main">``</span><span class="main">{</span><span class="bound">c</span><span class="main">}</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>5<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsComplete_def
        <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?min</span></span></span><span class="main">=</span><span class="quoted"><span class="quoted">"Supremum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="skolem">U</span><span class="main">∩</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">v</span><span class="main">)</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">c</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">c</span><span class="main">∈</span><span class="skolem">U</span><span class="main">∩</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">v</span><span class="main">)</span>"</span></span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">c</span><span class="main">,</span><span class="skolem">v</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> LeftRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> a1<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="var">?min</span><span class="main">,</span><span class="skolem">v</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Order_ZF_5_L3<span class="main">[</span><span class="operator">OF</span> _ nE Hmin<span class="main">]</span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def
        <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">assume</span></span> ass<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="var">?min</span><span class="main">∈</span><span class="skolem">U</span>"</span></span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">V</span></span> <span class="keyword2"><span class="keyword">where</span></span> V<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="var">?min</span><span class="main">∈</span><span class="skolem">V</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">⊆</span><span class="skolem">U</span>"</span></span>
          <span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">∈</span><span class="main">{</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="bound">b</span><span class="main">,</span><span class="bound">c</span><span class="main">)</span><span class="main">.</span> <span class="main">⟨</span><span class="bound">b</span><span class="main">,</span><span class="bound">c</span><span class="main">⟩</span><span class="main">∈</span><span class="free">X</span><span class="main">×</span><span class="free">X</span><span class="main">}</span><span class="main">∪</span><span class="main">{</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="bound">b</span><span class="main">)</span><span class="main">.</span> <span class="bound">b</span><span class="main">∈</span><span class="free">X</span><span class="main">}</span><span class="main">∪</span><span class="main">{</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="bound">b</span><span class="main">)</span><span class="main">.</span> <span class="bound">b</span><span class="main">∈</span><span class="free">X</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> point_open_base_neigh
          <span class="main">[</span><span class="operator">OF</span> Ordtopology_is_a_topology<span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">U</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>›</span></span> ass<span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">{</span></span>
          <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">∈</span><span class="main">{</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="bound">b</span><span class="main">)</span><span class="main">.</span> <span class="bound">b</span><span class="main">∈</span><span class="free">X</span><span class="main">}</span>"</span></span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">b</span></span> <span class="keyword2"><span class="keyword">where</span></span> b<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">=</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">b</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">note</span></span> a1 <span class="keyword1"><span class="command">moreover</span></span>
          <span class="keyword1"><span class="command">from</span></span> V<span class="main">(</span>1<span class="main">)</span> b<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> a2<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="var">?min</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="var">?min</span><span class="main">≠</span><span class="skolem">b</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> RightRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">v</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def trans_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span> <span class="keyword1"><span class="command">moreover</span></span>
          <span class="keyword1"><span class="command">{</span></span>
            <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">=</span><span class="skolem">v</span>"</span></span>
            <span class="keyword1"><span class="command">with</span></span> a1 a2<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">=</span><span class="var">?min</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def antisym_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
            <span class="keyword1"><span class="command">with</span></span> a2<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">}</span></span>
          <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">using</span></span> V<span class="main">(</span>2<span class="main">)</span> b<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> RightRayX_def <span class="keyword1"><span class="command">using</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">v</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="skolem">U</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">}</span></span>
        <span class="keyword1"><span class="command">moreover</span></span>
        <span class="keyword1"><span class="command">{</span></span>
          <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">∈</span><span class="main">{</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="bound">b</span><span class="main">)</span><span class="main">.</span> <span class="bound">b</span><span class="main">∈</span><span class="free">X</span><span class="main">}</span>"</span></span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">b</span></span> <span class="keyword2"><span class="keyword">where</span></span> b<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">=</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">b</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">{</span></span>
            <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">v</span><span class="main">,</span><span class="skolem">b</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span>
            <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">=</span><span class="skolem">v</span><span class="main">∨</span><span class="skolem">v</span><span class="main">∈</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">b</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> LeftRayX_def <span class="keyword1"><span class="command">using</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">v</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="skolem">U</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
            <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">=</span><span class="skolem">v</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> b<span class="main">(</span>1<span class="main">)</span> V<span class="main">(</span>2<span class="main">)</span> <span class="quoted"><span class="quoted">‹<span class="skolem">v</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="skolem">U</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">}</span></span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> bv<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">v</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def IsTotal_def <span class="keyword1"><span class="command">using</span></span> b<span class="main">(</span>2<span class="main">)</span>
            <span class="quoted"><span class="quoted">‹<span class="skolem">v</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="skolem">U</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">from</span></span> b<span class="main">(</span>1<span class="main">)</span> V<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="var">?min</span><span class="main">,</span><span class="skolem">b</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="var">?min</span><span class="main">≠</span><span class="skolem">b</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> LeftRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>4<span class="main">)</span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">z</span></span> <span class="keyword2"><span class="keyword">where</span></span> z<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="var">?min</span><span class="main">,</span><span class="skolem">z</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">z</span><span class="main">,</span><span class="skolem">b</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="main">{</span><span class="skolem">b</span><span class="main">,</span><span class="var">?min</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsDense_def
            <span class="keyword1"><span class="command">using</span></span> b<span class="main">(</span>2<span class="main">)</span> V<span class="main">(</span>1<span class="main">,</span>2<span class="main">)</span> <span class="quoted"><span class="quoted">‹<span class="skolem">U</span><span class="main">⊆</span><span class="free">X</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> rayb<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">b</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> LeftRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">from</span></span> z<span class="main">(</span>2<span class="main">)</span> bv <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">z</span><span class="main">,</span><span class="skolem">v</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def trans_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
          <span class="keyword1"><span class="command">moreover</span></span>
          <span class="keyword1"><span class="command">{</span></span>
            <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">=</span><span class="skolem">v</span>"</span></span>
            <span class="keyword1"><span class="command">with</span></span> bv <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">z</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
            <span class="keyword1"><span class="command">with</span></span> z<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">=</span><span class="skolem">z</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def antisym_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
            <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">using</span></span> z<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">}</span></span>
          <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">v</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> LeftRayX_def <span class="keyword1"><span class="command">using</span></span> z<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">with</span></span> rayb <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="skolem">U</span><span class="main">∩</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">v</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> V<span class="main">(</span>2<span class="main">)</span> b<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?min</span><span class="main">∈</span><span class="free">r</span><span class="main">``</span><span class="main">{</span><span class="skolem">z</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Order_ZF_4_L4<span class="main">(</span>1<span class="main">)</span><span class="main">[</span><span class="operator">OF</span> _ Hmin<span class="main">]</span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> Supremum_def IsLinOrder_def
            <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">z</span><span class="main">,</span><span class="var">?min</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">with</span></span> z<span class="main">(</span>1<span class="main">,</span>3<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def antisym_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">}</span></span>
        <span class="keyword1"><span class="command">moreover</span></span>
        <span class="keyword1"><span class="command">{</span></span>
          <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">∈</span><span class="main">{</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="bound">b</span><span class="main">,</span><span class="bound">c</span><span class="main">)</span><span class="main">.</span> <span class="main">⟨</span><span class="bound">b</span><span class="main">,</span><span class="bound">c</span><span class="main">⟩</span><span class="main">∈</span><span class="free">X</span><span class="main">×</span><span class="free">X</span><span class="main">}</span>"</span></span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">b</span></span> <span class="skolem"><span class="skolem">c</span></span> <span class="keyword2"><span class="keyword">where</span></span> b<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">=</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">c</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">c</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">from</span></span> b V<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> m<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="var">?min</span><span class="main">,</span><span class="skolem">c</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="var">?min</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="var">?min</span><span class="main">≠</span><span class="skolem">b</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="var">?min</span><span class="main">≠</span><span class="skolem">c</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IntervalX_def Interval_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>  
          <span class="keyword1"><span class="command">{</span></span>
            <span class="keyword3"><span class="command">assume</span></span> A<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">c</span><span class="main">,</span><span class="skolem">v</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span>
            <span class="keyword1"><span class="command">from</span></span> m <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">z</span></span> <span class="keyword2"><span class="keyword">where</span></span> z<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">z</span><span class="main">,</span><span class="skolem">c</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="var">?min</span><span class="main">,</span><span class="skolem">z</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="main">{</span><span class="skolem">c</span><span class="main">,</span><span class="var">?min</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>4<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsDense_def
              <span class="keyword1"><span class="command">using</span></span> b<span class="main">(</span>3<span class="main">)</span> V<span class="main">(</span>1<span class="main">,</span>2<span class="main">)</span> <span class="quoted"><span class="quoted">‹<span class="skolem">U</span><span class="main">⊆</span><span class="free">X</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
            <span class="keyword1"><span class="command">from</span></span> z<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">z</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> m<span class="main">(</span>2<span class="main">)</span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def trans_def
              <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
            <span class="keyword1"><span class="command">with</span></span> z<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">c</span><span class="main">)</span><span class="main">∨</span><span class="skolem">z</span><span class="main">=</span><span class="skolem">b</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> z<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IntervalX_def
              Interval_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
            <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">c</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> m<span class="main">(</span>2<span class="main">)</span> z<span class="main">(</span>2<span class="main">,</span>3<span class="main">)</span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def
              antisym_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
            <span class="keyword1"><span class="command">with</span></span> b<span class="main">(</span>1<span class="main">)</span> V<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="skolem">U</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
            <span class="keyword1"><span class="command">from</span></span> A z<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">z</span><span class="main">,</span><span class="skolem">v</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def trans_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
            <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">≠</span><span class="skolem">v</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> A z<span class="main">(</span>1<span class="main">,</span>3<span class="main">)</span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def antisym_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
            <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="skolem">U</span><span class="main">∩</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">v</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> LeftRayX_def <span class="keyword1"><span class="command">using</span></span> z<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
            <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?min</span><span class="main">∈</span><span class="free">r</span><span class="main">``</span><span class="main">{</span><span class="skolem">z</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Order_ZF_4_L4<span class="main">(</span>1<span class="main">)</span><span class="main">[</span><span class="operator">OF</span> _ Hmin<span class="main">]</span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> Supremum_def IsLinOrder_def
              <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
            <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">z</span><span class="main">,</span><span class="var">?min</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
            <span class="keyword1"><span class="command">with</span></span> z<span class="main">(</span>2<span class="main">,</span>3<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def antisym_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">}</span></span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> vc<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">v</span><span class="main">,</span><span class="skolem">c</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">v</span><span class="main">≠</span><span class="skolem">c</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def IsTotal_def <span class="keyword1"><span class="command">using</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">v</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="skolem">U</span>›</span></span>
            b<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">{</span></span>
            <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="var">?min</span><span class="main">=</span><span class="skolem">v</span>"</span></span>
            <span class="keyword1"><span class="command">with</span></span> V<span class="main">(</span>2<span class="main">,</span>1<span class="main">)</span> <span class="quoted"><span class="quoted">‹<span class="skolem">v</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="skolem">U</span>›</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">}</span></span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?min</span><span class="main">≠</span><span class="skolem">v</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">with</span></span> a1 <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">z</span></span> <span class="keyword2"><span class="keyword">where</span></span> z<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="var">?min</span><span class="main">,</span><span class="skolem">z</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">z</span><span class="main">,</span><span class="skolem">v</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="main">{</span><span class="var">?min</span><span class="main">,</span><span class="skolem">v</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>4<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsDense_def
            <span class="keyword1"><span class="command">using</span></span> V<span class="main">(</span>1<span class="main">,</span>2<span class="main">)</span> <span class="quoted"><span class="quoted">‹<span class="skolem">U</span><span class="main">⊆</span><span class="free">X</span>›</span></span><span class="quoted"><span class="quoted">‹<span class="skolem">v</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="skolem">U</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="keyword1"><span class="command">from</span></span> z<span class="main">(</span>2<span class="main">)</span> vc<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> zc<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">z</span><span class="main">,</span><span class="skolem">c</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def trans_def
            <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span> <span class="keyword1"><span class="command">moreover</span></span>
          <span class="keyword1"><span class="command">from</span></span> m<span class="main">(</span>2<span class="main">)</span> z<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">z</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def trans_def
            <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span> <span class="keyword1"><span class="command">ultimately</span></span>
          <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span>Interval<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">c</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Order_ZF_2_L1B <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
          <span class="keyword1"><span class="command">{</span></span>
            <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">=</span><span class="skolem">c</span>"</span></span>
            <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">using</span></span> z<span class="main">(</span>2<span class="main">)</span> vc <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def antisym_def
              <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
          <span class="keyword1"><span class="command">}</span></span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">≠</span><span class="skolem">c</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
          <span class="keyword1"><span class="command">{</span></span>
            <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">=</span><span class="skolem">b</span>"</span></span>
            <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">=</span><span class="var">?min</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> m<span class="main">(</span>2<span class="main">)</span> z<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def
              antisym_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
            <span class="keyword1"><span class="command">with</span></span> z<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">}</span></span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">≠</span><span class="skolem">b</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
          <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> z<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">ultimately</span></span>
          <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">c</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IntervalX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="skolem">V</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> b<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="skolem">U</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> V<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
          <span class="keyword1"><span class="command">from</span></span> z<span class="main">(</span>2<span class="main">,</span>3<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">v</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> LeftRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">ultimately</span></span>
          <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="skolem">U</span><span class="main">∩</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">v</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?min</span><span class="main">∈</span><span class="free">r</span><span class="main">``</span><span class="main">{</span><span class="skolem">z</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Order_ZF_4_L4<span class="main">(</span>1<span class="main">)</span><span class="main">[</span><span class="operator">OF</span> _ Hmin<span class="main">]</span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> Supremum_def IsLinOrder_def
            <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">z</span><span class="main">,</span><span class="var">?min</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">with</span></span> z<span class="main">(</span>1<span class="main">,</span>3<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def antisym_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">}</span></span>
        <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">using</span></span> V<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> ass<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="var">?min</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="skolem">U</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> a1 assms<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">V</span></span> <span class="keyword2"><span class="keyword">where</span></span> V<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="var">?min</span><span class="main">∈</span><span class="skolem">V</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">⊆</span><span class="free">X</span><span class="main">-</span><span class="skolem">U</span>"</span></span>
        <span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">∈</span><span class="main">{</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="bound">b</span><span class="main">,</span><span class="bound">c</span><span class="main">)</span><span class="main">.</span> <span class="main">⟨</span><span class="bound">b</span><span class="main">,</span><span class="bound">c</span><span class="main">⟩</span><span class="main">∈</span><span class="free">X</span><span class="main">×</span><span class="free">X</span><span class="main">}</span><span class="main">∪</span><span class="main">{</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="bound">b</span><span class="main">)</span><span class="main">.</span> <span class="bound">b</span><span class="main">∈</span><span class="free">X</span><span class="main">}</span><span class="main">∪</span><span class="main">{</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="bound">b</span><span class="main">)</span><span class="main">.</span> <span class="bound">b</span><span class="main">∈</span><span class="free">X</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> point_open_base_neigh
        <span class="main">[</span><span class="operator">OF</span> Ordtopology_is_a_topology<span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span> <span class="quoted"><span class="quoted">‹<span class="free">X</span><span class="main">-</span><span class="skolem">U</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>›</span></span> ass<span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">∈</span><span class="main">{</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="bound">b</span><span class="main">,</span><span class="bound">c</span><span class="main">)</span><span class="main">.</span> <span class="main">⟨</span><span class="bound">b</span><span class="main">,</span><span class="bound">c</span><span class="main">⟩</span><span class="main">∈</span><span class="free">X</span><span class="main">×</span><span class="free">X</span><span class="main">}</span>"</span></span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">b</span></span> <span class="skolem"><span class="skolem">c</span></span> <span class="keyword2"><span class="keyword">where</span></span> b<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">=</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">c</span><span class="main">)</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">c</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">from</span></span> b V<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> m<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="var">?min</span><span class="main">,</span><span class="skolem">c</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="var">?min</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="var">?min</span><span class="main">≠</span><span class="skolem">b</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="var">?min</span><span class="main">≠</span><span class="skolem">c</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IntervalX_def Interval_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>  
        <span class="keyword1"><span class="command">{</span></span>
          <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="keyword3"><span class="command">assume</span></span> A<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="skolem">U</span><span class="main">∩</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">v</span><span class="main">)</span>"</span></span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">v</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="skolem">U</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> LeftRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∉</span><span class="skolem">V</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> V<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∉</span>Interval<span class="main">(</span><span class="free">r</span><span class="main">,</span> <span class="skolem">b</span><span class="main">,</span> <span class="skolem">c</span><span class="main">)</span> <span class="main">∩</span> <span class="free">X</span><span class="main">∨</span><span class="skolem">x</span><span class="main">=</span><span class="skolem">b</span><span class="main">∨</span><span class="skolem">x</span><span class="main">=</span><span class="skolem">c</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> b<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IntervalX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∉</span><span class="free">r</span><span class="main">∨</span><span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">c</span><span class="main">⟩</span><span class="main">∉</span><span class="free">r</span><span class="main">)</span><span class="main">∨</span><span class="skolem">x</span><span class="main">=</span><span class="skolem">b</span><span class="main">∨</span><span class="skolem">x</span><span class="main">=</span><span class="skolem">c</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Order_ZF_2_L1B <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">∈</span><span class="skolem">U</span>›</span></span><span class="quoted"><span class="quoted">‹<span class="skolem">U</span><span class="main">⊆</span><span class="free">X</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">b</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span><span class="main">∨</span><span class="main">⟨</span><span class="skolem">c</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span><span class="main">)</span><span class="main">∨</span><span class="skolem">x</span><span class="main">=</span><span class="skolem">b</span><span class="main">∨</span><span class="skolem">x</span><span class="main">=</span><span class="skolem">c</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def IsTotal_def
            <span class="keyword1"><span class="command">using</span></span> b<span class="main">(</span>2<span class="main">,</span>3<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">b</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span><span class="main">∨</span><span class="main">⟨</span><span class="skolem">c</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def <span class="keyword1"><span class="command">using</span></span> total_is_refl
            <span class="keyword1"><span class="command">unfolding</span></span> refl_def <span class="keyword1"><span class="command">using</span></span> b<span class="main">(</span>2<span class="main">,</span>3<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
          <span class="keyword1"><span class="command">from</span></span> A <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="var">?min</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Order_ZF_4_L4<span class="main">(</span>1<span class="main">)</span><span class="main">[</span><span class="operator">OF</span> _ Hmin<span class="main">]</span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> Supremum_def IsLinOrder_def
            <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">b</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span><span class="main">∨</span><span class="main">⟨</span><span class="skolem">c</span><span class="main">,</span><span class="var">?min</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def trans_def
            <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
          <span class="keyword1"><span class="command">with</span></span> m<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">b</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span><span class="main">∨</span><span class="skolem">c</span><span class="main">=</span><span class="var">?min</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def antisym_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">with</span></span> m<span class="main">(</span>4<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">b</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">}</span></span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="var">?min</span><span class="main">,</span><span class="skolem">b</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Order_ZF_5_L3<span class="main">[</span><span class="operator">OF</span> _ nE Hmin<span class="main">]</span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">with</span></span> m<span class="main">(</span>2<span class="main">,</span>3<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def antisym_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">∈</span><span class="main">{</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="bound">b</span><span class="main">)</span><span class="main">.</span> <span class="bound">b</span><span class="main">∈</span><span class="free">X</span><span class="main">}</span>"</span></span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">b</span></span> <span class="keyword2"><span class="keyword">where</span></span> b<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">=</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">b</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">from</span></span> b V<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> m<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="var">?min</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="var">?min</span><span class="main">≠</span><span class="skolem">b</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> RightRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">{</span></span>
          <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="keyword3"><span class="command">assume</span></span> A<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="skolem">U</span><span class="main">∩</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">v</span><span class="main">)</span>"</span></span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">v</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="skolem">U</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> LeftRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∉</span><span class="skolem">V</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> V<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∉</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span> <span class="skolem">b</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> b<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∉</span><span class="free">r</span><span class="main">∨</span><span class="skolem">x</span><span class="main">=</span><span class="skolem">b</span><span class="main">)</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> RightRayX_def <span class="keyword1"><span class="command">using</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">∈</span><span class="skolem">U</span>›</span></span><span class="quoted"><span class="quoted">‹<span class="skolem">U</span><span class="main">⊆</span><span class="free">X</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">b</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def <span class="keyword1"><span class="command">using</span></span> total_is_refl <span class="keyword1"><span class="command">unfolding</span></span>
            refl_def <span class="keyword1"><span class="command">unfolding</span></span> IsTotal_def <span class="keyword1"><span class="command">using</span></span> b<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">}</span></span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="var">?min</span><span class="main">,</span><span class="skolem">b</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Order_ZF_5_L3<span class="main">[</span><span class="operator">OF</span> _ nE Hmin<span class="main">]</span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">with</span></span> m<span class="main">(</span>2<span class="main">,</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def antisym_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">{</span></span>
         <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">∈</span><span class="main">{</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="bound">b</span><span class="main">)</span><span class="main">.</span> <span class="bound">b</span><span class="main">∈</span><span class="free">X</span><span class="main">}</span>"</span></span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">b</span></span> <span class="keyword2"><span class="keyword">where</span></span> b<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">=</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">b</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">from</span></span> b V<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> m<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="var">?min</span><span class="main">,</span><span class="skolem">b</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="var">?min</span><span class="main">≠</span><span class="skolem">b</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> LeftRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">{</span></span>
          <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="keyword3"><span class="command">assume</span></span> A<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="skolem">U</span><span class="main">∩</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">v</span><span class="main">)</span>"</span></span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">v</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="skolem">U</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> LeftRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∉</span><span class="skolem">V</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> V<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∉</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span> <span class="skolem">b</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> b<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">b</span><span class="main">⟩</span><span class="main">∉</span><span class="free">r</span><span class="main">∨</span><span class="skolem">x</span><span class="main">=</span><span class="skolem">b</span><span class="main">)</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> LeftRayX_def <span class="keyword1"><span class="command">using</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">∈</span><span class="skolem">U</span>›</span></span><span class="quoted"><span class="quoted">‹<span class="skolem">U</span><span class="main">⊆</span><span class="free">X</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def <span class="keyword1"><span class="command">using</span></span> total_is_refl <span class="keyword1"><span class="command">unfolding</span></span>
            refl_def <span class="keyword1"><span class="command">unfolding</span></span> IsTotal_def <span class="keyword1"><span class="command">using</span></span> b<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">with</span></span> m<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="var">?min</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def trans_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
          <span class="keyword1"><span class="command">moreover</span></span> 
          <span class="keyword1"><span class="command">from</span></span> bound A <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">g</span><span class="main">.</span> <span class="main">∀</span><span class="bound">y</span><span class="main">∈</span><span class="skolem">U</span><span class="main">∩</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">v</span><span class="main">)</span><span class="main">.</span> <span class="main">⟨</span><span class="bound">y</span><span class="main">,</span><span class="bound">g</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> nE
            <span class="keyword1"><span class="command">unfolding</span></span> IsBoundedAbove_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">g</span></span> <span class="keyword2"><span class="keyword">where</span></span> g<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">y</span><span class="main">∈</span><span class="skolem">U</span><span class="main">∩</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">v</span><span class="main">)</span><span class="main">.</span> <span class="main">⟨</span><span class="bound">y</span><span class="main">,</span><span class="skolem">g</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">with</span></span> nE <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">t</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">t</span><span class="main">∈</span><span class="skolem">U</span><span class="main">∩</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">v</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">with</span></span> g <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">t</span><span class="main">,</span><span class="skolem">g</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">g</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">with</span></span> g <span class="keyword1"><span class="command">have</span></span> boundX<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">g</span><span class="main">∈</span><span class="free">X</span><span class="main">.</span> <span class="main">∀</span><span class="bound">y</span><span class="main">∈</span><span class="skolem">U</span><span class="main">∩</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">v</span><span class="main">)</span><span class="main">.</span> <span class="main">⟨</span><span class="bound">y</span><span class="main">,</span><span class="bound">g</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="var">?min</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Order_ZF_5_L7<span class="main">(</span>2<span class="main">)</span><span class="main">[</span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>3<span class="main"><span class="main">)</span></span> _ assms<span class="main"><span class="main">(</span></span>5<span class="main"><span class="main">)</span></span> _  boundX<span class="main">]</span>
            assms<span class="main">(</span>1<span class="main">)</span> <span class="quoted"><span class="quoted">‹<span class="skolem">U</span><span class="main">⊆</span><span class="free">X</span>›</span></span> A <span class="keyword1"><span class="command">unfolding</span></span> LeftRayX_def IsLinOrder_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">=</span><span class="var">?min</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def antisym_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">}</span></span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">∩</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">v</span><span class="main">)</span><span class="main">⊆</span><span class="main">{</span><span class="var">?min</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
        <span class="keyword1"><span class="command">{</span></span>
          <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="var">?min</span><span class="main">∈</span><span class="skolem">U</span><span class="main">∩</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">v</span><span class="main">)</span>"</span></span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?min</span><span class="main">∈</span><span class="skolem">U</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">using</span></span> V<span class="main">(</span>1<span class="main">,</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">}</span></span>
        <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">using</span></span> nE <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">note</span></span> V<span class="main">(</span>3<span class="main">)</span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">v</span><span class="main">,</span><span class="skolem">u</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def IsTotal_def <span class="keyword1"><span class="command">using</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">u</span><span class="main">∈</span><span class="skolem">U</span>›</span></span><span class="quoted"><span class="quoted">‹<span class="skolem">U</span><span class="main">⊆</span><span class="free">X</span>›</span></span>
      <span class="quoted"><span class="quoted">‹<span class="skolem">v</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="skolem">U</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">v</span><span class="main">)</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> base_sets_open<span class="main">[</span><span class="operator">OF</span> Ordtopology_is_a_topology<span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span>
      <span class="quoted"><span class="quoted">‹<span class="skolem">v</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="skolem">U</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">∩</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">v</span><span class="main">)</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> U<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">using</span></span> Ordtopology_is_a_topology<span class="main">(</span>1<span class="main">)</span>
      <span class="main">[</span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">unfolding</span></span> IsATopology_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">b</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">∈</span><span class="main">(</span><span class="skolem">U</span><span class="main">)</span><span class="main">∩</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">v</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">v</span><span class="main">,</span><span class="skolem">b</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> RightRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> bound<span class="main">:</span><span class="quoted"><span class="quoted">"IsBoundedBelow<span class="main">(</span><span class="skolem">U</span><span class="main">∩</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">v</span><span class="main">)</span><span class="main">,</span><span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsBoundedBelow_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‹<span class="main">⟨</span><span class="skolem">v</span><span class="main">,</span><span class="skolem">u</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>›</span></span><span class="quoted"><span class="quoted">‹<span class="skolem">u</span><span class="main">∈</span><span class="skolem">U</span>›</span></span><span class="quoted"><span class="quoted">‹<span class="skolem">U</span><span class="main">⊆</span><span class="free">X</span>›</span></span><span class="quoted"><span class="quoted">‹<span class="skolem">v</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="skolem">U</span>›</span></span> <span class="keyword1"><span class="command">have</span></span> nE<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">∩</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">v</span><span class="main">)</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> RightRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">have</span></span> Hmax<span class="main">:</span><span class="quoted"><span class="quoted">"HasAmaximum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="main">⋂</span><span class="bound">c</span><span class="main">∈</span><span class="skolem">U</span><span class="main">∩</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">v</span><span class="main">)</span><span class="main">.</span> <span class="free">r</span><span class="main">-``</span><span class="main">{</span><span class="bound">c</span><span class="main">}</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> complete_order_bounded_below<span class="main">[</span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>5<span class="main"><span class="main">)</span></span> bound nE assms<span class="main"><span class="main">(</span></span>3<span class="main"><span class="main">)</span></span><span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
    <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?max</span></span></span><span class="main">=</span><span class="quoted"><span class="quoted">"Infimum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="skolem">U</span><span class="main">∩</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">v</span><span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">c</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">c</span><span class="main">∈</span><span class="skolem">U</span><span class="main">∩</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">v</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">v</span><span class="main">,</span><span class="skolem">c</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> RightRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> a1<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">v</span><span class="main">,</span><span class="var">?max</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Order_ZF_5_L4<span class="main">[</span><span class="operator">OF</span> _ nE Hmax<span class="main">]</span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">assume</span></span> ass<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="var">?max</span><span class="main">∈</span><span class="skolem">U</span>"</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">V</span></span> <span class="keyword2"><span class="keyword">where</span></span> V<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="var">?max</span><span class="main">∈</span><span class="skolem">V</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">⊆</span><span class="skolem">U</span>"</span></span>
        <span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">∈</span><span class="main">{</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="bound">b</span><span class="main">,</span><span class="bound">c</span><span class="main">)</span><span class="main">.</span> <span class="main">⟨</span><span class="bound">b</span><span class="main">,</span><span class="bound">c</span><span class="main">⟩</span><span class="main">∈</span><span class="free">X</span><span class="main">×</span><span class="free">X</span><span class="main">}</span><span class="main">∪</span><span class="main">{</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="bound">b</span><span class="main">)</span><span class="main">.</span> <span class="bound">b</span><span class="main">∈</span><span class="free">X</span><span class="main">}</span><span class="main">∪</span><span class="main">{</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="bound">b</span><span class="main">)</span><span class="main">.</span> <span class="bound">b</span><span class="main">∈</span><span class="free">X</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> point_open_base_neigh
        <span class="main">[</span><span class="operator">OF</span> Ordtopology_is_a_topology<span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">U</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>›</span></span> ass<span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">∈</span><span class="main">{</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="bound">b</span><span class="main">)</span><span class="main">.</span> <span class="bound">b</span><span class="main">∈</span><span class="free">X</span><span class="main">}</span>"</span></span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">b</span></span> <span class="keyword2"><span class="keyword">where</span></span> b<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">=</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">b</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">from</span></span> V<span class="main">(</span>1<span class="main">)</span> b<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> a2<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="var">?max</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="var">?max</span><span class="main">≠</span><span class="skolem">b</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> RightRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">{</span></span>
          <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">v</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">=</span><span class="skolem">v</span><span class="main">∨</span><span class="skolem">v</span><span class="main">∈</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">b</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> RightRayX_def <span class="keyword1"><span class="command">using</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">v</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="skolem">U</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">=</span><span class="skolem">v</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> b<span class="main">(</span>2<span class="main">)</span> V<span class="main">(</span>2<span class="main">)</span> <span class="quoted"><span class="quoted">‹<span class="skolem">v</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="skolem">U</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">}</span></span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> bv<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">v</span><span class="main">,</span><span class="skolem">b</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def IsTotal_def <span class="keyword1"><span class="command">using</span></span> b<span class="main">(</span>1<span class="main">)</span>
          <span class="quoted"><span class="quoted">‹<span class="skolem">v</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="skolem">U</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">from</span></span> a2 assms<span class="main">(</span>4<span class="main">)</span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">z</span></span> <span class="keyword2"><span class="keyword">where</span></span> z<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">z</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">z</span><span class="main">,</span><span class="var">?max</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="main">{</span><span class="skolem">b</span><span class="main">,</span><span class="var">?max</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsDense_def
          <span class="keyword1"><span class="command">using</span></span> b<span class="main">(</span>1<span class="main">)</span> V<span class="main">(</span>1<span class="main">,</span>2<span class="main">)</span> <span class="quoted"><span class="quoted">‹<span class="skolem">U</span><span class="main">⊆</span><span class="free">X</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> rayb<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">b</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> RightRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">from</span></span> z<span class="main">(</span>1<span class="main">)</span> bv <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">v</span><span class="main">,</span><span class="skolem">z</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def trans_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span> <span class="keyword1"><span class="command">moreover</span></span>
        <span class="keyword1"><span class="command">{</span></span>
          <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">=</span><span class="skolem">v</span>"</span></span>
          <span class="keyword1"><span class="command">with</span></span> bv <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">z</span><span class="main">,</span><span class="skolem">b</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">with</span></span> z<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">=</span><span class="skolem">z</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def antisym_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">using</span></span> z<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">}</span></span>
        <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">v</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> RightRayX_def <span class="keyword1"><span class="command">using</span></span> z<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">with</span></span> rayb <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="skolem">U</span><span class="main">∩</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">v</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> V<span class="main">(</span>2<span class="main">)</span> b<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?max</span><span class="main">∈</span><span class="free">r</span><span class="main">-``</span><span class="main">{</span><span class="skolem">z</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Order_ZF_4_L3<span class="main">(</span>1<span class="main">)</span><span class="main">[</span><span class="operator">OF</span> _ Hmax<span class="main">]</span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> Infimum_def IsLinOrder_def
          <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="var">?max</span><span class="main">,</span><span class="skolem">z</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">with</span></span> z<span class="main">(</span>2<span class="main">,</span>3<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def antisym_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">∈</span><span class="main">{</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="bound">b</span><span class="main">)</span><span class="main">.</span> <span class="bound">b</span><span class="main">∈</span><span class="free">X</span><span class="main">}</span>"</span></span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">b</span></span> <span class="keyword2"><span class="keyword">where</span></span> b<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">=</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">b</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">note</span></span> a1 <span class="keyword1"><span class="command">moreover</span></span>
        <span class="keyword1"><span class="command">from</span></span> V<span class="main">(</span>1<span class="main">)</span> b<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> a2<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="var">?max</span><span class="main">,</span><span class="skolem">b</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="var">?max</span><span class="main">≠</span><span class="skolem">b</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> LeftRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">v</span><span class="main">,</span><span class="skolem">b</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def trans_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span> <span class="keyword1"><span class="command">moreover</span></span>
        <span class="keyword1"><span class="command">{</span></span>
          <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">=</span><span class="skolem">v</span>"</span></span>
          <span class="keyword1"><span class="command">with</span></span> a1 a2<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">=</span><span class="var">?max</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def antisym_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">with</span></span> a2<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">}</span></span>
        <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">using</span></span> V<span class="main">(</span>2<span class="main">)</span> b<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> LeftRayX_def <span class="keyword1"><span class="command">using</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">v</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="skolem">U</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">∈</span><span class="main">{</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="bound">b</span><span class="main">,</span><span class="bound">c</span><span class="main">)</span><span class="main">.</span> <span class="main">⟨</span><span class="bound">b</span><span class="main">,</span><span class="bound">c</span><span class="main">⟩</span><span class="main">∈</span><span class="free">X</span><span class="main">×</span><span class="free">X</span><span class="main">}</span>"</span></span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">b</span></span> <span class="skolem"><span class="skolem">c</span></span> <span class="keyword2"><span class="keyword">where</span></span> b<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">=</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">c</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">c</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">from</span></span> b V<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> m<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="var">?max</span><span class="main">,</span><span class="skolem">c</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="var">?max</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="var">?max</span><span class="main">≠</span><span class="skolem">b</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="var">?max</span><span class="main">≠</span><span class="skolem">c</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IntervalX_def Interval_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>  
        <span class="keyword1"><span class="command">{</span></span>
          <span class="keyword3"><span class="command">assume</span></span> A<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">v</span><span class="main">,</span><span class="skolem">b</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span>
          <span class="keyword1"><span class="command">from</span></span> m <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">z</span></span> <span class="keyword2"><span class="keyword">where</span></span> z<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">z</span><span class="main">,</span><span class="var">?max</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">z</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="main">{</span><span class="skolem">b</span><span class="main">,</span><span class="var">?max</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>4<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsDense_def
            <span class="keyword1"><span class="command">using</span></span> b<span class="main">(</span>2<span class="main">)</span> V<span class="main">(</span>1<span class="main">,</span>2<span class="main">)</span> <span class="quoted"><span class="quoted">‹<span class="skolem">U</span><span class="main">⊆</span><span class="free">X</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="keyword1"><span class="command">from</span></span> z<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">z</span><span class="main">,</span><span class="skolem">c</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> m<span class="main">(</span>1<span class="main">)</span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def trans_def
            <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
          <span class="keyword1"><span class="command">with</span></span> z<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">c</span><span class="main">)</span><span class="main">∨</span><span class="skolem">z</span><span class="main">=</span><span class="skolem">c</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> z<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IntervalX_def
            Interval_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">c</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> m<span class="main">(</span>1<span class="main">)</span> z<span class="main">(</span>1<span class="main">,</span>3<span class="main">)</span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def
            antisym_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">with</span></span> b<span class="main">(</span>1<span class="main">)</span> V<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="skolem">U</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
          <span class="keyword1"><span class="command">from</span></span> A z<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">v</span><span class="main">,</span><span class="skolem">z</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def trans_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
          <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">≠</span><span class="skolem">v</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> A z<span class="main">(</span>2<span class="main">,</span>3<span class="main">)</span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def antisym_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="skolem">U</span><span class="main">∩</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">v</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> RightRayX_def <span class="keyword1"><span class="command">using</span></span> z<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?max</span><span class="main">∈</span><span class="free">r</span><span class="main">-``</span><span class="main">{</span><span class="skolem">z</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Order_ZF_4_L3<span class="main">(</span>1<span class="main">)</span><span class="main">[</span><span class="operator">OF</span> _ Hmax<span class="main">]</span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> Infimum_def IsLinOrder_def
            <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="var">?max</span><span class="main">,</span><span class="skolem">z</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">with</span></span> z<span class="main">(</span>1<span class="main">,</span>3<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def antisym_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">}</span></span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> vc<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">v</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">v</span><span class="main">≠</span><span class="skolem">b</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def IsTotal_def <span class="keyword1"><span class="command">using</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">v</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="skolem">U</span>›</span></span>
          b<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">{</span></span>
          <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="var">?max</span><span class="main">=</span><span class="skolem">v</span>"</span></span>
          <span class="keyword1"><span class="command">with</span></span> V<span class="main">(</span>2<span class="main">,</span>1<span class="main">)</span> <span class="quoted"><span class="quoted">‹<span class="skolem">v</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="skolem">U</span>›</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">}</span></span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">v</span><span class="main">≠</span><span class="var">?max</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
        <span class="keyword1"><span class="command">note</span></span> a1 <span class="keyword1"><span class="command">moreover</span></span>
        <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?max</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> V<span class="main">(</span>1<span class="main">,</span>2<span class="main">)</span> <span class="quoted"><span class="quoted">‹<span class="skolem">U</span><span class="main">⊆</span><span class="free">X</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">v</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">v</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="skolem">U</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">z</span></span> <span class="keyword2"><span class="keyword">where</span></span> z<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">v</span><span class="main">,</span><span class="skolem">z</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">z</span><span class="main">,</span><span class="var">?max</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="main">{</span><span class="skolem">v</span><span class="main">,</span><span class="var">?max</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>4<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsDense_def
          <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">from</span></span> z<span class="main">(</span>1<span class="main">)</span> vc<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> zc<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">z</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def trans_def
          <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span> <span class="keyword1"><span class="command">moreover</span></span>
        <span class="keyword1"><span class="command">from</span></span> m<span class="main">(</span>1<span class="main">)</span> z<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">z</span><span class="main">,</span><span class="skolem">c</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def trans_def
          <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span> <span class="keyword1"><span class="command">ultimately</span></span>
        <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span>Interval<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">c</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Order_ZF_2_L1B <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
        <span class="keyword1"><span class="command">{</span></span>
          <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">=</span><span class="skolem">b</span>"</span></span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">using</span></span> z<span class="main">(</span>1<span class="main">)</span> vc <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def antisym_def
            <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
        <span class="keyword1"><span class="command">}</span></span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">≠</span><span class="skolem">b</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
        <span class="keyword1"><span class="command">{</span></span>
          <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">=</span><span class="skolem">c</span>"</span></span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">=</span><span class="var">?max</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> m<span class="main">(</span>1<span class="main">)</span> z<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def
            antisym_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">with</span></span> z<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">}</span></span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">≠</span><span class="skolem">c</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
        <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> z<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">ultimately</span></span>
        <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">c</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IntervalX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="skolem">V</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> b<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="skolem">U</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> V<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
        <span class="keyword1"><span class="command">from</span></span> z<span class="main">(</span>1<span class="main">,</span>3<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">v</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> RightRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">ultimately</span></span>
        <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="skolem">U</span><span class="main">∩</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">v</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?max</span><span class="main">∈</span><span class="free">r</span><span class="main">-``</span><span class="main">{</span><span class="skolem">z</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Order_ZF_4_L3<span class="main">(</span>1<span class="main">)</span><span class="main">[</span><span class="operator">OF</span> _ Hmax<span class="main">]</span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> Infimum_def IsLinOrder_def
          <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="var">?max</span><span class="main">,</span><span class="skolem">z</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">with</span></span> z<span class="main">(</span>2<span class="main">,</span>3<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def antisym_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">using</span></span> V<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> ass<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="var">?max</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="skolem">U</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> a1 assms<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">V</span></span> <span class="keyword2"><span class="keyword">where</span></span> V<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="var">?max</span><span class="main">∈</span><span class="skolem">V</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">⊆</span><span class="free">X</span><span class="main">-</span><span class="skolem">U</span>"</span></span>
      <span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">∈</span><span class="main">{</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="bound">b</span><span class="main">,</span><span class="bound">c</span><span class="main">)</span><span class="main">.</span> <span class="main">⟨</span><span class="bound">b</span><span class="main">,</span><span class="bound">c</span><span class="main">⟩</span><span class="main">∈</span><span class="free">X</span><span class="main">×</span><span class="free">X</span><span class="main">}</span><span class="main">∪</span><span class="main">{</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="bound">b</span><span class="main">)</span><span class="main">.</span> <span class="bound">b</span><span class="main">∈</span><span class="free">X</span><span class="main">}</span><span class="main">∪</span><span class="main">{</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="bound">b</span><span class="main">)</span><span class="main">.</span> <span class="bound">b</span><span class="main">∈</span><span class="free">X</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> point_open_base_neigh
      <span class="main">[</span><span class="operator">OF</span> Ordtopology_is_a_topology<span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span> <span class="quoted"><span class="quoted">‹<span class="free">X</span><span class="main">-</span><span class="skolem">U</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>›</span></span> ass<span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">∈</span><span class="main">{</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="bound">b</span><span class="main">,</span><span class="bound">c</span><span class="main">)</span><span class="main">.</span> <span class="main">⟨</span><span class="bound">b</span><span class="main">,</span><span class="bound">c</span><span class="main">⟩</span><span class="main">∈</span><span class="free">X</span><span class="main">×</span><span class="free">X</span><span class="main">}</span>"</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">b</span></span> <span class="skolem"><span class="skolem">c</span></span> <span class="keyword2"><span class="keyword">where</span></span> b<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">=</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">c</span><span class="main">)</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">c</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">from</span></span> b V<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> m<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="var">?max</span><span class="main">,</span><span class="skolem">c</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="var">?max</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="var">?max</span><span class="main">≠</span><span class="skolem">b</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="var">?max</span><span class="main">≠</span><span class="skolem">c</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IntervalX_def Interval_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>  
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="keyword3"><span class="command">assume</span></span> A<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="skolem">U</span><span class="main">∩</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">v</span><span class="main">)</span>"</span></span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">v</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="skolem">U</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> RightRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∉</span><span class="skolem">V</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> V<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∉</span>Interval<span class="main">(</span><span class="free">r</span><span class="main">,</span> <span class="skolem">b</span><span class="main">,</span> <span class="skolem">c</span><span class="main">)</span> <span class="main">∩</span> <span class="free">X</span><span class="main">∨</span><span class="skolem">x</span><span class="main">=</span><span class="skolem">b</span><span class="main">∨</span><span class="skolem">x</span><span class="main">=</span><span class="skolem">c</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> b<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IntervalX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∉</span><span class="free">r</span><span class="main">∨</span><span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">c</span><span class="main">⟩</span><span class="main">∉</span><span class="free">r</span><span class="main">)</span><span class="main">∨</span><span class="skolem">x</span><span class="main">=</span><span class="skolem">b</span><span class="main">∨</span><span class="skolem">x</span><span class="main">=</span><span class="skolem">c</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Order_ZF_2_L1B <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">∈</span><span class="skolem">U</span>›</span></span><span class="quoted"><span class="quoted">‹<span class="skolem">U</span><span class="main">⊆</span><span class="free">X</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">b</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span><span class="main">∨</span><span class="main">⟨</span><span class="skolem">c</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span><span class="main">)</span><span class="main">∨</span><span class="skolem">x</span><span class="main">=</span><span class="skolem">b</span><span class="main">∨</span><span class="skolem">x</span><span class="main">=</span><span class="skolem">c</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def IsTotal_def
          <span class="keyword1"><span class="command">using</span></span> b<span class="main">(</span>2<span class="main">,</span>3<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">b</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span><span class="main">∨</span><span class="main">⟨</span><span class="skolem">c</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def <span class="keyword1"><span class="command">using</span></span> total_is_refl
          <span class="keyword1"><span class="command">unfolding</span></span> refl_def <span class="keyword1"><span class="command">using</span></span> b<span class="main">(</span>2<span class="main">,</span>3<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
        <span class="keyword1"><span class="command">from</span></span> A <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="var">?max</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Order_ZF_4_L3<span class="main">(</span>1<span class="main">)</span><span class="main">[</span><span class="operator">OF</span> _ Hmax<span class="main">]</span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> Infimum_def IsLinOrder_def
          <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">⟨</span><span class="var">?max</span><span class="main">,</span><span class="skolem">b</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span><span class="main">∨</span><span class="main">⟨</span><span class="skolem">c</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def trans_def
          <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
        <span class="keyword1"><span class="command">with</span></span> m<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="var">?max</span><span class="main">=</span><span class="skolem">b</span><span class="main">∨</span><span class="main">⟨</span><span class="skolem">c</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def antisym_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">with</span></span> m<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">c</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">c</span><span class="main">,</span><span class="var">?max</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Order_ZF_5_L4<span class="main">[</span><span class="operator">OF</span> _ nE Hmax<span class="main">]</span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> m<span class="main">(</span>1<span class="main">,</span>4<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def antisym_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">∈</span><span class="main">{</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="bound">b</span><span class="main">)</span><span class="main">.</span> <span class="bound">b</span><span class="main">∈</span><span class="free">X</span><span class="main">}</span>"</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">b</span></span> <span class="keyword2"><span class="keyword">where</span></span> b<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">=</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">b</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">from</span></span> b V<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> m<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="var">?max</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="var">?max</span><span class="main">≠</span><span class="skolem">b</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> RightRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="keyword3"><span class="command">assume</span></span> A<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="skolem">U</span><span class="main">∩</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">v</span><span class="main">)</span>"</span></span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">v</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="skolem">U</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> RightRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∉</span><span class="skolem">V</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> V<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∉</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span> <span class="skolem">b</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> b<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∉</span><span class="free">r</span><span class="main">∨</span><span class="skolem">x</span><span class="main">=</span><span class="skolem">b</span><span class="main">)</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> RightRayX_def <span class="keyword1"><span class="command">using</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">∈</span><span class="skolem">U</span>›</span></span><span class="quoted"><span class="quoted">‹<span class="skolem">U</span><span class="main">⊆</span><span class="free">X</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">b</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def <span class="keyword1"><span class="command">using</span></span> total_is_refl <span class="keyword1"><span class="command">unfolding</span></span>
          refl_def <span class="keyword1"><span class="command">unfolding</span></span> IsTotal_def <span class="keyword1"><span class="command">using</span></span> b<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
        <span class="keyword1"><span class="command">from</span></span> A <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="var">?max</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Order_ZF_4_L3<span class="main">(</span>1<span class="main">)</span><span class="main">[</span><span class="operator">OF</span> _ Hmax<span class="main">]</span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> Infimum_def IsLinOrder_def
          <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">ultimately</span></span>
        <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="var">?max</span><span class="main">,</span><span class="skolem">b</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def trans_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
        <span class="keyword1"><span class="command">with</span></span> m <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def antisym_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">using</span></span> nE <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">{</span></span>
       <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">∈</span><span class="main">{</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="bound">b</span><span class="main">)</span><span class="main">.</span> <span class="bound">b</span><span class="main">∈</span><span class="free">X</span><span class="main">}</span>"</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">b</span></span> <span class="keyword2"><span class="keyword">where</span></span> b<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">=</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">b</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">from</span></span> b V<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> m<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="var">?max</span><span class="main">,</span><span class="skolem">b</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="var">?max</span><span class="main">≠</span><span class="skolem">b</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> LeftRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="keyword3"><span class="command">assume</span></span> A<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="skolem">U</span><span class="main">∩</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">v</span><span class="main">)</span>"</span></span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">v</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="skolem">U</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> RightRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∉</span><span class="skolem">V</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> V<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∉</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span> <span class="skolem">b</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> b<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">b</span><span class="main">⟩</span><span class="main">∉</span><span class="free">r</span><span class="main">∨</span><span class="skolem">x</span><span class="main">=</span><span class="skolem">b</span><span class="main">)</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> LeftRayX_def <span class="keyword1"><span class="command">using</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">∈</span><span class="skolem">U</span>›</span></span><span class="quoted"><span class="quoted">‹<span class="skolem">U</span><span class="main">⊆</span><span class="free">X</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def <span class="keyword1"><span class="command">using</span></span> total_is_refl <span class="keyword1"><span class="command">unfolding</span></span>
          refl_def <span class="keyword1"><span class="command">unfolding</span></span> IsTotal_def <span class="keyword1"><span class="command">using</span></span> b<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">∈</span><span class="free">r</span><span class="main">-``</span><span class="main">{</span><span class="skolem">x</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">with</span></span> nE <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">∈</span><span class="main">(</span><span class="main">⋂</span><span class="bound">c</span><span class="main">∈</span><span class="skolem">U</span><span class="main">∩</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">v</span><span class="main">)</span><span class="main">.</span> <span class="free">r</span><span class="main">-``</span><span class="main">{</span><span class="bound">c</span><span class="main">}</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="var">?max</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> Infimum_def <span class="keyword1"><span class="command">using</span></span> Order_ZF_4_L3<span class="main">(</span>2<span class="main">)</span><span class="main">[</span><span class="operator">OF</span> _ Hmax<span class="main">]</span> assms<span class="main">(</span>1<span class="main">)</span>
        <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> m <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def antisym_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">note</span></span> V<span class="main">(</span>3<span class="main">)</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span> 
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‹Numerability axioms›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹A $\kappa$-separable order topology is in relation with order density.›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹If an order topology has a subset $A$ which is topologically
dense, then that subset is weakly order-dense in $X$.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> dense_top_imp_Wdense_ord<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"IsLinOrder<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"Closure<span class="main">(</span><span class="free">A</span><span class="main">,</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span><span class="main">=</span><span class="free">X</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">⊆</span><span class="free">X</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">x</span> <span class="bound">y</span><span class="main">.</span> <span class="bound">x</span> <span class="main">≠</span> <span class="bound">y</span> <span class="main">∧</span> <span class="bound">x</span> <span class="main">∈</span> <span class="free">X</span> <span class="main">∧</span> <span class="bound">y</span> <span class="main">∈</span> <span class="free">X</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="keyword1">{is</span> <span class="keyword1">weakly</span> <span class="keyword1">dense</span> <span class="keyword1">in}</span><span class="free">X</span><span class="keyword1">{with</span> <span class="keyword1">respect</span> <span class="keyword1">to}</span><span class="free">r</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">r1</span> <span class="skolem">r2</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">r1</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">r2</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">r1</span><span class="main">≠</span><span class="skolem">r2</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">r1</span><span class="main">,</span><span class="skolem">r2</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">r1</span><span class="main">,</span><span class="skolem">r2</span><span class="main">)</span><span class="main">∈</span><span class="main">{</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="bound">b</span><span class="main">,</span> <span class="bound">c</span><span class="main">)</span> <span class="main">.</span> <span class="main">⟨</span><span class="bound">b</span><span class="main">,</span><span class="bound">c</span><span class="main">⟩</span> <span class="main">∈</span> <span class="free">X</span> <span class="main">×</span> <span class="free">X</span><span class="main">}</span> <span class="main">∪</span> <span class="main">{</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="bound">b</span><span class="main">)</span> <span class="main">.</span> <span class="bound">b</span> <span class="main">∈</span> <span class="free">X</span><span class="main">}</span> <span class="main">∪</span>
      <span class="main">{</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="bound">b</span><span class="main">)</span> <span class="main">.</span> <span class="bound">b</span> <span class="main">∈</span> <span class="free">X</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> P<span class="main">:</span><span class="quoted"><span class="quoted">"IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">r1</span><span class="main">,</span><span class="skolem">r2</span><span class="main">)</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> base_sets_open<span class="main">[</span><span class="operator">OF</span> Ordtopology_is_a_topology<span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span>
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">r1</span><span class="main">,</span><span class="skolem">r2</span><span class="main">)</span><span class="main">⊆</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IntervalX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> int<span class="main">:</span><span class="quoted"><span class="quoted">"Closure<span class="main">(</span><span class="free">A</span><span class="main">,</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span><span class="main">∩</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">r1</span><span class="main">,</span><span class="skolem">r2</span><span class="main">)</span><span class="main">=</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">r1</span><span class="main">,</span><span class="skolem">r2</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">r1</span><span class="main">,</span><span class="skolem">r2</span><span class="main">)</span><span class="main">≠</span><span class="main">0</span>"</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">∩</span><span class="main">(</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">r1</span><span class="main">,</span><span class="skolem">r2</span><span class="main">)</span><span class="main">)</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> topology0.cl_inter_neigh<span class="main">[</span><span class="operator">OF</span> topology0_ordtopology<span class="main"><span class="main">[</span></span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span> _ P <span class="main">,</span> <span class="operator">of</span> <span class="quoted"><span class="quoted">"<span class="free">A</span>"</span></span><span class="main">]</span>
        <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>3<span class="main">)</span> union_ordtopology<span class="main">[</span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">,</span></span>4<span class="main"><span class="main">)</span></span><span class="main">]</span> int <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">∃</span><span class="bound">z</span><span class="main">∈</span><span class="free">A</span><span class="main">-</span><span class="main">{</span><span class="skolem">r1</span><span class="main">,</span><span class="skolem">r2</span><span class="main">}</span><span class="main">.</span> <span class="main">⟨</span><span class="skolem">r1</span><span class="main">,</span><span class="bound">z</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span><span class="main">∧</span><span class="main">⟨</span><span class="bound">z</span><span class="main">,</span><span class="skolem">r2</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span><span class="main">)</span><span class="main">∨</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">r1</span><span class="main">,</span><span class="skolem">r2</span><span class="main">)</span><span class="main">=</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IntervalX_def
      Interval_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsWeaklyDenseSub_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Conversely, a weakly order-dense set is topologically dense if it is also considered
that: if there is a maximum or a minimum elements whose singletons are open, this points
have to be in $A$. In conclusion, weakly order-density is a property closed to topological density.›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Another way to see this: Consider a weakly order-dense set $A$:
\begin{itemize}
\item If $X$ has a maximum and a minimum and $\{min,max\}$ is open: $A$ is topologically dense in $X\setminus\{min,max\}$, where $min$ is the minimum in $X$ and $max$ is the maximum in $X$.
\item If $X$ has a maximum, $\{max\}$ is open and $X$ has no minimum
  or $\{min\}$ isn't open: $A$ is topologically dense in $X\setminus\{max\}$, where $max$ is the maximum in $X$.
\item If $X$ has a minimum, $\{min\}$ is open and $X$ has no maximum
  or $\{max\}$ isn't open $A$ is topologically dense in $X\setminus\{min\}$, where $min$ is the minimum in $X$.
\item If $X$ has no minimum or maximum, or $\{min,max\}$ has no proper open sets: $A$ is topologically dense in $X$.
\end{itemize}
›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> Wdense_ord_imp_dense_top<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"IsLinOrder<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="keyword1">{is</span> <span class="keyword1">weakly</span> <span class="keyword1">dense</span> <span class="keyword1">in}</span><span class="free">X</span><span class="keyword1">{with</span> <span class="keyword1">respect</span> <span class="keyword1">to}</span><span class="free">r</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">⊆</span><span class="free">X</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">x</span> <span class="bound">y</span><span class="main">.</span> <span class="bound">x</span> <span class="main">≠</span> <span class="bound">y</span> <span class="main">∧</span> <span class="bound">x</span> <span class="main">∈</span> <span class="free">X</span> <span class="main">∧</span> <span class="bound">y</span> <span class="main">∈</span> <span class="free">X</span>"</span></span>
    <span class="quoted"><span class="quoted">"HasAminimum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">⟶</span><span class="main">{</span>Minimum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">}</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span><span class="main">⟶</span>Minimum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">∈</span><span class="free">A</span>"</span></span>
    <span class="quoted"><span class="quoted">"HasAmaximum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">⟶</span><span class="main">{</span>Maximum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">}</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span><span class="main">⟶</span>Maximum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">∈</span><span class="free">A</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"Closure<span class="main">(</span><span class="free">A</span><span class="main">,</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span><span class="main">=</span><span class="free">X</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="free">X</span>"</span></span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">U</span> <span class="keyword3"><span class="command">assume</span></span> ass<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="skolem">U</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">V</span><span class="main">∈</span><span class="main">{</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="bound">b</span><span class="main">,</span> <span class="bound">c</span><span class="main">)</span> <span class="main">.</span> <span class="main">⟨</span><span class="bound">b</span><span class="main">,</span><span class="bound">c</span><span class="main">⟩</span> <span class="main">∈</span> <span class="free">X</span> <span class="main">×</span> <span class="free">X</span><span class="main">}</span> <span class="main">∪</span> <span class="main">{</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="bound">b</span><span class="main">)</span> <span class="main">.</span> <span class="bound">b</span> <span class="main">∈</span> <span class="free">X</span><span class="main">}</span> <span class="main">∪</span> <span class="main">{</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="bound">b</span><span class="main">)</span> <span class="main">.</span> <span class="bound">b</span> <span class="main">∈</span> <span class="free">X</span><span class="main">}</span> <span class="main">.</span> <span class="bound">V</span><span class="main">⊆</span><span class="skolem">U</span><span class="main">∧</span><span class="skolem">x</span><span class="main">∈</span><span class="bound">V</span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> point_open_base_neigh<span class="main">[</span><span class="operator">OF</span> Ordtopology_is_a_topology<span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">V</span></span> <span class="keyword2"><span class="keyword">where</span></span> V<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">∈</span><span class="main">{</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="bound">b</span><span class="main">,</span> <span class="bound">c</span><span class="main">)</span> <span class="main">.</span> <span class="main">⟨</span><span class="bound">b</span><span class="main">,</span><span class="bound">c</span><span class="main">⟩</span> <span class="main">∈</span> <span class="free">X</span> <span class="main">×</span> <span class="free">X</span><span class="main">}</span> <span class="main">∪</span> <span class="main">{</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="bound">b</span><span class="main">)</span> <span class="main">.</span> <span class="bound">b</span> <span class="main">∈</span> <span class="free">X</span><span class="main">}</span> <span class="main">∪</span> <span class="main">{</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="bound">b</span><span class="main">)</span> <span class="main">.</span> <span class="bound">b</span> <span class="main">∈</span> <span class="free">X</span><span class="main">}</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">⊆</span><span class="skolem">U</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="skolem">V</span>"</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">note</span></span> V<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">∈</span><span class="main">{</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="bound">b</span><span class="main">,</span> <span class="bound">c</span><span class="main">)</span> <span class="main">.</span> <span class="main">⟨</span><span class="bound">b</span><span class="main">,</span><span class="bound">c</span><span class="main">⟩</span> <span class="main">∈</span> <span class="free">X</span> <span class="main">×</span> <span class="free">X</span><span class="main">}</span>"</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">b</span></span> <span class="skolem"><span class="skolem">c</span></span> <span class="keyword2"><span class="keyword">where</span></span> b<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">c</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">=</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="skolem">b</span><span class="main">,</span> <span class="skolem">c</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> V<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> x<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">c</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">≠</span><span class="skolem">b</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">≠</span><span class="skolem">c</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IntervalX_def Interval_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">c</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def trans_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
      <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> x<span class="main">(</span>1-3<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">≠</span><span class="skolem">c</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def antisym_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
      <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">note</span></span> assms<span class="main">(</span>2<span class="main">)</span> b V<span class="main">(</span>3<span class="main">)</span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">z</span><span class="main">∈</span><span class="free">A</span><span class="main">-</span><span class="main">{</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">c</span><span class="main">}</span><span class="main">.</span> <span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="bound">z</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span><span class="main">∧</span><span class="main">⟨</span><span class="bound">z</span><span class="main">,</span><span class="skolem">c</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsWeaklyDenseSub_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">z</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="free">A</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">≠</span><span class="skolem">b</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">≠</span><span class="skolem">c</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">z</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">z</span><span class="main">,</span><span class="skolem">c</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="free">A</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="skolem">b</span><span class="main">,</span> <span class="skolem">c</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IntervalX_def Interval_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">∩</span><span class="skolem">U</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> V<span class="main">(</span>2<span class="main">)</span> b<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">∈</span><span class="main">{</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="bound">b</span><span class="main">)</span> <span class="main">.</span> <span class="bound">b</span> <span class="main">∈</span> <span class="free">X</span><span class="main">}</span>"</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">b</span></span> <span class="keyword2"><span class="keyword">where</span></span> b<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">=</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="skolem">b</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> V<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> x<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">≠</span><span class="skolem">x</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> RightRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">note</span></span> b<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">⊆</span><span class="main">⋃</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> ass<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">⊆</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> union_ordtopology<span class="main">[</span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">,</span></span>4<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> ass<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">note</span></span> assms<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">ultimately</span></span>
      <span class="keyword1"><span class="command">have</span></span> disj<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">∃</span><span class="bound">z</span><span class="main">∈</span><span class="free">A</span><span class="main">-</span><span class="main">{</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">x</span><span class="main">}</span><span class="main">.</span> <span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="bound">z</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span><span class="main">∧</span><span class="main">⟨</span><span class="bound">z</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span><span class="main">)</span><span class="main">∨</span> IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="skolem">b</span><span class="main">,</span> <span class="skolem">x</span><span class="main">)</span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsWeaklyDenseSub_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">assume</span></span> B<span class="main">:</span><span class="quoted"><span class="quoted">"IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="skolem">b</span><span class="main">,</span> <span class="skolem">x</span><span class="main">)</span> <span class="main">=</span> <span class="main">0</span>"</span></span>
        <span class="keyword1"><span class="command">{</span></span>
          <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">y</span><span class="main">∈</span><span class="free">X</span><span class="main">.</span> <span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="bound">y</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span> <span class="main">∧</span> <span class="skolem">x</span><span class="main">≠</span><span class="bound">y</span>"</span></span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">y</span></span> <span class="keyword2"><span class="keyword">where</span></span> y<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">y</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">≠</span><span class="skolem">y</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">with</span></span> x <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">y</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IntervalX_def Interval_def
            <span class="keyword1"><span class="command">using</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">∈</span><span class="free">X</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
          <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">y</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> y<span class="main">(</span>2<span class="main">)</span> x<span class="main">(</span>1<span class="main">)</span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def trans_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
          <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">≠</span><span class="skolem">y</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> y<span class="main">(</span>2<span class="main">,</span>3<span class="main">)</span> x<span class="main">(</span>1<span class="main">)</span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def antisym_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
          <span class="keyword1"><span class="command">ultimately</span></span>
          <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">∃</span><span class="bound">z</span><span class="main">∈</span><span class="free">A</span><span class="main">-</span><span class="main">{</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">y</span><span class="main">}</span><span class="main">.</span> <span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="bound">z</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span><span class="main">∧</span><span class="main">⟨</span><span class="bound">z</span><span class="main">,</span><span class="skolem">y</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsWeaklyDenseSub_def
            <span class="keyword1"><span class="command">using</span></span> y<span class="main">(</span>1<span class="main">)</span> b<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">z</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="free">A</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">z</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">≠</span><span class="skolem">z</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="free">A</span><span class="main">∩</span><span class="skolem">V</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> b<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> RightRayX_def <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="free">A</span><span class="main">∩</span><span class="skolem">U</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> V<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">∩</span><span class="skolem">U</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">}</span></span>
        <span class="keyword1"><span class="command">moreover</span></span>
        <span class="keyword1"><span class="command">{</span></span>
          <span class="keyword3"><span class="command">assume</span></span> R<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">y</span><span class="main">∈</span><span class="free">X</span><span class="main">.</span> <span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="bound">y</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span><span class="main">⟶</span><span class="skolem">x</span><span class="main">=</span><span class="bound">y</span>"</span></span>
          <span class="keyword1"><span class="command">{</span></span>
            <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">y</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">∈</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">b</span><span class="main">)</span>"</span></span>
            <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> y<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">y</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="main">{</span><span class="skolem">b</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> RightRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
            <span class="keyword1"><span class="command">{</span></span>
              <span class="keyword3"><span class="command">assume</span></span> A<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">≠</span><span class="skolem">x</span>"</span></span>
              <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">y</span><span class="main">⟩</span><span class="main">∉</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> R y<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
              <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">y</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def IsTotal_def
                <span class="keyword1"><span class="command">using</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">∈</span><span class="free">X</span>›</span></span> y<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
              <span class="keyword1"><span class="command">with</span></span> A y <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">∈</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">x</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IntervalX_def Interval_def
                <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
              <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">using</span></span> B <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
            <span class="keyword1"><span class="command">}</span></span>
            <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">=</span><span class="skolem">x</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">}</span></span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">b</span><span class="main">)</span><span class="main">=</span><span class="main">{</span><span class="skolem">x</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> V<span class="main">(</span>3<span class="main">)</span> b<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="keyword1"><span class="command">moreover</span></span>
          <span class="keyword1"><span class="command">{</span></span>
            <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">t</span> <span class="keyword3"><span class="command">assume</span></span> T<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">t</span><span class="main">∈</span><span class="free">X</span>"</span></span>
            <span class="keyword1"><span class="command">{</span></span>
              <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">t</span><span class="main">=</span><span class="skolem">x</span>"</span></span>
              <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">t</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def
                <span class="keyword1"><span class="command">using</span></span> Order_ZF_1_L1 T <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
            <span class="keyword1"><span class="command">}</span></span>
            <span class="keyword1"><span class="command">moreover</span></span>
            <span class="keyword1"><span class="command">{</span></span>
              <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">t</span><span class="main">≠</span><span class="skolem">x</span>"</span></span>
              <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">t</span><span class="main">⟩</span><span class="main">∉</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> R T <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
              <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">t</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def IsTotal_def
                <span class="keyword1"><span class="command">using</span></span> T <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">∈</span><span class="free">X</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
            <span class="keyword1"><span class="command">}</span></span>
            <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">t</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">}</span></span>
          <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">∈</span><span class="free">X</span>›</span></span> <span class="keyword1"><span class="command">have</span></span> HM<span class="main">:</span><span class="quoted"><span class="quoted">"HasAmaximum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> HasAmaximum_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Maximum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">t</span><span class="main">∈</span><span class="free">X</span><span class="main">.</span> <span class="main">⟨</span><span class="bound">t</span><span class="main">,</span>Maximum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Order_ZF_4_L3 assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def
            <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">with</span></span> R <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">∈</span><span class="free">X</span>›</span></span> <span class="keyword1"><span class="command">have</span></span> xm<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">=</span>Maximum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">note</span></span> b<span class="main">(</span>2<span class="main">)</span>
          <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">=</span><span class="main">{</span>Maximum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">{</span>Maximum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">}</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> base_sets_open<span class="main">[</span><span class="operator">OF</span> Ordtopology_is_a_topology<span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span>
            V<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">with</span></span> HM <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Maximum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">∈</span><span class="free">A</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>6<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">with</span></span> xm <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="free">A</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">with</span></span> V<span class="main">(</span>2<span class="main">,</span>3<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">∩</span><span class="skolem">U</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">}</span></span>
        <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">∩</span><span class="skolem">U</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="skolem">b</span><span class="main">,</span> <span class="skolem">x</span><span class="main">)</span> <span class="main">≠</span> <span class="main">0</span>"</span></span>
        <span class="keyword1"><span class="command">with</span></span> disj <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">z</span><span class="main">∈</span><span class="free">A</span><span class="main">-</span><span class="main">{</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">x</span><span class="main">}</span><span class="main">.</span> <span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="bound">z</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span><span class="main">∧</span><span class="main">⟨</span><span class="bound">z</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">z</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="free">A</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">≠</span><span class="skolem">b</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">z</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="free">A</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span>RightRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">b</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> RightRayX_def <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="free">A</span><span class="main">∩</span><span class="skolem">U</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> V<span class="main">(</span>2<span class="main">)</span> b<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">∩</span><span class="skolem">U</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">∩</span><span class="skolem">U</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">∈</span><span class="main">{</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="bound">b</span><span class="main">)</span> <span class="main">.</span> <span class="bound">b</span> <span class="main">∈</span> <span class="free">X</span><span class="main">}</span>"</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">b</span></span> <span class="keyword2"><span class="keyword">where</span></span> b<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">=</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="skolem">b</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> V<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> x<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">b</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">≠</span><span class="skolem">x</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> LeftRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">note</span></span> b<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">⊆</span><span class="main">⋃</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> ass<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">⊆</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> union_ordtopology<span class="main">[</span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">,</span></span>4<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> ass<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">note</span></span> assms<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">ultimately</span></span>
      <span class="keyword1"><span class="command">have</span></span> disj<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">∃</span><span class="bound">z</span><span class="main">∈</span><span class="free">A</span><span class="main">-</span><span class="main">{</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">x</span><span class="main">}</span><span class="main">.</span> <span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="bound">z</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span><span class="main">∧</span><span class="main">⟨</span><span class="bound">z</span><span class="main">,</span><span class="skolem">b</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span><span class="main">)</span><span class="main">∨</span> IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="skolem">x</span><span class="main">,</span> <span class="skolem">b</span><span class="main">)</span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsWeaklyDenseSub_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">assume</span></span> B<span class="main">:</span><span class="quoted"><span class="quoted">"IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="skolem">x</span><span class="main">,</span> <span class="skolem">b</span><span class="main">)</span> <span class="main">=</span> <span class="main">0</span>"</span></span>
        <span class="keyword1"><span class="command">{</span></span>
          <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">y</span><span class="main">∈</span><span class="free">X</span><span class="main">.</span> <span class="main">⟨</span><span class="bound">y</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span> <span class="main">∧</span> <span class="skolem">x</span><span class="main">≠</span><span class="bound">y</span>"</span></span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">y</span></span> <span class="keyword2"><span class="keyword">where</span></span> y<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">y</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">≠</span><span class="skolem">y</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">with</span></span> x <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">y</span><span class="main">,</span><span class="skolem">b</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IntervalX_def Interval_def
            <span class="keyword1"><span class="command">using</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">∈</span><span class="free">X</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> <span class="keyword1"><span class="command">moreover</span></span>
          <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">y</span><span class="main">,</span><span class="skolem">b</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> y<span class="main">(</span>2<span class="main">)</span> x<span class="main">(</span>1<span class="main">)</span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def trans_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
          <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">≠</span><span class="skolem">y</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> y<span class="main">(</span>2<span class="main">,</span>3<span class="main">)</span> x<span class="main">(</span>1<span class="main">)</span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def antisym_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
          <span class="keyword1"><span class="command">ultimately</span></span>
          <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">∃</span><span class="bound">z</span><span class="main">∈</span><span class="free">A</span><span class="main">-</span><span class="main">{</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">y</span><span class="main">}</span><span class="main">.</span> <span class="main">⟨</span><span class="skolem">y</span><span class="main">,</span><span class="bound">z</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span><span class="main">∧</span><span class="main">⟨</span><span class="bound">z</span><span class="main">,</span><span class="skolem">b</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsWeaklyDenseSub_def
            <span class="keyword1"><span class="command">using</span></span> y<span class="main">(</span>1<span class="main">)</span> b<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">z</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="free">A</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">z</span><span class="main">,</span><span class="skolem">b</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">b</span><span class="main">≠</span><span class="skolem">z</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="free">A</span><span class="main">∩</span><span class="skolem">V</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> b<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> LeftRayX_def <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="free">A</span><span class="main">∩</span><span class="skolem">U</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> V<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">∩</span><span class="skolem">U</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">}</span></span>
        <span class="keyword1"><span class="command">moreover</span></span>
        <span class="keyword1"><span class="command">{</span></span>
          <span class="keyword3"><span class="command">assume</span></span> R<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">y</span><span class="main">∈</span><span class="free">X</span><span class="main">.</span> <span class="main">⟨</span><span class="bound">y</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span><span class="main">⟶</span><span class="skolem">x</span><span class="main">=</span><span class="bound">y</span>"</span></span>
          <span class="keyword1"><span class="command">{</span></span>
            <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">y</span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">∈</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">b</span><span class="main">)</span>"</span></span>
            <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> y<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">y</span><span class="main">,</span><span class="skolem">b</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">∈</span><span class="free">X</span><span class="main">-</span><span class="main">{</span><span class="skolem">b</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> LeftRayX_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
            <span class="keyword1"><span class="command">{</span></span>
              <span class="keyword3"><span class="command">assume</span></span> A<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">≠</span><span class="skolem">x</span>"</span></span>
              <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">y</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∉</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> R y<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
              <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">y</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def IsTotal_def
                <span class="keyword1"><span class="command">using</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">∈</span><span class="free">X</span>›</span></span> y<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
              <span class="keyword1"><span class="command">with</span></span> A y <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">∈</span>IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">b</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> IntervalX_def Interval_def
                <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
              <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"False"</span></span> <span class="keyword1"><span class="command">using</span></span> B <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
            <span class="keyword1"><span class="command">}</span></span>
            <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">=</span><span class="skolem">x</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">}</span></span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">b</span><span class="main">)</span><span class="main">=</span><span class="main">{</span><span class="skolem">x</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> V<span class="main">(</span>3<span class="main">)</span> b<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="keyword1"><span class="command">moreover</span></span>
          <span class="keyword1"><span class="command">{</span></span>
            <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">t</span> <span class="keyword3"><span class="command">assume</span></span> T<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">t</span><span class="main">∈</span><span class="free">X</span>"</span></span>
            <span class="keyword1"><span class="command">{</span></span>
              <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">t</span><span class="main">=</span><span class="skolem">x</span>"</span></span>
              <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">t</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def
                <span class="keyword1"><span class="command">using</span></span> Order_ZF_1_L1 T <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
            <span class="keyword1"><span class="command">}</span></span>
            <span class="keyword1"><span class="command">moreover</span></span>
            <span class="keyword1"><span class="command">{</span></span>
              <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">t</span><span class="main">≠</span><span class="skolem">x</span>"</span></span>
              <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">t</span><span class="main">,</span><span class="skolem">x</span><span class="main">⟩</span><span class="main">∉</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> R T <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
              <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">t</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def IsTotal_def
                <span class="keyword1"><span class="command">using</span></span> T <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">∈</span><span class="free">X</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
            <span class="keyword1"><span class="command">}</span></span>
            <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">t</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">}</span></span>
          <span class="keyword1"><span class="command">with</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">∈</span><span class="free">X</span>›</span></span> <span class="keyword1"><span class="command">have</span></span> HM<span class="main">:</span><span class="quoted"><span class="quoted">"HasAminimum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> HasAminimum_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Minimum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">∈</span><span class="free">X</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">t</span><span class="main">∈</span><span class="free">X</span><span class="main">.</span> <span class="main">⟨</span>Minimum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">,</span><span class="bound">t</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Order_ZF_4_L4 assms<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def
            <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">with</span></span> R <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">∈</span><span class="free">X</span>›</span></span> <span class="keyword1"><span class="command">have</span></span> xm<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">=</span>Minimum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">note</span></span> b<span class="main">(</span>2<span class="main">)</span>
          <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">V</span><span class="main">=</span><span class="main">{</span>Minimum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">}</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">{</span>Minimum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">}</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> base_sets_open<span class="main">[</span><span class="operator">OF</span> Ordtopology_is_a_topology<span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span>
            V<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">with</span></span> HM <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Minimum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">∈</span><span class="free">A</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>5<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">with</span></span> xm <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span><span class="free">A</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">with</span></span> V<span class="main">(</span>2<span class="main">,</span>3<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">∩</span><span class="skolem">U</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">}</span></span>
        <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">∩</span><span class="skolem">U</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"IntervalX<span class="main">(</span><span class="free">X</span><span class="main">,</span> <span class="free">r</span><span class="main">,</span> <span class="skolem">x</span><span class="main">,</span> <span class="skolem">b</span><span class="main">)</span> <span class="main">≠</span> <span class="main">0</span>"</span></span>
        <span class="keyword1"><span class="command">with</span></span> disj <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">z</span><span class="main">∈</span><span class="free">A</span><span class="main">-</span><span class="main">{</span><span class="skolem">b</span><span class="main">,</span><span class="skolem">x</span><span class="main">}</span><span class="main">.</span> <span class="main">⟨</span><span class="skolem">x</span><span class="main">,</span><span class="bound">z</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span><span class="main">∧</span><span class="main">⟨</span><span class="bound">z</span><span class="main">,</span><span class="skolem">b</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">z</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="free">A</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">≠</span><span class="skolem">b</span>"</span></span><span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="skolem">z</span><span class="main">,</span><span class="skolem">b</span><span class="main">⟩</span><span class="main">∈</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="free">A</span>"</span></span><span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span>LeftRayX<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">,</span><span class="skolem">b</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> LeftRayX_def <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span><span class="main">∈</span><span class="free">A</span><span class="main">∩</span><span class="skolem">U</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> V<span class="main">(</span>2<span class="main">)</span> b<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">∩</span><span class="skolem">U</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">∩</span><span class="skolem">U</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">∩</span><span class="skolem">U</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">U</span><span class="main">∈</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span><span class="main">.</span> <span class="skolem">x</span><span class="main">∈</span><span class="bound">U</span> <span class="main">⟶</span> <span class="bound">U</span><span class="main">∩</span><span class="free">A</span><span class="main">≠</span><span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">note</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">∈</span><span class="free">X</span>›</span></span> <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">note</span></span> assms<span class="main">(</span>3<span class="main">)</span> topology0.inter_neigh_cl<span class="main">[</span><span class="operator">OF</span> topology0_ordtopology<span class="main"><span class="main">[</span></span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span>
  union_ordtopology<span class="main">[</span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">,</span></span>4<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">∈</span>Closure<span class="main">(</span><span class="free">A</span><span class="main">,</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">X</span><span class="main">⊆</span>Closure<span class="main">(</span><span class="free">A</span><span class="main">,</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> topology0.Top_3_L11<span class="main">(</span>1<span class="main">)</span><span class="main">[</span><span class="operator">OF</span> topology0_ordtopology<span class="main"><span class="main">[</span></span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span>
    assms<span class="main">(</span>3<span class="main">)</span> union_ordtopology<span class="main">[</span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">,</span></span>4<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The conclusion is that an order topology is $\kappa$-separable
iff there is a set $A$ with cardinality strictly less than $\kappa$
which is weakly-dense in $X$.›</span></span>

<span class="keyword1"><span class="command">theorem</span></span> separable_imp_wdense<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span><span class="keyword1">{is</span> <span class="keyword1">separable</span> <span class="keyword1">of</span> <span class="keyword1">cardinal}</span><span class="free">Q</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">x</span> <span class="bound">y</span><span class="main">.</span> <span class="bound">x</span> <span class="main">≠</span> <span class="bound">y</span> <span class="main">∧</span> <span class="bound">x</span> <span class="main">∈</span> <span class="free">X</span> <span class="main">∧</span> <span class="bound">y</span> <span class="main">∈</span> <span class="free">X</span>"</span></span>
    <span class="quoted"><span class="quoted">"IsLinOrder<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">A</span><span class="main">∈</span>Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span><span class="main">.</span> <span class="bound">A</span><span class="main">≺</span><span class="free">Q</span> <span class="main">∧</span> <span class="main">(</span><span class="bound">A</span><span class="keyword1">{is</span> <span class="keyword1">weakly</span> <span class="keyword1">dense</span> <span class="keyword1">in}</span><span class="free">X</span><span class="keyword1">{with</span> <span class="keyword1">respect</span> <span class="keyword1">to}</span><span class="free">r</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">U</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">∈</span>Pow<span class="main">(</span><span class="main">⋃</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"Closure<span class="main">(</span><span class="skolem">U</span><span class="main">,</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span><span class="main">=</span><span class="main">⋃</span><span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">≺</span><span class="free">Q</span>"</span></span>
    <span class="keyword1"><span class="command">unfolding</span></span> IsSeparableOfCard_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">∈</span>Pow<span class="main">(</span><span class="free">X</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"Closure<span class="main">(</span><span class="skolem">U</span><span class="main">,</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span><span class="main">=</span><span class="free">X</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">U</span><span class="main">≺</span><span class="free">Q</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> union_ordtopology<span class="main">[</span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>3<span class="main"><span class="main">,</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> dense_top_imp_Wdense_ord<span class="main">[</span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>3<span class="main"><span class="main">)</span></span> _ _ assms<span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">theorem</span></span> wdense_imp_separable<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">x</span> <span class="bound">y</span><span class="main">.</span> <span class="bound">x</span> <span class="main">≠</span> <span class="bound">y</span> <span class="main">∧</span> <span class="bound">x</span> <span class="main">∈</span> <span class="free">X</span> <span class="main">∧</span> <span class="bound">y</span> <span class="main">∈</span> <span class="free">X</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">A</span><span class="keyword1">{is</span> <span class="keyword1">weakly</span> <span class="keyword1">dense</span> <span class="keyword1">in}</span><span class="free">X</span><span class="keyword1">{with</span> <span class="keyword1">respect</span> <span class="keyword1">to}</span><span class="free">r</span><span class="main">)</span>"</span></span>
    <span class="quoted"><span class="quoted">"IsLinOrder<span class="main">(</span><span class="free">X</span><span class="main">,</span><span class="free">r</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">≺</span><span class="free">Q</span>"</span></span> <span class="quoted"><span class="quoted">"InfCard<span class="main">(</span><span class="free">Q</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">A</span><span class="main">⊆</span><span class="free">X</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span><span class="keyword1">{is</span> <span class="keyword1">separable</span> <span class="keyword1">of</span> <span class="keyword1">cardinal}</span><span class="free">Q</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">assume</span></span> Hmin<span class="main">:</span><span class="quoted"><span class="quoted">"HasAmaximum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> MaxX<span class="main">:</span><span class="quoted"><span class="quoted">"Maximum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Order_ZF_4_L3<span class="main">(</span>1<span class="main">)</span> assms<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">assume</span></span> HMax<span class="main">:</span><span class="quoted"><span class="quoted">"HasAminimum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> MinX<span class="main">:</span><span class="quoted"><span class="quoted">"Minimum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Order_ZF_4_L4<span class="main">(</span>1<span class="main">)</span> assms<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def
        <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?A</span></span></span><span class="main">=</span><span class="quoted"><span class="quoted">"<span class="free">A</span> <span class="main">∪</span><span class="main">{</span>Maximum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">,</span>Minimum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">}</span>"</span></span>
      <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Finite<span class="main">(</span><span class="main">{</span>Maximum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">,</span>Minimum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">}</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">{</span>Maximum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">,</span>Minimum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">}</span><span class="main">≺</span>nat"</span></span> <span class="keyword1"><span class="command">using</span></span> n_lesspoll_nat
        <span class="keyword1"><span class="command">unfolding</span></span> Finite_def <span class="keyword1"><span class="command">using</span></span> eq_lesspoll_trans <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>5<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"nat<span class="main">≺</span><span class="free">Q</span><span class="main">∨</span>nat<span class="main">=</span><span class="free">Q</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> InfCard_def
        <span class="keyword1"><span class="command">using</span></span> lt_Card_imp_lesspoll<span class="main">[</span><span class="operator">of</span> <span class="quoted"><span class="quoted">"<span class="free">Q</span>"</span></span><span class="quoted"><span class="quoted">"nat"</span></span><span class="main">]</span> <span class="keyword1"><span class="command">unfolding</span></span> lt_def succ_def
        <span class="keyword1"><span class="command">using</span></span> Card_is_Ord<span class="main">[</span><span class="operator">of</span> <span class="quoted"><span class="quoted">"<span class="free">Q</span>"</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">{</span>Maximum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">,</span>Minimum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">}</span><span class="main">≺</span><span class="free">Q</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lesspoll_trans <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>4<span class="main">,</span>5<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> C<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="var">?A</span><span class="main">≺</span><span class="free">Q</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> less_less_imp_un_less
        <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">have</span></span> WeakDense<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="var">?A</span><span class="keyword1">{is</span> <span class="keyword1">weakly</span> <span class="keyword1">dense</span> <span class="keyword1">in}</span><span class="free">X</span><span class="keyword1">{with</span> <span class="keyword1">respect</span> <span class="keyword1">to}</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span>
        IsWeaklyDenseSub_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">from</span></span> MaxX MinX assms<span class="main">(</span>6<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> S<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="var">?A</span><span class="main">⊆</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Closure<span class="main">(</span><span class="var">?A</span><span class="main">,</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span><span class="main">=</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Wdense_ord_imp_dense_top
        <span class="main">[</span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>3<span class="main"><span class="main">)</span></span> WeakDense _ assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsSeparableOfCard_def <span class="keyword1"><span class="command">using</span></span> union_ordtopology<span class="main">[</span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>3<span class="main"><span class="main">,</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span>
        S C <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">assume</span></span> nmin<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">¬</span>HasAminimum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span>"</span></span>
       <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?A</span></span></span><span class="main">=</span><span class="quoted"><span class="quoted">"<span class="free">A</span> <span class="main">∪</span><span class="main">{</span>Maximum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">}</span>"</span></span>
      <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Finite<span class="main">(</span><span class="main">{</span>Maximum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">}</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">{</span>Maximum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">}</span><span class="main">≺</span>nat"</span></span> <span class="keyword1"><span class="command">using</span></span> n_lesspoll_nat
        <span class="keyword1"><span class="command">unfolding</span></span> Finite_def <span class="keyword1"><span class="command">using</span></span> eq_lesspoll_trans <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>5<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"nat<span class="main">≺</span><span class="free">Q</span><span class="main">∨</span>nat<span class="main">=</span><span class="free">Q</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> InfCard_def
        <span class="keyword1"><span class="command">using</span></span> lt_Card_imp_lesspoll<span class="main">[</span><span class="operator">of</span> <span class="quoted"><span class="quoted">"<span class="free">Q</span>"</span></span><span class="quoted"><span class="quoted">"nat"</span></span><span class="main">]</span> <span class="keyword1"><span class="command">unfolding</span></span> lt_def succ_def
        <span class="keyword1"><span class="command">using</span></span> Card_is_Ord<span class="main">[</span><span class="operator">of</span> <span class="quoted"><span class="quoted">"<span class="free">Q</span>"</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">{</span>Maximum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">}</span><span class="main">≺</span><span class="free">Q</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lesspoll_trans <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>4<span class="main">,</span>5<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> C<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="var">?A</span><span class="main">≺</span><span class="free">Q</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> less_less_imp_un_less
        <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">have</span></span> WeakDense<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="var">?A</span><span class="keyword1">{is</span> <span class="keyword1">weakly</span> <span class="keyword1">dense</span> <span class="keyword1">in}</span><span class="free">X</span><span class="keyword1">{with</span> <span class="keyword1">respect</span> <span class="keyword1">to}</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span>
        IsWeaklyDenseSub_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">from</span></span> MaxX assms<span class="main">(</span>6<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> S<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="var">?A</span><span class="main">⊆</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Closure<span class="main">(</span><span class="var">?A</span><span class="main">,</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span><span class="main">=</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Wdense_ord_imp_dense_top
        <span class="main">[</span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>3<span class="main"><span class="main">)</span></span> WeakDense _ assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> nmin <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsSeparableOfCard_def <span class="keyword1"><span class="command">using</span></span> union_ordtopology<span class="main">[</span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>3<span class="main"><span class="main">,</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span>
        S C <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">assume</span></span> nmax<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">¬</span>HasAmaximum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">assume</span></span> HMin<span class="main">:</span><span class="quoted"><span class="quoted">"HasAminimum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> MinX<span class="main">:</span><span class="quoted"><span class="quoted">"Minimum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">∈</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Order_ZF_4_L4<span class="main">(</span>1<span class="main">)</span> assms<span class="main">(</span>3<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span> IsLinOrder_def
        <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?A</span></span></span><span class="main">=</span><span class="quoted"><span class="quoted">"<span class="free">A</span> <span class="main">∪</span><span class="main">{</span>Minimum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">}</span>"</span></span>
      <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Finite<span class="main">(</span><span class="main">{</span>Minimum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">}</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">{</span>Minimum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">}</span><span class="main">≺</span>nat"</span></span> <span class="keyword1"><span class="command">using</span></span> n_lesspoll_nat
        <span class="keyword1"><span class="command">unfolding</span></span> Finite_def <span class="keyword1"><span class="command">using</span></span> eq_lesspoll_trans <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">moreover</span></span>
      <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>5<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"nat<span class="main">≺</span><span class="free">Q</span><span class="main">∨</span>nat<span class="main">=</span><span class="free">Q</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> InfCard_def
        <span class="keyword1"><span class="command">using</span></span> lt_Card_imp_lesspoll<span class="main">[</span><span class="operator">of</span> <span class="quoted"><span class="quoted">"<span class="free">Q</span>"</span></span><span class="quoted"><span class="quoted">"nat"</span></span><span class="main">]</span> <span class="keyword1"><span class="command">unfolding</span></span> lt_def succ_def
        <span class="keyword1"><span class="command">using</span></span> Card_is_Ord<span class="main">[</span><span class="operator">of</span> <span class="quoted"><span class="quoted">"<span class="free">Q</span>"</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">{</span>Minimum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span><span class="main">}</span><span class="main">≺</span><span class="free">Q</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> lesspoll_trans <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">with</span></span> assms<span class="main">(</span>4<span class="main">,</span>5<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> C<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="var">?A</span><span class="main">≺</span><span class="free">Q</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> less_less_imp_un_less
        <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">have</span></span> WeakDense<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="var">?A</span><span class="keyword1">{is</span> <span class="keyword1">weakly</span> <span class="keyword1">dense</span> <span class="keyword1">in}</span><span class="free">X</span><span class="keyword1">{with</span> <span class="keyword1">respect</span> <span class="keyword1">to}</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span>
        IsWeaklyDenseSub_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">from</span></span> MinX assms<span class="main">(</span>6<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> S<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="var">?A</span><span class="main">⊆</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Closure<span class="main">(</span><span class="var">?A</span><span class="main">,</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span><span class="main">=</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Wdense_ord_imp_dense_top
        <span class="main">[</span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>3<span class="main"><span class="main">)</span></span> WeakDense _ assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> nmax <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsSeparableOfCard_def <span class="keyword1"><span class="command">using</span></span> union_ordtopology<span class="main">[</span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>3<span class="main"><span class="main">,</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span>
        S C <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">moreover</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">assume</span></span> nmin<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="main">¬</span>HasAminimum<span class="main">(</span><span class="free">r</span><span class="main">,</span><span class="free">X</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?A</span></span></span><span class="main">=</span><span class="quoted"><span class="quoted">"<span class="free">A</span>"</span></span>
      <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>4<span class="main">,</span>5<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> C<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="var">?A</span><span class="main">≺</span><span class="free">Q</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">have</span></span> WeakDense<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="var">?A</span><span class="keyword1">{is</span> <span class="keyword1">weakly</span> <span class="keyword1">dense</span> <span class="keyword1">in}</span><span class="free">X</span><span class="keyword1">{with</span> <span class="keyword1">respect</span> <span class="keyword1">to}</span><span class="free">r</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">unfolding</span></span>
        IsWeaklyDenseSub_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">from</span></span> assms<span class="main">(</span>6<span class="main">)</span> <span class="keyword1"><span class="command">have</span></span> S<span class="main">:</span><span class="quoted"><span class="quoted">"<span class="var">?A</span><span class="main">⊆</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Closure<span class="main">(</span><span class="var">?A</span><span class="main">,</span><span class="keyword1">OrdTopology</span> <span class="free">X</span> <span class="free">r</span><span class="main">)</span><span class="main">=</span><span class="free">X</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> Wdense_ord_imp_dense_top
        <span class="main">[</span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>3<span class="main"><span class="main">)</span></span> WeakDense _ assms<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> nmin nmax <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">unfolding</span></span> IsSeparableOfCard_def <span class="keyword1"><span class="command">using</span></span> union_ordtopology<span class="main">[</span><span class="operator">OF</span> assms<span class="main"><span class="main">(</span></span>3<span class="main"><span class="main">,</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span>
        S C <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>


<span class="keyword2"><span class="keyword">end</span></span>

</pre>
</body>

</html>