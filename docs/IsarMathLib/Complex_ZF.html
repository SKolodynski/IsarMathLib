<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory Complex_ZF</title>
</head>


<body>
<div class="head">
<h1>Theory Complex_ZF</h1>
</div>

<pre class="source"><span class="comment1">(*   This file is a part of IsarMathLib - 
    a library of formalized mathematics for Isabelle/Isar.

    Copyright (C) 2006  Slawomir Kolodynski

    This program is free software; Redistribution and use in source and binary forms, 
    with or without modification, are permitted provided that the following conditions are met:

   1. Redistributions of source code must retain the above copyright notice, 
   this list of conditions and the following disclaimer.
   2. Redistributions in binary form must reproduce the above copyright notice, 
   this list of conditions and the following disclaimer in the documentation and/or 
   other materials provided with the distribution.
   3. The name of the author may not be used to endorse or promote products 
   derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED 
WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF 
MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, 
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, 
PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; 
OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR 
OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, 
EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

*)</span>


<span class="keyword1"><span class="command">section</span></span> <span class="quoted"><span class="plain_text">‹Complex numbers›</span></span>


<span class="keyword1"><span class="command">theory</span></span> Complex_ZF <span class="keyword2"><span class="keyword">imports</span></span> <a href="func_ZF_1.html">func_ZF_1</a> <a href="OrderedField_ZF.html">OrderedField_ZF</a>

<span class="keyword2"><span class="keyword">begin</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The goal of this theory is to define complex numbers
  and prove that the Metamath complex numbers axioms hold.›</span></span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‹From complete ordered fields to complex numbers›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹This section consists mostly of definitions and a proof
  context for talking about complex numbers.
  Suppose we have a set $R$ with binary operations $A$ and
  $M$ and a relation $r$ such that the quadruple $(R,A,M,r)$
  forms a complete ordered field. 
  The next definitions take $(R,A,M,r)$ and
  construct the sets that represent the structure of complex numbers:
  the carrier ($\mathbb{C}=R\times R$), binary operations of 
  addition and multiplication of complex numbers and the order
  relation on $\mathbb{R}=R\times 0$.
  The <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>ImCxAdd, ReCxAdd, ImCxMul, ReCxMul›</span></span></span></span> are helper
  meta-functions representing the imaginary part of a sum of
  complex numbers, the real part of a sum of real numbers, the
  imaginary part of a product of
  complex numbers and the real part of a product of real numbers,
  respectively. The actual operations (subsets of $(R\times R)\times R$ 
  are named <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>CplxAdd›</span></span></span></span> and <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>CplxMul›</span></span></span></span>.
  
  When $R$ is an ordered field, it comes with an order relation.
  This induces a natural strict order relation on 
  $\{\langle x,0\rangle : x\in R\}\subseteq R\times R$. We call the
  set $\{\langle x,0\rangle : x\in R\}$ <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>ComplexReals(R,A)›</span></span></span></span>
  and the strict order relation <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>CplxROrder(R,A,r)›</span></span></span></span>.
  The order on the real axis of complex numbers is defined
  as the relation induced on it by the
  canonical projection on the first coordinate and the order
  we have on the real numbers. 
  OK, lets repeat this slower.
  We start with the order relation $r$ on a (model of) real numbers $R$.
  We want to define an order relation on a subset of complex 
  numbers, namely on $R\times \{0\}$. To do that we use the notion of
  a relation induced by a mapping. The mapping here is
  $f:R\times \{0\}\rightarrow R, f\langle x,0 \rangle = x$ 
  which is defined under a name of 
  <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>SliceProjection›</span></span></span></span> in <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>func_ZF.thy›</span></span></span></span>. 
  This defines a relation $r_1$ (called <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>InducedRelation(f,r)›</span></span></span></span>, 
  see <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>func_ZF›</span></span></span></span>) on $R\times \{0\}$ such that 
  $ \langle \langle x, 0\rangle, \langle y,0\rangle 
  \in r_1$ iff $\langle x,y\rangle \in r$. This way we get what we call
  <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>CplxROrder(R,A,r)›</span></span></span></span>. However, this is not the 
  end of the story, because Metamath uses strict inequalities in its axioms, 
  rather than weak ones like IsarMathLib (mostly). So we need to take
  the strict version of this order relation. This is done in
  the syntax definition of <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>\&lt;lsr&gt;›</span></span></span></span> in the definition of 
  <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>complex0›</span></span></span></span> context. Since Metamath proves a lot of theorems
  about the real numbers extended with $+\infty$ and $-\infty$, we define 
  the notation for inequalites on the extended real line as well.
›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹A helper expression representing the real part
  of the sum of two complex numbers.›</span></span>

<span class="keyword1"><span class="command">definition</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">ReCxAdd</span><span class="main">(</span><span class="free"><span class="bound"><span class="entity">R</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">)</span> <span class="main">≡</span> <span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">`</span><span class="main">⟨</span>fst<span class="main">(</span><span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">)</span><span class="main">,</span>fst<span class="main">(</span><span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">)</span><span class="main">⟩</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹An expression representing the imaginary part of the sum
  of two complex numbers.›</span></span>

<span class="keyword1"><span class="command">definition</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">ImCxAdd</span><span class="main">(</span><span class="free"><span class="bound"><span class="entity">R</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">)</span> <span class="main">≡</span> <span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">`</span><span class="main">⟨</span>snd<span class="main">(</span><span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">)</span><span class="main">,</span>snd<span class="main">(</span><span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">)</span><span class="main">⟩</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The set (function) that is the binary operation that adds complex numbers.›</span></span>

<span class="keyword1"><span class="command">definition</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">CplxAdd</span><span class="main">(</span><span class="free"><span class="bound"><span class="entity">R</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">)</span> <span class="main">≡</span> 
  <span class="main">{</span><span class="main">⟨</span><span class="bound">p</span><span class="main">,</span> <span class="main">⟨</span> ReCxAdd<span class="main">(</span><span class="free"><span class="bound"><span class="entity">R</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">,</span>fst<span class="main">(</span><span class="bound">p</span><span class="main">)</span><span class="main">,</span>snd<span class="main">(</span><span class="bound">p</span><span class="main">)</span><span class="main">)</span><span class="main">,</span>ImCxAdd<span class="main">(</span><span class="free"><span class="bound"><span class="entity">R</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">,</span>fst<span class="main">(</span><span class="bound">p</span><span class="main">)</span><span class="main">,</span>snd<span class="main">(</span><span class="bound">p</span><span class="main">)</span><span class="main">)</span> <span class="main">⟩</span> <span class="main">⟩</span><span class="main">.</span> 
  <span class="bound">p</span><span class="main">∈</span><span class="main">(</span><span class="free"><span class="bound"><span class="entity">R</span></span></span><span class="main">×</span><span class="free"><span class="bound"><span class="entity">R</span></span></span><span class="main">)</span><span class="main">×</span><span class="main">(</span><span class="free"><span class="bound"><span class="entity">R</span></span></span><span class="main">×</span><span class="free"><span class="bound"><span class="entity">R</span></span></span><span class="main">)</span><span class="main">}</span>"</span></span> 

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The expression representing the imaginary part of the
  product of complex numbers.›</span></span>

<span class="keyword1"><span class="command">definition</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">ImCxMul</span><span class="main">(</span><span class="free"><span class="bound"><span class="entity">R</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">M</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">)</span> <span class="main">≡</span> <span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">`</span><span class="main">⟨</span><span class="free"><span class="bound"><span class="entity">M</span></span></span><span class="main">`</span><span class="main">⟨</span>fst<span class="main">(</span><span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">)</span><span class="main">,</span>snd<span class="main">(</span><span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">)</span><span class="main">⟩</span><span class="main">,</span> <span class="free"><span class="bound"><span class="entity">M</span></span></span><span class="main">`</span><span class="main">⟨</span>snd<span class="main">(</span><span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">)</span><span class="main">,</span>fst<span class="main">(</span><span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">)</span><span class="main">⟩</span> <span class="main">⟩</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The expression representing the real part of the
  product of complex numbers.›</span></span>

<span class="keyword1"><span class="command">definition</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">ReCxMul</span><span class="main">(</span><span class="free"><span class="bound"><span class="entity">R</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">M</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">)</span> <span class="main">≡</span> 
  <span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">`</span><span class="main">⟨</span><span class="free"><span class="bound"><span class="entity">M</span></span></span><span class="main">`</span><span class="main">⟨</span>fst<span class="main">(</span><span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">)</span><span class="main">,</span>fst<span class="main">(</span><span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">)</span><span class="main">⟩</span><span class="main">,</span>GroupInv<span class="main">(</span><span class="free"><span class="bound"><span class="entity">R</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="free"><span class="bound"><span class="entity">M</span></span></span><span class="main">`</span><span class="main">⟨</span>snd<span class="main">(</span><span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">)</span><span class="main">,</span>snd<span class="main">(</span><span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">)</span><span class="main">⟩</span><span class="main">)</span><span class="main">⟩</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The function (set) that represents the binary operation of 
  multiplication of complex numbers.›</span></span>

<span class="keyword1"><span class="command">definition</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">CplxMul</span><span class="main">(</span><span class="free"><span class="bound"><span class="entity">R</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">M</span></span></span><span class="main">)</span> <span class="main">≡</span> 
  <span class="main">{</span> <span class="main">⟨</span><span class="bound">p</span><span class="main">,</span> <span class="main">⟨</span>ReCxMul<span class="main">(</span><span class="free"><span class="bound"><span class="entity">R</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">M</span></span></span><span class="main">,</span>fst<span class="main">(</span><span class="bound">p</span><span class="main">)</span><span class="main">,</span>snd<span class="main">(</span><span class="bound">p</span><span class="main">)</span><span class="main">)</span><span class="main">,</span>ImCxMul<span class="main">(</span><span class="free"><span class="bound"><span class="entity">R</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">M</span></span></span><span class="main">,</span>fst<span class="main">(</span><span class="bound">p</span><span class="main">)</span><span class="main">,</span>snd<span class="main">(</span><span class="bound">p</span><span class="main">)</span><span class="main">)</span><span class="main">⟩</span> <span class="main">⟩</span><span class="main">.</span> 
  <span class="bound">p</span> <span class="main">∈</span> <span class="main">(</span><span class="free"><span class="bound"><span class="entity">R</span></span></span><span class="main">×</span><span class="free"><span class="bound"><span class="entity">R</span></span></span><span class="main">)</span><span class="main">×</span><span class="main">(</span><span class="free"><span class="bound"><span class="entity">R</span></span></span><span class="main">×</span><span class="free"><span class="bound"><span class="entity">R</span></span></span><span class="main">)</span><span class="main">}</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The definition real numbers embedded in the complex plane.›</span></span>

<span class="keyword1"><span class="command">definition</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">ComplexReals</span><span class="main">(</span><span class="free"><span class="bound"><span class="entity">R</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">)</span> <span class="main">≡</span> <span class="free"><span class="bound"><span class="entity">R</span></span></span><span class="main">×</span><span class="main">{</span>TheNeutralElement<span class="main">(</span><span class="free"><span class="bound"><span class="entity">R</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">)</span><span class="main">}</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Definition of order relation on the real line.›</span></span>

<span class="keyword1"><span class="command">definition</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">CplxROrder</span><span class="main">(</span><span class="free"><span class="bound"><span class="entity">R</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">r</span></span></span><span class="main">)</span> <span class="main">≡</span> 
  InducedRelation<span class="main">(</span>SliceProjection<span class="main">(</span>ComplexReals<span class="main">(</span><span class="free"><span class="bound"><span class="entity">R</span></span></span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">A</span></span></span><span class="main">)</span><span class="main">)</span><span class="main">,</span><span class="free"><span class="bound"><span class="entity">r</span></span></span><span class="main">)</span>"</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The next locale defines proof context and notation that will be
  used for complex numbers.›</span></span>

<span class="keyword1"><span class="command">locale</span></span> complex0 <span class="main">=</span>
  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">R</span> <span class="keyword2"><span class="keyword">and</span></span> <span class="free">A</span> <span class="keyword2"><span class="keyword">and</span></span> <span class="free">M</span> <span class="keyword2"><span class="keyword">and</span></span> <span class="free">r</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> R_are_reals<span class="main">:</span> <span class="quoted"><span class="quoted">"IsAmodelOfReals<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">,</span><span class="free">r</span><span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">complex</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">ℂ</span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> complex_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ℂ</span></span> <span class="main">≡</span> <span class="free">R</span><span class="main">×</span><span class="free">R</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">rone</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">𝟭<span class="hidden">⇩</span><sub>R</sub></span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> rone_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="keyword1"><span class="free">𝟭<span class="hidden">⇩</span><sub>R</sub></span></span> <span class="main">≡</span> TheNeutralElement<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">M</span><span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">rzero</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">𝟬<span class="hidden">⇩</span><sub>R</sub></span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> rzero_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="keyword1"><span class="free">𝟬<span class="hidden">⇩</span><sub>R</sub></span></span> <span class="main">≡</span> TheNeutralElement<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">one</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">𝟭</span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> one_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟭</span></span> <span class="main">≡</span> <span class="main">⟨</span><span class="keyword1"><span class="free">𝟭<span class="hidden">⇩</span><sub>R</sub></span></span><span class="main">,</span> <span class="keyword1"><span class="free">𝟬<span class="hidden">⇩</span><sub>R</sub></span></span><span class="main">⟩</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">zero</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">𝟬</span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> zero_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟬</span></span> <span class="main">≡</span> <span class="main">⟨</span><span class="keyword1"><span class="free">𝟬<span class="hidden">⇩</span><sub>R</sub></span></span><span class="main">,</span> <span class="keyword1"><span class="free">𝟬<span class="hidden">⇩</span><sub>R</sub></span></span><span class="main">⟩</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">iunit</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">𝗂</span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> iunit_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="keyword1"><span class="free">𝗂</span></span> <span class="main">≡</span> <span class="main">⟨</span><span class="keyword1"><span class="free">𝟬<span class="hidden">⇩</span><sub>R</sub></span></span><span class="main">,</span><span class="keyword1"><span class="free">𝟭<span class="hidden">⇩</span><sub>R</sub></span></span><span class="main">⟩</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">creal</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">ℝ</span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> creal_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ℝ</span></span> <span class="main">≡</span> <span class="main">{</span><span class="main">⟨</span><span class="bound">r</span><span class="main">,</span><span class="keyword1"><span class="free">𝟬<span class="hidden">⇩</span><sub>R</sub></span></span><span class="main">⟩</span><span class="main">.</span> <span class="bound">r</span><span class="main">∈</span><span class="free">R</span><span class="main">}</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">rmul</span> <span class="main">(</span><span class="keyword2"><span class="keyword">infixl</span></span> <span class="quoted">"<span class="keyword1">\&lt;rmu&gt;</span>"</span> 71<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> rmul_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;rmu&gt;</span></span> <span class="free">b</span> <span class="main">≡</span> <span class="free">M</span><span class="main">`</span><span class="main">⟨</span><span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">⟩</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">radd</span> <span class="main">(</span><span class="keyword2"><span class="keyword">infixl</span></span> <span class="quoted">"<span class="keyword1">\&lt;ra&gt;</span>"</span> 69<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> radd_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">b</span> <span class="main">≡</span> <span class="free">A</span><span class="main">`</span><span class="main">⟨</span><span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">⟩</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">rneg</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">\&lt;rm&gt;</span> _"</span> 70<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> rneg_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">\&lt;rm&gt;</span></span> <span class="free">a</span> <span class="main">≡</span>  GroupInv<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="free">a</span><span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">ca</span> <span class="main">(</span><span class="keyword2"><span class="keyword">infixl</span></span> <span class="quoted">"<span class="keyword1">\&lt;ca&gt;</span>"</span> 69<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> ca_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;ca&gt;</span></span> <span class="free">b</span> <span class="main">≡</span> CplxAdd<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">)</span><span class="main">`</span><span class="main">⟨</span><span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">⟩</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">cm</span> <span class="main">(</span><span class="keyword2"><span class="keyword">infixl</span></span> <span class="quoted">"<span class="keyword1">⋅</span>"</span> 71<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> cm_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">⋅</span></span> <span class="free">b</span> <span class="main">≡</span> CplxMul<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">)</span><span class="main">`</span><span class="main">⟨</span><span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">⟩</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">cdiv</span> <span class="main">(</span><span class="keyword2"><span class="keyword">infixl</span></span> <span class="quoted">"<span class="keyword1">\&lt;cdiv&gt;</span>"</span> 70<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> cdiv_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;cdiv&gt;</span></span> <span class="free">b</span> <span class="main">≡</span> <span class="main">⋃</span> <span class="main">{</span> <span class="bound">x</span> <span class="main">∈</span> <span class="main"><span class="free">ℂ</span></span><span class="main">.</span> <span class="free">b</span> <span class="main"><span class="free">⋅</span></span> <span class="bound">x</span> <span class="main">=</span> <span class="free">a</span> <span class="main">}</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">sub</span> <span class="main">(</span><span class="keyword2"><span class="keyword">infixl</span></span> <span class="quoted">"<span class="keyword1">\&lt;cs&gt;</span>"</span> 69<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> sub_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;cs&gt;</span></span> <span class="free">b</span> <span class="main">≡</span> <span class="main">⋃</span> <span class="main">{</span> <span class="bound">x</span> <span class="main">∈</span> <span class="main"><span class="free">ℂ</span></span><span class="main">.</span> <span class="free">b</span> <span class="main"><span class="free">\&lt;ca&gt;</span></span> <span class="bound">x</span> <span class="main">=</span> <span class="free">a</span> <span class="main">}</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">cneg</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">\&lt;cn&gt;</span>_"</span> 95<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> cneg_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">\&lt;cn&gt;</span></span> <span class="free">a</span> <span class="main">≡</span> <span class="main"><span class="free">𝟬</span></span> <span class="main"><span class="free">\&lt;cs&gt;</span></span> <span class="free">a</span>"</span></span>
  
  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">lessr</span> <span class="main">(</span><span class="keyword2"><span class="keyword">infix</span></span> <span class="quoted">"<span class="keyword1">\&lt;lsr&gt;</span>"</span> 68<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> lessr_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> 
  <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;lsr&gt;</span></span> <span class="free">b</span> <span class="main">≡</span> <span class="main">⟨</span><span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">⟩</span> <span class="main">∈</span> StrictVersion<span class="main">(</span>CplxROrder<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">r</span><span class="main">)</span><span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">cpnf</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">\&lt;cpnf&gt;</span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> cpnf_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">\&lt;cpnf&gt;</span></span> <span class="main">≡</span> <span class="main"><span class="free">ℂ</span></span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">cmnf</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">\&lt;cmnf&gt;</span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> cmnf_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">\&lt;cmnf&gt;</span></span> <span class="main">≡</span> <span class="main">{</span><span class="main"><span class="free">ℂ</span></span><span class="main">}</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">cxr</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">ℝ<span class="hidden">⇧</span><sup>*</sup></span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> cxr_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ℝ<span class="hidden">⇧</span><sup>*</sup></span></span> <span class="main">≡</span> <span class="main"><span class="free">ℝ</span></span> <span class="main">∪</span> <span class="main">{</span><span class="main"><span class="free">\&lt;cpnf&gt;</span></span><span class="main">,</span><span class="main"><span class="free">\&lt;cmnf&gt;</span></span><span class="main">}</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">cxn</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">ℕ</span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> cxn_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> 
  <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ℕ</span></span> <span class="main">≡</span> <span class="main">⋂</span> <span class="main">{</span><span class="bound">N</span> <span class="main">∈</span> Pow<span class="main">(</span><span class="main"><span class="free">ℝ</span></span><span class="main">)</span><span class="main">.</span> <span class="main"><span class="free">𝟭</span></span> <span class="main">∈</span> <span class="bound">N</span> <span class="main">∧</span> <span class="main">(</span><span class="main">∀</span><span class="bound">n</span><span class="main">.</span> <span class="bound">n</span><span class="main">∈</span><span class="bound">N</span> <span class="main">⟶</span> <span class="bound">n</span><span class="main"><span class="free">\&lt;ca&gt;</span></span><span class="main"><span class="free">𝟭</span></span> <span class="main">∈</span> <span class="bound">N</span><span class="main">)</span><span class="main">}</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">cltrrset</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">\&lt;cltrrset&gt;</span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> cltrrset_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> 
  <span class="quoted"><span class="quoted">"<span class="main"><span class="free">\&lt;cltrrset&gt;</span></span> <span class="main">≡</span>  StrictVersion<span class="main">(</span>CplxROrder<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">r</span><span class="main">)</span><span class="main">)</span> <span class="main">∩</span> <span class="main"><span class="free">ℝ</span></span><span class="main">×</span><span class="main"><span class="free">ℝ</span></span> <span class="main">∪</span>
  <span class="main">{</span><span class="main">⟨</span><span class="main"><span class="free">\&lt;cmnf&gt;</span></span><span class="main">,</span><span class="main"><span class="free">\&lt;cpnf&gt;</span></span><span class="main">⟩</span><span class="main">}</span> <span class="main">∪</span> <span class="main">(</span><span class="main"><span class="free">ℝ</span></span><span class="main">×</span><span class="main">{</span><span class="main"><span class="free">\&lt;cpnf&gt;</span></span><span class="main">}</span><span class="main">)</span> <span class="main">∪</span> <span class="main">(</span><span class="main">{</span><span class="main"><span class="free">\&lt;cmnf&gt;</span></span><span class="main">}</span><span class="main">×</span><span class="main"><span class="free">ℝ</span></span> <span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">cltrr</span> <span class="main">(</span><span class="keyword2"><span class="keyword">infix</span></span> <span class="quoted">"<span class="keyword1">\&lt;ls&gt;</span>"</span> 68<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> cltrr_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">b</span> <span class="main">≡</span> <span class="main">⟨</span><span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">⟩</span> <span class="main">∈</span> <span class="main"><span class="free">\&lt;cltrrset&gt;</span></span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">lsq</span> <span class="main">(</span><span class="keyword2"><span class="keyword">infix</span></span> <span class="quoted">"<span class="keyword1">\&lt;lsq&gt;</span>"</span> 68<span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> lsq_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;lsq&gt;</span></span> <span class="free">b</span> <span class="main">≡</span> <span class="main">¬</span> <span class="main">(</span><span class="free">b</span> <span class="main"><span class="free">\&lt;ls&gt;</span></span> <span class="free">a</span><span class="main">)</span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">two</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">𝟮</span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> two_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟮</span></span> <span class="main">≡</span> <span class="main"><span class="free">𝟭</span></span> <span class="main"><span class="free">\&lt;ca&gt;</span></span> <span class="main"><span class="free">𝟭</span></span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">three</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">𝟯</span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> three_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟯</span></span> <span class="main">≡</span> <span class="main"><span class="free">𝟮</span></span><span class="main"><span class="free">\&lt;ca&gt;</span></span><span class="main"><span class="free">𝟭</span></span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">four</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">𝟰</span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> four_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟰</span></span> <span class="main">≡</span> <span class="main"><span class="free">𝟯</span></span><span class="main"><span class="free">\&lt;ca&gt;</span></span><span class="main"><span class="free">𝟭</span></span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">five</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">𝟱</span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> five_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟱</span></span> <span class="main">≡</span> <span class="main"><span class="free">𝟰</span></span><span class="main"><span class="free">\&lt;ca&gt;</span></span><span class="main"><span class="free">𝟭</span></span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">six</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">𝟲</span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> six_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟲</span></span> <span class="main">≡</span> <span class="main"><span class="free">𝟱</span></span><span class="main"><span class="free">\&lt;ca&gt;</span></span><span class="main"><span class="free">𝟭</span></span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">seven</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">𝟳</span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> seven_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟳</span></span> <span class="main">≡</span> <span class="main"><span class="free">𝟲</span></span><span class="main"><span class="free">\&lt;ca&gt;</span></span><span class="main"><span class="free">𝟭</span></span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">eight</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">𝟴</span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> eight_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟴</span></span> <span class="main">≡</span> <span class="main"><span class="free">𝟳</span></span><span class="main"><span class="free">\&lt;ca&gt;</span></span><span class="main"><span class="free">𝟭</span></span>"</span></span>

  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">nine</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">𝟵</span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">defines</span></span> nine_def<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟵</span></span> <span class="main">≡</span> <span class="main"><span class="free">𝟴</span></span><span class="main"><span class="free">\&lt;ca&gt;</span></span><span class="main"><span class="free">𝟭</span></span>"</span></span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‹Axioms of complex numbers›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹In this section we will prove that all Metamath's axioms of complex
  numbers hold in the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>complex0›</span></span></span></span> context.›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The next lemma lists some contexts that are valid in the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>complex0›</span></span></span></span>
  context.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> complex0<span class="main">)</span> valid_cntxts<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span>
  <span class="quoted"><span class="quoted">"field1<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">,</span><span class="free">r</span><span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"field0<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"ring1<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">,</span><span class="free">r</span><span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"group3<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">r</span><span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"ring0<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">M</span> <span class="keyword1">{is</span> <span class="keyword1">commutative</span> <span class="keyword1">on}</span> <span class="free">R</span>"</span></span>
  <span class="quoted"><span class="quoted">"group0<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> R_are_reals <span class="keyword1"><span class="command">have</span></span> I<span class="main">:</span> <span class="quoted"><span class="quoted">"IsAnOrdField<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">,</span><span class="free">r</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> IsAmodelOfReals_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"field1<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">,</span><span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> OrdField_ZF_1_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"ring1<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">,</span><span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> I<span class="main">:</span> <span class="quoted"><span class="quoted">"field0<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> field1.axioms ring1_def field1.OrdField_ZF_1_L1B
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"group3<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">r</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> ring1.OrdRing_ZF_1_L4
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">from</span></span> I <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IsAfield<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> field0.Field_ZF_1_L1
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IsAring<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">M</span> <span class="keyword1">{is</span> <span class="keyword1">commutative</span> <span class="keyword1">on}</span> <span class="free">R</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> IsAfield_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"ring0<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">M</span> <span class="keyword1">{is</span> <span class="keyword1">commutative</span> <span class="keyword1">on}</span> <span class="free">R</span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> ring0_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"group0<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> ring0.Ring_ZF_1_L1
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The next lemma shows the definition of real and imaginary part of
  complex sum and product in a more readable form using notation defined
  in <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>complex0›</span></span></span></span> locale.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> complex0<span class="main">)</span> cplx_mul_add_defs<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span>
  <span class="quoted"><span class="quoted">"ReCxAdd<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="main">⟨</span><span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">⟩</span><span class="main">,</span><span class="main">⟨</span><span class="free">c</span><span class="main">,</span><span class="free">d</span><span class="main">⟩</span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">c</span>"</span></span>
  <span class="quoted"><span class="quoted">"ImCxAdd<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="main">⟨</span><span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">⟩</span><span class="main">,</span><span class="main">⟨</span><span class="free">c</span><span class="main">,</span><span class="free">d</span><span class="main">⟩</span><span class="main">)</span> <span class="main">=</span> <span class="free">b</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">d</span>"</span></span>
  <span class="quoted"><span class="quoted">"ImCxMul<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">,</span><span class="main">⟨</span><span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">⟩</span><span class="main">,</span><span class="main">⟨</span><span class="free">c</span><span class="main">,</span><span class="free">d</span><span class="main">⟩</span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="free">d</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="free">c</span>"</span></span>
  <span class="quoted"><span class="quoted">"ReCxMul<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">,</span><span class="main">⟨</span><span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">⟩</span><span class="main">,</span><span class="main">⟨</span><span class="free">c</span><span class="main">,</span><span class="free">d</span><span class="main">⟩</span><span class="main">)</span> <span class="main">=</span>  <span class="free">a</span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="free">c</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">b</span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="free">d</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?z<span class="hidden">⇩</span><sub>1</sub></span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">⟩</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?z<span class="hidden">⇩</span><sub>2</sub></span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="free">c</span><span class="main">,</span><span class="free">d</span><span class="main">⟩</span>"</span></span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"ReCxAdd<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="var">?z<span class="hidden">⇩</span><sub>1</sub></span><span class="main">,</span><span class="var">?z<span class="hidden">⇩</span><sub>2</sub></span><span class="main">)</span> <span class="main">≡</span>  <span class="free">A</span><span class="main">`</span><span class="main">⟨</span>fst<span class="main">(</span><span class="var">?z<span class="hidden">⇩</span><sub>1</sub></span><span class="main">)</span><span class="main">,</span>fst<span class="main">(</span><span class="var">?z<span class="hidden">⇩</span><sub>2</sub></span><span class="main">)</span><span class="main">⟩</span>"</span></span>
   <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> ReCxAdd_def<span class="main">)</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"ImCxAdd<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="var">?z<span class="hidden">⇩</span><sub>1</sub></span><span class="main">,</span><span class="var">?z<span class="hidden">⇩</span><sub>2</sub></span><span class="main">)</span> <span class="main">≡</span>  <span class="free">A</span><span class="main">`</span><span class="main">⟨</span>snd<span class="main">(</span><span class="var">?z<span class="hidden">⇩</span><sub>1</sub></span><span class="main">)</span><span class="main">,</span>snd<span class="main">(</span><span class="var">?z<span class="hidden">⇩</span><sub>2</sub></span><span class="main">)</span><span class="main">⟩</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> ImCxAdd_def<span class="main">)</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"ImCxMul<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">,</span><span class="var">?z<span class="hidden">⇩</span><sub>1</sub></span><span class="main">,</span><span class="var">?z<span class="hidden">⇩</span><sub>2</sub></span><span class="main">)</span> <span class="main">≡</span> <span class="free">A</span><span class="main">`</span><span class="main">⟨</span><span class="free">M</span><span class="main">`</span><span class="main">&lt;</span>fst<span class="main">(</span><span class="var">?z<span class="hidden">⇩</span><sub>1</sub></span><span class="main">)</span><span class="main">,</span>snd<span class="main">(</span><span class="var">?z<span class="hidden">⇩</span><sub>2</sub></span><span class="main">)</span><span class="main">&gt;</span><span class="main">,</span><span class="free">M</span><span class="main">`</span><span class="main">&lt;</span>snd<span class="main">(</span><span class="var">?z<span class="hidden">⇩</span><sub>1</sub></span><span class="main">)</span><span class="main">,</span>fst<span class="main">(</span><span class="var">?z<span class="hidden">⇩</span><sub>2</sub></span><span class="main">)</span><span class="main">&gt;</span><span class="main">⟩</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> ImCxMul_def<span class="main">)</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span>
    <span class="quoted"><span class="quoted">"ReCxMul<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">,</span><span class="var">?z<span class="hidden">⇩</span><sub>1</sub></span><span class="main">,</span><span class="var">?z<span class="hidden">⇩</span><sub>2</sub></span><span class="main">)</span> <span class="main">≡</span> 
    <span class="free">A</span><span class="main">`</span><span class="main">⟨</span><span class="free">M</span><span class="main">`</span><span class="main">&lt;</span>fst<span class="main">(</span><span class="var">?z<span class="hidden">⇩</span><sub>1</sub></span><span class="main">)</span><span class="main">,</span>fst<span class="main">(</span><span class="var">?z<span class="hidden">⇩</span><sub>2</sub></span><span class="main">)</span><span class="main">&gt;</span><span class="main">,</span>GroupInv<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="free">M</span><span class="main">`</span><span class="main">⟨</span>snd<span class="main">(</span><span class="var">?z<span class="hidden">⇩</span><sub>1</sub></span><span class="main">)</span><span class="main">,</span>snd<span class="main">(</span><span class="var">?z<span class="hidden">⇩</span><sub>2</sub></span><span class="main">)</span><span class="main">⟩</span><span class="main">)</span><span class="main">⟩</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> ReCxMul_def<span class="main">)</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> 
    <span class="quoted"><span class="quoted">"ReCxAdd<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="var">?z<span class="hidden">⇩</span><sub>1</sub></span><span class="main">,</span><span class="var">?z<span class="hidden">⇩</span><sub>2</sub></span><span class="main">)</span> <span class="main">=</span>  <span class="free">a</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">c</span>"</span></span>
    <span class="quoted"><span class="quoted">"ImCxAdd<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="main">⟨</span><span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">⟩</span><span class="main">,</span><span class="main">⟨</span><span class="free">c</span><span class="main">,</span><span class="free">d</span><span class="main">⟩</span><span class="main">)</span> <span class="main">=</span> <span class="free">b</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">d</span>"</span></span>
    <span class="quoted"><span class="quoted">"ImCxMul<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">,</span><span class="main">⟨</span><span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">⟩</span><span class="main">,</span><span class="main">⟨</span><span class="free">c</span><span class="main">,</span><span class="free">d</span><span class="main">⟩</span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="free">d</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="free">c</span>"</span></span>
    <span class="quoted"><span class="quoted">"ReCxMul<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">,</span><span class="main">⟨</span><span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">⟩</span><span class="main">,</span><span class="main">⟨</span><span class="free">c</span><span class="main">,</span><span class="free">d</span><span class="main">⟩</span><span class="main">)</span> <span class="main">=</span>  <span class="free">a</span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="free">c</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">b</span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="free">d</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Real and imaginary parts of sums and products of complex numbers
  are real.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> complex0<span class="main">)</span> cplx_mul_add_types<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">z<span class="hidden">⇩</span><sub>1</sub></span> <span class="main">∈</span> <span class="main"><span class="free">ℂ</span></span>"</span></span>   <span class="quoted"><span class="quoted">"<span class="free">z<span class="hidden">⇩</span><sub>2</sub></span> <span class="main">∈</span> <span class="main"><span class="free">ℂ</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"ReCxAdd<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">z<span class="hidden">⇩</span><sub>1</sub></span><span class="main">,</span><span class="free">z<span class="hidden">⇩</span><sub>2</sub></span><span class="main">)</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
  <span class="quoted"><span class="quoted">"ImCxAdd<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">z<span class="hidden">⇩</span><sub>1</sub></span><span class="main">,</span><span class="free">z<span class="hidden">⇩</span><sub>2</sub></span><span class="main">)</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
  <span class="quoted"><span class="quoted">"ImCxMul<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">,</span><span class="free">z<span class="hidden">⇩</span><sub>1</sub></span><span class="main">,</span><span class="free">z<span class="hidden">⇩</span><sub>2</sub></span><span class="main">)</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
  <span class="quoted"><span class="quoted">"ReCxMul<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">,</span><span class="free">z<span class="hidden">⇩</span><sub>1</sub></span><span class="main">,</span><span class="free">z<span class="hidden">⇩</span><sub>2</sub></span><span class="main">)</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?a</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"fst<span class="main">(</span><span class="free">z<span class="hidden">⇩</span><sub>1</sub></span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?b</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"snd<span class="main">(</span><span class="free">z<span class="hidden">⇩</span><sub>1</sub></span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?c</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"fst<span class="main">(</span><span class="free">z<span class="hidden">⇩</span><sub>2</sub></span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?d</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"snd<span class="main">(</span><span class="free">z<span class="hidden">⇩</span><sub>2</sub></span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?a</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="var">?b</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="var">?c</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="var">?d</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"<span class="var">?a</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="var">?c</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="var">?b</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="var">?d</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="var">?a</span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?d</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="var">?b</span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?c</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="var">?a</span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?c</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span> <span class="var">?b</span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?d</span><span class="main">)</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> valid_cntxts ring0.Ring_ZF_1_L4 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword3"><span class="command">show</span></span> 
    <span class="quoted"><span class="quoted">"ReCxAdd<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">z<span class="hidden">⇩</span><sub>1</sub></span><span class="main">,</span><span class="free">z<span class="hidden">⇩</span><sub>2</sub></span><span class="main">)</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
    <span class="quoted"><span class="quoted">"ImCxAdd<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">z<span class="hidden">⇩</span><sub>1</sub></span><span class="main">,</span><span class="free">z<span class="hidden">⇩</span><sub>2</sub></span><span class="main">)</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
    <span class="quoted"><span class="quoted">"ImCxMul<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">,</span><span class="free">z<span class="hidden">⇩</span><sub>1</sub></span><span class="main">,</span><span class="free">z<span class="hidden">⇩</span><sub>2</sub></span><span class="main">)</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
    <span class="quoted"><span class="quoted">"ReCxMul<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">,</span><span class="free">z<span class="hidden">⇩</span><sub>1</sub></span><span class="main">,</span><span class="free">z<span class="hidden">⇩</span><sub>2</sub></span><span class="main">)</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> cplx_mul_add_defs <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Complex reals are complex. Recall the definition of <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>ℝ›</span></span></span></span>
  in the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>complex0›</span></span></span></span> locale.›</span></span>
  
<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> complex0<span class="main">)</span> axresscn<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ℝ</span></span> <span class="main">⊆</span> <span class="main"><span class="free">ℂ</span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> valid_cntxts group0.group0_2_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Complex $1$ is not complex $0$.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> complex0<span class="main">)</span> ax1ne0<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟭</span></span> <span class="main">≠</span> <span class="main"><span class="free">𝟬</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"IsAfield<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> valid_cntxts field0.Field_ZF_1_L1
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟭</span></span> <span class="main">≠</span> <span class="main"><span class="free">𝟬</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> IsAfield_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Complex addition is a complex valued binary
  operation on complex numbers.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> complex0<span class="main">)</span> axaddopr<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"CplxAdd<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">)</span><span class="main">:</span> <span class="main"><span class="free">ℂ</span></span> <span class="main">×</span> <span class="main"><span class="free">ℂ</span></span> <span class="main">→</span> <span class="main"><span class="free">ℂ</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">p</span> <span class="main">∈</span> <span class="main"><span class="free">ℂ</span></span><span class="main">×</span><span class="main"><span class="free">ℂ</span></span><span class="main">.</span> 
    <span class="main">⟨</span>ReCxAdd<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span>fst<span class="main">(</span><span class="bound">p</span><span class="main">)</span><span class="main">,</span>snd<span class="main">(</span><span class="bound">p</span><span class="main">)</span><span class="main">)</span><span class="main">,</span>ImCxAdd<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span>fst<span class="main">(</span><span class="bound">p</span><span class="main">)</span><span class="main">,</span>snd<span class="main">(</span><span class="bound">p</span><span class="main">)</span><span class="main">)</span><span class="main">⟩</span> <span class="main">∈</span> <span class="main"><span class="free">ℂ</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> cplx_mul_add_types <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="main">⟨</span><span class="bound">p</span><span class="main">,</span><span class="main">⟨</span>ReCxAdd<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span>fst<span class="main">(</span><span class="bound">p</span><span class="main">)</span><span class="main">,</span>snd<span class="main">(</span><span class="bound">p</span><span class="main">)</span><span class="main">)</span><span class="main">,</span>ImCxAdd<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span>fst<span class="main">(</span><span class="bound">p</span><span class="main">)</span><span class="main">,</span>snd<span class="main">(</span><span class="bound">p</span><span class="main">)</span><span class="main">)</span><span class="main">⟩</span> <span class="main">⟩</span><span class="main">.</span> 
    <span class="bound">p</span> <span class="main">∈</span> <span class="main"><span class="free">ℂ</span></span><span class="main">×</span><span class="main"><span class="free">ℂ</span></span><span class="main">}</span><span class="main">:</span> <span class="main"><span class="free">ℂ</span></span><span class="main">×</span><span class="main"><span class="free">ℂ</span></span> <span class="main">→</span> <span class="main"><span class="free">ℂ</span></span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> ZF_fun_from_total<span class="main">)</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"CplxAdd<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">)</span><span class="main">:</span> <span class="main"><span class="free">ℂ</span></span> <span class="main">×</span> <span class="main"><span class="free">ℂ</span></span> <span class="main">→</span> <span class="main"><span class="free">ℂ</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> CplxAdd_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Complex multiplication is a complex valued binary
  operation on complex numbers.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> complex0<span class="main">)</span> axmulopr<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"CplxMul<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">)</span><span class="main">:</span> <span class="main"><span class="free">ℂ</span></span> <span class="main">×</span> <span class="main"><span class="free">ℂ</span></span> <span class="main">→</span> <span class="main"><span class="free">ℂ</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">p</span> <span class="main">∈</span> <span class="main"><span class="free">ℂ</span></span><span class="main">×</span><span class="main"><span class="free">ℂ</span></span><span class="main">.</span> 
    <span class="main">⟨</span>ReCxMul<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">,</span>fst<span class="main">(</span><span class="bound">p</span><span class="main">)</span><span class="main">,</span>snd<span class="main">(</span><span class="bound">p</span><span class="main">)</span><span class="main">)</span><span class="main">,</span>ImCxMul<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">,</span>fst<span class="main">(</span><span class="bound">p</span><span class="main">)</span><span class="main">,</span>snd<span class="main">(</span><span class="bound">p</span><span class="main">)</span><span class="main">)</span><span class="main">⟩</span> <span class="main">∈</span> <span class="main"><span class="free">ℂ</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> cplx_mul_add_types <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span>
   <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="main">⟨</span><span class="bound">p</span><span class="main">,</span><span class="main">⟨</span>ReCxMul<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">,</span>fst<span class="main">(</span><span class="bound">p</span><span class="main">)</span><span class="main">,</span>snd<span class="main">(</span><span class="bound">p</span><span class="main">)</span><span class="main">)</span><span class="main">,</span>ImCxMul<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">,</span>fst<span class="main">(</span><span class="bound">p</span><span class="main">)</span><span class="main">,</span>snd<span class="main">(</span><span class="bound">p</span><span class="main">)</span><span class="main">)</span><span class="main">⟩</span><span class="main">⟩</span><span class="main">.</span> 
    <span class="bound">p</span> <span class="main">∈</span> <span class="main"><span class="free">ℂ</span></span><span class="main">×</span><span class="main"><span class="free">ℂ</span></span><span class="main">}</span><span class="main">:</span> <span class="main"><span class="free">ℂ</span></span><span class="main">×</span><span class="main"><span class="free">ℂ</span></span> <span class="main">→</span> <span class="main"><span class="free">ℂ</span></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> ZF_fun_from_total<span class="main">)</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"CplxMul<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">)</span><span class="main">:</span> <span class="main"><span class="free">ℂ</span></span> <span class="main">×</span> <span class="main"><span class="free">ℂ</span></span> <span class="main">→</span> <span class="main"><span class="free">ℂ</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> CplxMul_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹What are the values of omplex addition and multiplication
  in terms of their real and imaginary parts?›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> complex0<span class="main">)</span> cplx_mul_add_vals<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main">∈</span><span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">d</span><span class="main">∈</span><span class="free">R</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">⟩</span> <span class="main"><span class="free">\&lt;ca&gt;</span></span> <span class="main">⟨</span><span class="free">c</span><span class="main">,</span><span class="free">d</span><span class="main">⟩</span> <span class="main">=</span> <span class="main">⟨</span><span class="free">a</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">c</span><span class="main">,</span> <span class="free">b</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">d</span><span class="main">⟩</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">⟩</span> <span class="main"><span class="free">⋅</span></span> <span class="main">⟨</span><span class="free">c</span><span class="main">,</span><span class="free">d</span><span class="main">⟩</span> <span class="main">=</span> <span class="main">⟨</span><span class="free">a</span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="free">c</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">b</span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="free">d</span><span class="main">)</span><span class="main">,</span> <span class="free">a</span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="free">d</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="free">c</span><span class="main">⟩</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?S</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"CplxAdd<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">)</span>"</span></span> 
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?P</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"CplxMul<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?p</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span> <span class="main">⟨</span><span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">⟩</span><span class="main">,</span> <span class="main">⟨</span><span class="free">c</span><span class="main">,</span><span class="free">d</span><span class="main">⟩</span> <span class="main">⟩</span>"</span></span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?S</span> <span class="main">:</span> <span class="main"><span class="free">ℂ</span></span> <span class="main">×</span> <span class="main"><span class="free">ℂ</span></span> <span class="main">→</span> <span class="main"><span class="free">ℂ</span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="var">?p</span> <span class="main">∈</span> <span class="main"><span class="free">ℂ</span></span> <span class="main">×</span> <span class="main"><span class="free">ℂ</span></span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> axaddopr <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span>
    <span class="quoted"><span class="quoted">"<span class="var">?S</span> <span class="main">=</span> <span class="main">{</span><span class="main">⟨</span><span class="bound">p</span><span class="main">,</span> <span class="main">&lt;</span>ReCxAdd<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span>fst<span class="main">(</span><span class="bound">p</span><span class="main">)</span><span class="main">,</span>snd<span class="main">(</span><span class="bound">p</span><span class="main">)</span><span class="main">)</span><span class="main">,</span>ImCxAdd<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span>fst<span class="main">(</span><span class="bound">p</span><span class="main">)</span><span class="main">,</span>snd<span class="main">(</span><span class="bound">p</span><span class="main">)</span><span class="main">)</span><span class="main">&gt;</span><span class="main">⟩</span><span class="main">.</span> 
    <span class="bound">p</span> <span class="main">∈</span> <span class="main"><span class="free">ℂ</span></span> <span class="main">×</span> <span class="main"><span class="free">ℂ</span></span><span class="main">}</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> CplxAdd_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?S</span><span class="main">`</span><span class="main">(</span><span class="var">?p</span><span class="main">)</span> <span class="main">=</span> <span class="main">⟨</span>ReCxAdd<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span>fst<span class="main">(</span><span class="var">?p</span><span class="main">)</span><span class="main">,</span>snd<span class="main">(</span><span class="var">?p</span><span class="main">)</span><span class="main">)</span><span class="main">,</span>ImCxAdd<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span>fst<span class="main">(</span><span class="var">?p</span><span class="main">)</span><span class="main">,</span>snd<span class="main">(</span><span class="var">?p</span><span class="main">)</span><span class="main">)</span><span class="main">⟩</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> ZF_fun_from_tot_val<span class="main">)</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">⟩</span> <span class="main"><span class="free">\&lt;ca&gt;</span></span> <span class="main">⟨</span><span class="free">c</span><span class="main">,</span><span class="free">d</span><span class="main">⟩</span> <span class="main">=</span> <span class="main">⟨</span><span class="free">a</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">c</span><span class="main">,</span> <span class="free">b</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">d</span><span class="main">⟩</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> cplx_mul_add_defs <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?P</span> <span class="main">:</span> <span class="main"><span class="free">ℂ</span></span> <span class="main">×</span> <span class="main"><span class="free">ℂ</span></span> <span class="main">→</span> <span class="main"><span class="free">ℂ</span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="var">?p</span> <span class="main">∈</span> <span class="main"><span class="free">ℂ</span></span> <span class="main">×</span> <span class="main"><span class="free">ℂ</span></span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> axmulopr <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"<span class="var">?P</span> <span class="main">=</span> <span class="main">{</span><span class="main">⟨</span><span class="bound">p</span><span class="main">,</span> <span class="main">⟨</span>ReCxMul<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">,</span>fst<span class="main">(</span><span class="bound">p</span><span class="main">)</span><span class="main">,</span>snd<span class="main">(</span><span class="bound">p</span><span class="main">)</span><span class="main">)</span><span class="main">,</span>ImCxMul<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">,</span>fst<span class="main">(</span><span class="bound">p</span><span class="main">)</span><span class="main">,</span>snd<span class="main">(</span><span class="bound">p</span><span class="main">)</span><span class="main">)</span><span class="main">⟩</span> <span class="main">⟩</span><span class="main">.</span> 
    <span class="bound">p</span> <span class="main">∈</span> <span class="main"><span class="free">ℂ</span></span> <span class="main">×</span> <span class="main"><span class="free">ℂ</span></span><span class="main">}</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> CplxMul_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"<span class="var">?P</span><span class="main">`</span><span class="main">(</span><span class="var">?p</span><span class="main">)</span> <span class="main">=</span> <span class="main">⟨</span>ReCxMul<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">,</span>fst<span class="main">(</span><span class="var">?p</span><span class="main">)</span><span class="main">,</span>snd<span class="main">(</span><span class="var">?p</span><span class="main">)</span><span class="main">)</span><span class="main">,</span>ImCxMul<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">M</span><span class="main">,</span>fst<span class="main">(</span><span class="var">?p</span><span class="main">)</span><span class="main">,</span>snd<span class="main">(</span><span class="var">?p</span><span class="main">)</span><span class="main">)</span><span class="main">⟩</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> ZF_fun_from_tot_val<span class="main">)</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">⟩</span> <span class="main"><span class="free">⋅</span></span> <span class="main">⟨</span><span class="free">c</span><span class="main">,</span><span class="free">d</span><span class="main">⟩</span> <span class="main">=</span> <span class="main">⟨</span><span class="free">a</span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="free">c</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="free">b</span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="free">d</span><span class="main">)</span><span class="main">,</span> <span class="free">a</span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="free">d</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="free">b</span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="free">c</span><span class="main">⟩</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> cplx_mul_add_defs <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Complex multiplication is commutative.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> complex0<span class="main">)</span> axmulcom<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">∈</span> <span class="main"><span class="free">ℂ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span> <span class="main">∈</span> <span class="main"><span class="free">ℂ</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span> <span class="main">=</span> <span class="free">b</span><span class="main"><span class="free">⋅</span></span><span class="free">a</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms cplx_mul_add_vals valid_cntxts ring0.Ring_ZF_1_L4 
      field0.field_mult_comm <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹A sum of complex numbers is complex.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> complex0<span class="main">)</span> axaddcl<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">∈</span> <span class="main"><span class="free">ℂ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span> <span class="main">∈</span> <span class="main"><span class="free">ℂ</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;ca&gt;</span></span><span class="free">b</span> <span class="main">∈</span> <span class="main"><span class="free">ℂ</span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms axaddopr apply_funtype <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹A product of complex numbers is complex.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> complex0<span class="main">)</span> axmulcl<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">∈</span> <span class="main"><span class="free">ℂ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span> <span class="main">∈</span> <span class="main"><span class="free">ℂ</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span>  <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span> <span class="main">∈</span> <span class="main"><span class="free">ℂ</span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms axmulopr apply_funtype <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Multiplication is distributive with respect to
  addition.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> complex0<span class="main">)</span> axdistr<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">∈</span> <span class="main"><span class="free">ℂ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span> <span class="main">∈</span> <span class="main"><span class="free">ℂ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span> <span class="main">∈</span> <span class="main"><span class="free">ℂ</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">b</span> <span class="main"><span class="free">\&lt;ca&gt;</span></span> <span class="free">c</span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span> <span class="main"><span class="free">\&lt;ca&gt;</span></span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"fst<span class="main">(</span><span class="free">a</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"snd<span class="main">(</span><span class="free">a</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?b<span class="hidden">⇩</span><sub>r</sub></span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"fst<span class="main">(</span><span class="free">b</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?b<span class="hidden">⇩</span><sub>i</sub></span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"snd<span class="main">(</span><span class="free">b</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?c<span class="hidden">⇩</span><sub>r</sub></span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"fst<span class="main">(</span><span class="free">c</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?c<span class="hidden">⇩</span><sub>i</sub></span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"snd<span class="main">(</span><span class="free">c</span><span class="main">)</span>"</span></span>  
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> T<span class="main">:</span> 
    <span class="quoted"><span class="quoted">"<span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="var">?b<span class="hidden">⇩</span><sub>r</sub></span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="var">?b<span class="hidden">⇩</span><sub>i</sub></span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="var">?c<span class="hidden">⇩</span><sub>r</sub></span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="var">?c<span class="hidden">⇩</span><sub>i</sub></span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="var">?b<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>r</sub></span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="var">?b<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>i</sub></span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?b<span class="hidden">⇩</span><sub>r</sub></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?b<span class="hidden">⇩</span><sub>i</sub></span><span class="main">)</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>r</sub></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>i</sub></span><span class="main">)</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?b<span class="hidden">⇩</span><sub>i</sub></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?b<span class="hidden">⇩</span><sub>r</sub></span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>i</sub></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>r</sub></span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> valid_cntxts ring0.Ring_ZF_1_L4 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">b</span> <span class="main"><span class="free">\&lt;ca&gt;</span></span> <span class="free">c</span><span class="main">)</span> <span class="main">=</span> 
    <span class="main">⟨</span><span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="main">(</span><span class="var">?b<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>r</sub></span><span class="main">)</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="main">(</span><span class="var">?b<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>i</sub></span><span class="main">)</span><span class="main">)</span><span class="main">,</span><span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="main">(</span><span class="var">?b<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>i</sub></span><span class="main">)</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="main">(</span><span class="var">?b<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>r</sub></span><span class="main">)</span><span class="main">⟩</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> cplx_mul_add_vals <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> T <span class="keyword1"><span class="command">have</span></span>
    <span class="quoted"><span class="quoted">"<span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="main">(</span><span class="var">?b<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>r</sub></span><span class="main">)</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="main">(</span><span class="var">?b<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>i</sub></span><span class="main">)</span><span class="main">)</span> <span class="main">=</span>
    <span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?b<span class="hidden">⇩</span><sub>r</sub></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?b<span class="hidden">⇩</span><sub>i</sub></span><span class="main">)</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>r</sub></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>i</sub></span><span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="keyword2"><span class="keyword">and</span></span>
    <span class="quoted"><span class="quoted">"<span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="main">(</span><span class="var">?b<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>i</sub></span><span class="main">)</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="main">(</span><span class="var">?b<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>r</sub></span><span class="main">)</span> <span class="main">=</span>
    <span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?b<span class="hidden">⇩</span><sub>i</sub></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?b<span class="hidden">⇩</span><sub>r</sub></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>i</sub></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>r</sub></span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> valid_cntxts ring0.Ring_ZF_2_L6 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 T <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?b<span class="hidden">⇩</span><sub>r</sub></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?b<span class="hidden">⇩</span><sub>i</sub></span><span class="main">)</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>r</sub></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>i</sub></span><span class="main">)</span><span class="main">)</span><span class="main">,</span>
    <span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?b<span class="hidden">⇩</span><sub>i</sub></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?b<span class="hidden">⇩</span><sub>r</sub></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>i</sub></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>r</sub></span><span class="main">)</span><span class="main">⟩</span> <span class="main">=</span>
    <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span> <span class="main"><span class="free">\&lt;ca&gt;</span></span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> cplx_mul_add_vals <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main">(</span><span class="free">b</span> <span class="main"><span class="free">\&lt;ca&gt;</span></span> <span class="free">c</span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span> <span class="main"><span class="free">\&lt;ca&gt;</span></span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">c</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Complex addition is commutative.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> complex0<span class="main">)</span> axaddcom<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">∈</span> <span class="main"><span class="free">ℂ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span> <span class="main">∈</span> <span class="main"><span class="free">ℂ</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">\&lt;ca&gt;</span></span><span class="free">b</span> <span class="main">=</span> <span class="free">b</span><span class="main"><span class="free">\&lt;ca&gt;</span></span><span class="free">a</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms cplx_mul_add_vals valid_cntxts ring0.Ring_ZF_1_L4
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Complex addition is associative.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> complex0<span class="main">)</span> axaddass<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">∈</span> <span class="main"><span class="free">ℂ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span> <span class="main">∈</span> <span class="main"><span class="free">ℂ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span> <span class="main">∈</span> <span class="main"><span class="free">ℂ</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;ca&gt;</span></span> <span class="free">b</span> <span class="main"><span class="free">\&lt;ca&gt;</span></span> <span class="free">c</span> <span class="main">=</span> <span class="free">a</span> <span class="main"><span class="free">\&lt;ca&gt;</span></span> <span class="main">(</span><span class="free">b</span> <span class="main"><span class="free">\&lt;ca&gt;</span></span> <span class="free">c</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"fst<span class="main">(</span><span class="free">a</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"snd<span class="main">(</span><span class="free">a</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?b<span class="hidden">⇩</span><sub>r</sub></span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"fst<span class="main">(</span><span class="free">b</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?b<span class="hidden">⇩</span><sub>i</sub></span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"snd<span class="main">(</span><span class="free">b</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?c<span class="hidden">⇩</span><sub>r</sub></span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"fst<span class="main">(</span><span class="free">c</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?c<span class="hidden">⇩</span><sub>i</sub></span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"snd<span class="main">(</span><span class="free">c</span><span class="main">)</span>"</span></span>  
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> T<span class="main">:</span> 
    <span class="quoted"><span class="quoted">"<span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="var">?b<span class="hidden">⇩</span><sub>r</sub></span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="var">?b<span class="hidden">⇩</span><sub>i</sub></span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="var">?c<span class="hidden">⇩</span><sub>r</sub></span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="var">?c<span class="hidden">⇩</span><sub>i</sub></span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="var">?b<span class="hidden">⇩</span><sub>r</sub></span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="var">?b<span class="hidden">⇩</span><sub>i</sub></span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  
    <span class="quoted"><span class="quoted">"<span class="var">?b<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>r</sub></span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="var">?b<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>i</sub></span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> valid_cntxts ring0.Ring_ZF_1_L4 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;ca&gt;</span></span> <span class="free">b</span> <span class="main"><span class="free">\&lt;ca&gt;</span></span> <span class="free">c</span> <span class="main">=</span> <span class="main">⟨</span><span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="var">?b<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>r</sub></span><span class="main">,</span><span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="var">?b<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;ra&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>i</sub></span><span class="main">⟩</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> cplx_mul_add_vals <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> A1 T <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="free">a</span> <span class="main"><span class="free">\&lt;ca&gt;</span></span> <span class="main">(</span><span class="free">b</span> <span class="main"><span class="free">\&lt;ca&gt;</span></span> <span class="free">c</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> valid_cntxts ring0.Ring_ZF_1_L11 cplx_mul_add_vals
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">finally</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;ca&gt;</span></span> <span class="free">b</span> <span class="main"><span class="free">\&lt;ca&gt;</span></span> <span class="free">c</span> <span class="main">=</span> <span class="free">a</span> <span class="main"><span class="free">\&lt;ca&gt;</span></span> <span class="main">(</span><span class="free">b</span> <span class="main"><span class="free">\&lt;ca&gt;</span></span> <span class="free">c</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Complex multiplication is associative.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> complex0<span class="main">)</span> axmulass<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">∈</span> <span class="main"><span class="free">ℂ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span> <span class="main">∈</span> <span class="main"><span class="free">ℂ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">c</span> <span class="main">∈</span> <span class="main"><span class="free">ℂ</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">⋅</span></span> <span class="free">b</span> <span class="main"><span class="free">⋅</span></span> <span class="free">c</span> <span class="main">=</span> <span class="free">a</span> <span class="main"><span class="free">⋅</span></span> <span class="main">(</span><span class="free">b</span> <span class="main"><span class="free">⋅</span></span> <span class="free">c</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"fst<span class="main">(</span><span class="free">a</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"snd<span class="main">(</span><span class="free">a</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?b<span class="hidden">⇩</span><sub>r</sub></span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"fst<span class="main">(</span><span class="free">b</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?b<span class="hidden">⇩</span><sub>i</sub></span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"snd<span class="main">(</span><span class="free">b</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?c<span class="hidden">⇩</span><sub>r</sub></span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"fst<span class="main">(</span><span class="free">c</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?c<span class="hidden">⇩</span><sub>i</sub></span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"snd<span class="main">(</span><span class="free">c</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> T<span class="main">:</span>
    <span class="quoted"><span class="quoted">"<span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="var">?b<span class="hidden">⇩</span><sub>r</sub></span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="var">?b<span class="hidden">⇩</span><sub>i</sub></span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="var">?c<span class="hidden">⇩</span><sub>r</sub></span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="var">?c<span class="hidden">⇩</span><sub>i</sub></span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?b<span class="hidden">⇩</span><sub>r</sub></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?b<span class="hidden">⇩</span><sub>i</sub></span><span class="main">)</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  
    <span class="quoted"><span class="quoted">"<span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?b<span class="hidden">⇩</span><sub>i</sub></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?b<span class="hidden">⇩</span><sub>r</sub></span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="var">?b<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>r</sub></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="var">?b<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>i</sub></span><span class="main">)</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
    <span class="quoted"><span class="quoted">"<span class="var">?b<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>i</sub></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="var">?b<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>r</sub></span> <span class="main">∈</span> <span class="free">R</span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> valid_cntxts ring0.Ring_ZF_1_L4  <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">⋅</span></span> <span class="free">b</span> <span class="main"><span class="free">⋅</span></span> <span class="free">c</span> <span class="main">=</span> 
    <span class="main">⟨</span><span class="main">(</span><span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?b<span class="hidden">⇩</span><sub>r</sub></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?b<span class="hidden">⇩</span><sub>i</sub></span><span class="main">)</span><span class="main">)</span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>r</sub></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="main">(</span><span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?b<span class="hidden">⇩</span><sub>i</sub></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?b<span class="hidden">⇩</span><sub>r</sub></span><span class="main">)</span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>i</sub></span><span class="main">)</span><span class="main">,</span>
    <span class="main">(</span><span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?b<span class="hidden">⇩</span><sub>r</sub></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?b<span class="hidden">⇩</span><sub>i</sub></span><span class="main">)</span><span class="main">)</span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>i</sub></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?b<span class="hidden">⇩</span><sub>i</sub></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?b<span class="hidden">⇩</span><sub>r</sub></span><span class="main">)</span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>r</sub></span><span class="main">⟩</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> cplx_mul_add_vals <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 T <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="main">(</span><span class="var">?b<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>r</sub></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="var">?b<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>i</sub></span><span class="main">)</span><span class="main">)</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="main">(</span><span class="var">?b<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>i</sub></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="var">?b<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>r</sub></span><span class="main">)</span><span class="main">)</span><span class="main">,</span>
    <span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="main">(</span><span class="var">?b<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>i</sub></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="var">?b<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>r</sub></span><span class="main">)</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="main">(</span><span class="var">?b<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>r</sub></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="var">?b<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>i</sub></span><span class="main">)</span><span class="main">)</span><span class="main">⟩</span> <span class="main">=</span> 
    <span class="free">a</span> <span class="main"><span class="free">⋅</span></span> <span class="main">(</span><span class="free">b</span> <span class="main"><span class="free">⋅</span></span> <span class="free">c</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> cplx_mul_add_vals <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> T <span class="keyword1"><span class="command">have</span></span>
    <span class="quoted"><span class="quoted">"<span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="main">(</span><span class="var">?b<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>r</sub></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="var">?b<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>i</sub></span><span class="main">)</span><span class="main">)</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="main">(</span><span class="var">?b<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>i</sub></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="var">?b<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>r</sub></span><span class="main">)</span><span class="main">)</span> <span class="main">=</span>
    <span class="main">(</span><span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?b<span class="hidden">⇩</span><sub>r</sub></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?b<span class="hidden">⇩</span><sub>i</sub></span><span class="main">)</span><span class="main">)</span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>r</sub></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="main">(</span><span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?b<span class="hidden">⇩</span><sub>i</sub></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?b<span class="hidden">⇩</span><sub>r</sub></span><span class="main">)</span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>i</sub></span><span class="main">)</span>"</span></span>
    <span class="keyword2"><span class="keyword">and</span></span>
    <span class="quoted"><span class="quoted">"<span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="main">(</span><span class="var">?b<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>i</sub></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="var">?b<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>r</sub></span><span class="main">)</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="main">(</span><span class="var">?b<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>r</sub></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="var">?b<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>i</sub></span><span class="main">)</span><span class="main">)</span> <span class="main">=</span>
    <span class="main">(</span><span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?b<span class="hidden">⇩</span><sub>r</sub></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?b<span class="hidden">⇩</span><sub>i</sub></span><span class="main">)</span><span class="main">)</span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>i</sub></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="main">(</span><span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?b<span class="hidden">⇩</span><sub>i</sub></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?b<span class="hidden">⇩</span><sub>r</sub></span><span class="main">)</span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?c<span class="hidden">⇩</span><sub>r</sub></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> valid_cntxts ring0.Ring_ZF_2_L6 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">⋅</span></span> <span class="free">b</span> <span class="main"><span class="free">⋅</span></span> <span class="free">c</span> <span class="main">=</span> <span class="free">a</span> <span class="main"><span class="free">⋅</span></span> <span class="main">(</span><span class="free">b</span> <span class="main"><span class="free">⋅</span></span> <span class="free">c</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Complex $1$ is real. This really means that the pair 
  $\langle 1,0 \rangle$ is on the real axis.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> complex0<span class="main">)</span> ax1re<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟭</span></span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> valid_cntxts ring0.Ring_ZF_1_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The imaginary unit is a "square root" of $-1$ (that is, $i^2 +1 =0$). 
›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> complex0<span class="main">)</span> axi2m1<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="keyword1"><span class="free">𝗂</span></span><span class="main"><span class="free">⋅</span></span><span class="keyword1"><span class="free">𝗂</span></span> <span class="main"><span class="free">\&lt;ca&gt;</span></span> <span class="main"><span class="free">𝟭</span></span> <span class="main">=</span> <span class="main"><span class="free">𝟬</span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> valid_cntxts ring0.Ring_ZF_1_L2 ring0.Ring_ZF_1_L3
  cplx_mul_add_vals ring0.Ring_ZF_1_L6 group0.group0_2_L6 
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹$0$ is the neutral element of complex addition.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> complex0<span class="main">)</span> ax0id<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">∈</span> <span class="main"><span class="free">ℂ</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;ca&gt;</span></span> <span class="main"><span class="free">𝟬</span></span> <span class="main">=</span> <span class="free">a</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms cplx_mul_add_vals valid_cntxts 
    ring0.Ring_ZF_1_L2 ring0.Ring_ZF_1_L3
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The imaginary unit is a complex number.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> complex0<span class="main">)</span> axicn<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="keyword1"><span class="free">𝗂</span></span> <span class="main">∈</span> <span class="main"><span class="free">ℂ</span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> valid_cntxts ring0.Ring_ZF_1_L2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹All complex numbers have additive inverses.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> complex0<span class="main">)</span> axnegex<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">∈</span> <span class="main"><span class="free">ℂ</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">x</span><span class="main">∈</span><span class="main"><span class="free">ℂ</span></span><span class="main">.</span> <span class="free">a</span> <span class="main"><span class="free">\&lt;ca&gt;</span></span> <span class="bound">x</span>  <span class="main">=</span> <span class="main"><span class="free">𝟬</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"fst<span class="main">(</span><span class="free">a</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"snd<span class="main">(</span><span class="free">a</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?x</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span><span class="main">,</span> <span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span><span class="main">⟩</span>"</span></span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> T<span class="main">:</span> 
    <span class="quoted"><span class="quoted">"<span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span> <span class="main">∈</span> <span class="free">R</span>"</span></span>   <span class="quoted"><span class="quoted">"<span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span> <span class="main">∈</span> <span class="free">R</span>"</span></span>   <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span><span class="main">)</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>   <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span><span class="main">)</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> valid_cntxts ring0.Ring_ZF_1_L3 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?x</span> <span class="main">∈</span> <span class="main"><span class="free">ℂ</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> valid_cntxts ring0.Ring_ZF_1_L3
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 T <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;ca&gt;</span></span> <span class="var">?x</span> <span class="main">=</span> <span class="main"><span class="free">𝟬</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> cplx_mul_add_vals valid_cntxts ring0.Ring_ZF_1_L3
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">x</span><span class="main">∈</span><span class="main"><span class="free">ℂ</span></span><span class="main">.</span> <span class="free">a</span> <span class="main"><span class="free">\&lt;ca&gt;</span></span> <span class="bound">x</span>  <span class="main">=</span> <span class="main"><span class="free">𝟬</span></span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹A non-zero complex number has a multiplicative inverse.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> complex0<span class="main">)</span> axrecex<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">∈</span> <span class="main"><span class="free">ℂ</span></span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">≠</span><span class="main"><span class="free">𝟬</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">x</span><span class="main">∈</span><span class="main"><span class="free">ℂ</span></span><span class="main">.</span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="bound">x</span> <span class="main">=</span> <span class="main"><span class="free">𝟭</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"fst<span class="main">(</span><span class="free">a</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"snd<span class="main">(</span><span class="free">a</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?m</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> <span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span>"</span></span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> T1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span> <span class="main">∈</span> <span class="free">R</span>"</span></span>   <span class="quoted"><span class="quoted">"<span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span> <span class="main">∈</span> <span class="free">R</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span> <span class="main">≠</span> <span class="keyword1"><span class="free">𝟬<span class="hidden">⇩</span><sub>R</sub></span></span> <span class="main">∨</span> <span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span> <span class="main">≠</span> <span class="keyword1"><span class="free">𝟬<span class="hidden">⇩</span><sub>R</sub></span></span>"</span></span> 
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">c</span><span class="main">∈</span><span class="free">R</span><span class="main">.</span> <span class="var">?m</span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="bound">c</span> <span class="main">=</span> <span class="keyword1"><span class="free">𝟭<span class="hidden">⇩</span><sub>R</sub></span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> valid_cntxts field1.OrdField_ZF_1_L10
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">c</span></span> <span class="keyword2"><span class="keyword">where</span></span> I<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">c</span><span class="main">∈</span><span class="free">R</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> II<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="var">?m</span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="skolem">c</span> <span class="main">=</span> <span class="keyword1"><span class="free">𝟭<span class="hidden">⇩</span><sub>R</sub></span></span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?x</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="skolem">c</span><span class="main">,</span> <span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="skolem">c</span><span class="main">⟩</span>"</span></span>
  <span class="keyword1"><span class="command">from</span></span> T1 I <span class="keyword1"><span class="command">have</span></span> T2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="skolem">c</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="var">?a<span class="hidden">⇩</span><sub>i</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="skolem">c</span><span class="main">)</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> valid_cntxts ring0.Ring_ZF_1_L4 ring0.Ring_ZF_1_L3
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?x</span> <span class="main">∈</span> <span class="main"><span class="free">ℂ</span></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 T1 T2 I II <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="var">?x</span> <span class="main">=</span> <span class="main"><span class="free">𝟭</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> cplx_mul_add_vals valid_cntxts ring0.ring_rearr_3_elemA
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">x</span><span class="main">∈</span><span class="main"><span class="free">ℂ</span></span><span class="main">.</span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="bound">x</span> <span class="main">=</span> <span class="main"><span class="free">𝟭</span></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Complex $1$ is a right neutral element for multiplication.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> complex0<span class="main">)</span> ax1id<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">∈</span> <span class="main"><span class="free">ℂ</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="main"><span class="free">𝟭</span></span> <span class="main">=</span> <span class="free">a</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms valid_cntxts ring0.Ring_ZF_1_L2 cplx_mul_add_vals
    ring0.Ring_ZF_1_L3 ring0.Ring_ZF_1_L6 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹A formula for sum of (complex) real numbers.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> complex0<span class="main">)</span> sum_of_reals<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;ca&gt;</span></span> <span class="free">b</span> <span class="main">=</span> <span class="main">⟨</span>fst<span class="main">(</span><span class="free">a</span><span class="main">)</span> <span class="main"><span class="free">\&lt;ra&gt;</span></span> fst<span class="main">(</span><span class="free">b</span><span class="main">)</span><span class="main">,</span><span class="keyword1"><span class="free">𝟬<span class="hidden">⇩</span><sub>R</sub></span></span><span class="main">⟩</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms valid_cntxts ring0.Ring_ZF_1_L2 cplx_mul_add_vals
    ring0.Ring_ZF_1_L3 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  
<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The sum of real numbers is real.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> complex0<span class="main">)</span> axaddrcl<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;ca&gt;</span></span> <span class="free">b</span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span> 
  <span class="keyword1"><span class="command">using</span></span> assms sum_of_reals valid_cntxts ring0.Ring_ZF_1_L4
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The formula for the product of (complex) real numbers.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> complex0<span class="main">)</span> prod_of_reals<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">⋅</span></span> <span class="free">b</span> <span class="main">=</span> <span class="main">⟨</span>fst<span class="main">(</span><span class="free">a</span><span class="main">)</span><span class="main"><span class="free">\&lt;rmu&gt;</span></span>fst<span class="main">(</span><span class="free">b</span><span class="main">)</span><span class="main">,</span><span class="keyword1"><span class="free">𝟬<span class="hidden">⇩</span><sub>R</sub></span></span><span class="main">⟩</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"fst<span class="main">(</span><span class="free">a</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?b<span class="hidden">⇩</span><sub>r</sub></span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"fst<span class="main">(</span><span class="free">b</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> T<span class="main">:</span> 
    <span class="quoted"><span class="quoted">"<span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span> <span class="main">∈</span> <span class="free">R</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="var">?b<span class="hidden">⇩</span><sub>r</sub></span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="keyword1"><span class="free">𝟬<span class="hidden">⇩</span><sub>R</sub></span></span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?b<span class="hidden">⇩</span><sub>r</sub></span> <span class="main">∈</span> <span class="free">R</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> valid_cntxts ring0.Ring_ZF_1_L2 ring0.Ring_ZF_1_L4 
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">⋅</span></span> <span class="free">b</span> <span class="main">=</span> <span class="main">⟨</span><span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span><span class="main"><span class="free">\&lt;rmu&gt;</span></span><span class="var">?b<span class="hidden">⇩</span><sub>r</sub></span><span class="main">,</span><span class="keyword1"><span class="free">𝟬<span class="hidden">⇩</span><sub>R</sub></span></span><span class="main">⟩</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> cplx_mul_add_vals valid_cntxts ring0.Ring_ZF_1_L2 
      ring0.Ring_ZF_1_L6 ring0.Ring_ZF_1_L3 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The product of (complex) real numbers is real.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> complex0<span class="main">)</span> axmulrcl<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">⋅</span></span> <span class="free">b</span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms prod_of_reals valid_cntxts ring0.Ring_ZF_1_L4
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The existence of a real negative of a real number.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> complex0<span class="main">)</span> axrnegex<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span> <span class="bound">x</span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span><span class="main">.</span> <span class="free">a</span> <span class="main"><span class="free">\&lt;ca&gt;</span></span> <span class="bound">x</span> <span class="main">=</span> <span class="main"><span class="free">𝟬</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"fst<span class="main">(</span><span class="free">a</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?x</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span><span class="main">,</span><span class="keyword1"><span class="free">𝟬<span class="hidden">⇩</span><sub>R</sub></span></span><span class="main">⟩</span>"</span></span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> T<span class="main">:</span> 
    <span class="quoted"><span class="quoted">"<span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main"><span class="free">\&lt;rm&gt;</span></span><span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span><span class="main">)</span> <span class="main">∈</span> <span class="free">R</span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="keyword1"><span class="free">𝟬<span class="hidden">⇩</span><sub>R</sub></span></span> <span class="main">∈</span> <span class="free">R</span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> valid_cntxts ring0.Ring_ZF_1_L3 ring0.Ring_ZF_1_L2 
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?x</span><span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 T <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;ca&gt;</span></span> <span class="var">?x</span> <span class="main">=</span> <span class="main"><span class="free">𝟬</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> cplx_mul_add_vals valid_cntxts ring0.Ring_ZF_1_L3
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">x</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span><span class="main">.</span> <span class="free">a</span> <span class="main"><span class="free">\&lt;ca&gt;</span></span> <span class="bound">x</span> <span class="main">=</span> <span class="main"><span class="free">𝟬</span></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Each nonzero real number has a real inverse›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> complex0<span class="main">)</span> axrrecex<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span>  <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>   <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">≠</span> <span class="main"><span class="free">𝟬</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">x</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span><span class="main">.</span> <span class="free">a</span> <span class="main"><span class="free">⋅</span></span> <span class="bound">x</span> <span class="main">=</span> <span class="main"><span class="free">𝟭</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?R<span class="hidden">⇩</span><sub>0</sub></span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="free">R</span><span class="main">-</span><span class="main">{</span><span class="keyword1"><span class="free">𝟬<span class="hidden">⇩</span><sub>R</sub></span></span><span class="main">}</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"fst<span class="main">(</span><span class="free">a</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?y</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"GroupInv<span class="main">(</span><span class="var">?R<span class="hidden">⇩</span><sub>0</sub></span><span class="main">,</span>restrict<span class="main">(</span><span class="free">M</span><span class="main">,</span><span class="var">?R<span class="hidden">⇩</span><sub>0</sub></span><span class="main">×</span><span class="var">?R<span class="hidden">⇩</span><sub>0</sub></span><span class="main">)</span><span class="main">)</span><span class="main">`</span><span class="main">(</span><span class="var">?a<span class="hidden">⇩</span><sub>r</sub></span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> T<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="var">?y</span><span class="main">,</span><span class="keyword1"><span class="free">𝟬<span class="hidden">⇩</span><sub>R</sub></span></span><span class="main">⟩</span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> valid_cntxts field0.Field_ZF_1_L5
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 T <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">⋅</span></span> <span class="main">⟨</span><span class="var">?y</span><span class="main">,</span><span class="keyword1"><span class="free">𝟬<span class="hidden">⇩</span><sub>R</sub></span></span><span class="main">⟩</span> <span class="main">=</span> <span class="main"><span class="free">𝟭</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> prod_of_reals valid_cntxts
    field0.Field_ZF_1_L5 field0.Field_ZF_1_L6 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span> <span class="bound">x</span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span><span class="main">.</span> <span class="free">a</span> <span class="main"><span class="free">⋅</span></span> <span class="bound">x</span> <span class="main">=</span> <span class="main"><span class="free">𝟭</span></span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>
  
<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Our <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>ℝ›</span></span></span></span> symbol is the real axis on the complex plane.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> complex0<span class="main">)</span> real_means_real_axis<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">ℝ</span></span> <span class="main">=</span> ComplexReals<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> ComplexReals_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>CplxROrder›</span></span></span></span> thing is a relation on the complex reals.
›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> complex0<span class="main">)</span> cplx_ord_on_cplx_reals<span class="main">:</span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"CplxROrder<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">r</span><span class="main">)</span> <span class="main">⊆</span> <span class="main"><span class="free">ℝ</span></span><span class="main">×</span><span class="main"><span class="free">ℝ</span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> ComplexReals_def slice_proj_bij real_means_real_axis
    CplxROrder_def InducedRelation_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The strict version of the complex relation is a 
  relation on complex reals.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> complex0<span class="main">)</span> cplx_strict_ord_on_cplx_reals<span class="main">:</span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"StrictVersion<span class="main">(</span>CplxROrder<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">r</span><span class="main">)</span><span class="main">)</span> <span class="main">⊆</span> <span class="main"><span class="free">ℝ</span></span><span class="main">×</span><span class="main"><span class="free">ℝ</span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> cplx_ord_on_cplx_reals strict_ver_rel <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>CplxROrder›</span></span></span></span> thing is a relation on the complex reals.
  Here this is formulated as a statement that in <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>complex0›</span></span></span></span> context
  $a&lt;b$ implies that $a,b$ are complex reals›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> complex0<span class="main">)</span> strict_cplx_ord_type<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;lsr&gt;</span></span> <span class="free">b</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms CplxROrder_def def_of_strict_ver InducedRelation_def 
    slice_proj_bij ComplexReals_def real_means_real_axis 
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹A more readable version of the definition of the strict order
  relation on the real axis. Recall that in the <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>complex0›</span></span></span></span>
  context $r$ denotes the (non-strict) order relation on the underlying
  model of real numbers.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> complex0<span class="main">)</span> def_of_real_axis_order<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="free">x</span><span class="main">,</span><span class="keyword1"><span class="free">𝟬<span class="hidden">⇩</span><sub>R</sub></span></span><span class="main">⟩</span> <span class="main"><span class="free">\&lt;lsr&gt;</span></span> <span class="main">⟨</span><span class="free">y</span><span class="main">,</span><span class="keyword1"><span class="free">𝟬<span class="hidden">⇩</span><sub>R</sub></span></span><span class="main">⟩</span> <span class="main">⟷</span> <span class="main">⟨</span><span class="free">x</span><span class="main">,</span><span class="free">y</span><span class="main">⟩</span> <span class="main">∈</span> <span class="free">r</span> <span class="main">∧</span> <span class="free">x</span><span class="main">≠</span><span class="free">y</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?f</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"SliceProjection<span class="main">(</span>ComplexReals<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword3"><span class="command">assume</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="free">x</span><span class="main">,</span><span class="keyword1"><span class="free">𝟬<span class="hidden">⇩</span><sub>R</sub></span></span><span class="main">⟩</span> <span class="main"><span class="free">\&lt;lsr&gt;</span></span> <span class="main">⟨</span><span class="free">y</span><span class="main">,</span><span class="keyword1"><span class="free">𝟬<span class="hidden">⇩</span><sub>R</sub></span></span><span class="main">⟩</span>"</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span> <span class="var">?f</span><span class="main">`</span><span class="main">⟨</span><span class="free">x</span><span class="main">,</span><span class="keyword1"><span class="free">𝟬<span class="hidden">⇩</span><sub>R</sub></span></span><span class="main">⟩</span><span class="main">,</span> <span class="var">?f</span><span class="main">`</span><span class="main">⟨</span><span class="free">y</span><span class="main">,</span><span class="keyword1"><span class="free">𝟬<span class="hidden">⇩</span><sub>R</sub></span></span><span class="main">⟩</span> <span class="main">⟩</span> <span class="main">∈</span> <span class="free">r</span> <span class="main">∧</span> <span class="free">x</span> <span class="main">≠</span> <span class="free">y</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> CplxROrder_def def_of_strict_ver def_of_ind_relA
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="free">x</span><span class="main">,</span><span class="keyword1"><span class="free">𝟬<span class="hidden">⇩</span><sub>R</sub></span></span><span class="main">⟩</span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="free">y</span><span class="main">,</span><span class="keyword1"><span class="free">𝟬<span class="hidden">⇩</span><sub>R</sub></span></span><span class="main">⟩</span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> strict_cplx_ord_type <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="free">x</span><span class="main">,</span><span class="free">y</span><span class="main">⟩</span> <span class="main">∈</span> <span class="free">r</span> <span class="main">∧</span> <span class="free">x</span><span class="main">≠</span><span class="free">y</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> slice_proj_bij ComplexReals_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">next</span></span> <span class="keyword3"><span class="command">assume</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="free">x</span><span class="main">,</span><span class="free">y</span><span class="main">⟩</span> <span class="main">∈</span> <span class="free">r</span> <span class="main">∧</span> <span class="free">x</span><span class="main">≠</span><span class="free">y</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?f</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"SliceProjection<span class="main">(</span>ComplexReals<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?f</span> <span class="main">:</span> <span class="main"><span class="free">ℝ</span></span> <span class="main">→</span> <span class="free">R</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> ComplexReals_def slice_proj_bij real_means_real_axis
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> T<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="free">x</span><span class="main">,</span><span class="keyword1"><span class="free">𝟬<span class="hidden">⇩</span><sub>R</sub></span></span><span class="main">⟩</span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>   <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="free">y</span><span class="main">,</span><span class="keyword1"><span class="free">𝟬<span class="hidden">⇩</span><sub>R</sub></span></span><span class="main">⟩</span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> valid_cntxts ring1.OrdRing_ZF_1_L3 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A1 T <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span> <span class="var">?f</span><span class="main">`</span><span class="main">⟨</span><span class="free">x</span><span class="main">,</span><span class="keyword1"><span class="free">𝟬<span class="hidden">⇩</span><sub>R</sub></span></span><span class="main">⟩</span><span class="main">,</span> <span class="var">?f</span><span class="main">`</span><span class="main">⟨</span><span class="free">y</span><span class="main">,</span><span class="keyword1"><span class="free">𝟬<span class="hidden">⇩</span><sub>R</sub></span></span><span class="main">⟩</span> <span class="main">⟩</span> <span class="main">∈</span> <span class="free">r</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> slice_proj_bij ComplexReals_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span> <span class="main">⟨</span><span class="free">x</span><span class="main">,</span><span class="keyword1"><span class="free">𝟬<span class="hidden">⇩</span><sub>R</sub></span></span><span class="main">⟩</span><span class="main">,</span> <span class="main">⟨</span><span class="free">y</span><span class="main">,</span><span class="keyword1"><span class="free">𝟬<span class="hidden">⇩</span><sub>R</sub></span></span><span class="main">⟩</span> <span class="main">⟩</span> <span class="main">∈</span> InducedRelation<span class="main">(</span><span class="var">?f</span><span class="main">,</span><span class="free">r</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> def_of_ind_relB <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="free">x</span><span class="main">,</span><span class="keyword1"><span class="free">𝟬<span class="hidden">⇩</span><sub>R</sub></span></span><span class="main">⟩</span> <span class="main"><span class="free">\&lt;lsr&gt;</span></span> <span class="main">⟨</span><span class="free">y</span><span class="main">,</span><span class="keyword1"><span class="free">𝟬<span class="hidden">⇩</span><sub>R</sub></span></span><span class="main">⟩</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> CplxROrder_def def_of_strict_ver
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The (non strict) order on complex reals is antisymmetric,
  transitive and total.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> complex0<span class="main">)</span> cplx_ord_antsym_trans_tot<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span>
  <span class="quoted"><span class="quoted">"antisym<span class="main">(</span>CplxROrder<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">r</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"trans<span class="main">(</span>CplxROrder<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">r</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"CplxROrder<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">r</span><span class="main">)</span> <span class="keyword1">{is</span> <span class="keyword1">total</span> <span class="keyword1">on}</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?f</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"SliceProjection<span class="main">(</span>ComplexReals<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?f</span> <span class="main">∈</span> ord_iso<span class="main">(</span><span class="main"><span class="free">ℝ</span></span><span class="main">,</span>CplxROrder<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">r</span><span class="main">)</span><span class="main">,</span><span class="free">R</span><span class="main">,</span><span class="free">r</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> ComplexReals_def slice_proj_bij real_means_real_axis 
      bij_is_ord_iso CplxROrder_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"CplxROrder<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">r</span><span class="main">)</span> <span class="main">⊆</span> <span class="main"><span class="free">ℝ</span></span><span class="main">×</span><span class="main"><span class="free">ℝ</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> cplx_ord_on_cplx_reals <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> I<span class="main">:</span>
    <span class="quoted"><span class="quoted">"antisym<span class="main">(</span><span class="free">r</span><span class="main">)</span>"</span></span>   <span class="quoted"><span class="quoted">"<span class="free">r</span> <span class="keyword1">{is</span> <span class="keyword1">total</span> <span class="keyword1">on}</span> <span class="free">R</span>"</span></span>   <span class="quoted"><span class="quoted">"trans<span class="main">(</span><span class="free">r</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> valid_cntxts ring1.OrdRing_ZF_1_L1 IsAnOrdRing_def 
      IsLinOrder_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> 
    <span class="quoted"><span class="quoted">"antisym<span class="main">(</span>CplxROrder<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">r</span><span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="quoted"><span class="quoted">"trans<span class="main">(</span>CplxROrder<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">r</span><span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="quoted"><span class="quoted">"CplxROrder<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">r</span><span class="main">)</span> <span class="keyword1">{is</span> <span class="keyword1">total</span> <span class="keyword1">on}</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> ord_iso_pres_antsym ord_iso_pres_tot ord_iso_pres_trans
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The trichotomy law for the strict order on the complex 
  reals.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> complex0<span class="main">)</span> cplx_strict_ord_trich<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"Exactly_1_of_3_holds<span class="main">(</span><span class="free">a</span><span class="main"><span class="free">\&lt;lsr&gt;</span></span><span class="free">b</span><span class="main">,</span> <span class="free">a</span><span class="main">=</span><span class="free">b</span><span class="main">,</span> <span class="free">b</span><span class="main"><span class="free">\&lt;lsr&gt;</span></span><span class="free">a</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms cplx_ord_antsym_trans_tot strict_ans_tot_trich
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The strict order on the complex reals is kind of 
  antisymetric.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> complex0<span class="main">)</span> pre_axlttri<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>   <span class="quoted"><span class="quoted">"<span class="free">b</span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;lsr&gt;</span></span> <span class="free">b</span> <span class="main">⟷</span> <span class="main">¬</span><span class="main">(</span><span class="free">a</span><span class="main">=</span><span class="free">b</span> <span class="main">∨</span> <span class="free">b</span> <span class="main"><span class="free">\&lt;lsr&gt;</span></span> <span class="free">a</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Exactly_1_of_3_holds<span class="main">(</span><span class="free">a</span><span class="main"><span class="free">\&lt;lsr&gt;</span></span><span class="free">b</span><span class="main">,</span> <span class="free">a</span><span class="main">=</span><span class="free">b</span><span class="main">,</span> <span class="free">b</span><span class="main"><span class="free">\&lt;lsr&gt;</span></span><span class="free">a</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> cplx_strict_ord_trich<span class="main">)</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;lsr&gt;</span></span> <span class="free">b</span> <span class="main">⟷</span> <span class="main">¬</span><span class="main">(</span><span class="free">a</span><span class="main">=</span><span class="free">b</span> <span class="main">∨</span> <span class="free">b</span> <span class="main"><span class="free">\&lt;lsr&gt;</span></span> <span class="free">a</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> Fol1_L8A<span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The strict order on complex reals is transitive.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> complex0<span class="main">)</span> cplx_strict_ord_trans<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"trans<span class="main">(</span>StrictVersion<span class="main">(</span>CplxROrder<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">r</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> cplx_ord_antsym_trans_tot strict_of_transB <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The strict order on complex reals is transitive - the explicit version
  of <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>cplx_strict_ord_trans›</span></span></span></span>.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> complex0<span class="main">)</span> pre_axlttrn<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;lsr&gt;</span></span> <span class="free">b</span>"</span></span>   <span class="quoted"><span class="quoted">"<span class="free">b</span> <span class="main"><span class="free">\&lt;lsr&gt;</span></span> <span class="free">c</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;lsr&gt;</span></span> <span class="free">c</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?s</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"StrictVersion<span class="main">(</span>CplxROrder<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">r</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"trans<span class="main">(</span><span class="var">?s</span><span class="main">)</span>"</span></span>   <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="free">a</span><span class="main">,</span><span class="free">b</span><span class="main">⟩</span> <span class="main">∈</span> <span class="var">?s</span> <span class="main">∧</span> <span class="main">⟨</span><span class="free">b</span><span class="main">,</span><span class="free">c</span><span class="main">⟩</span> <span class="main">∈</span> <span class="var">?s</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> cplx_strict_ord_trans <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟨</span><span class="free">a</span><span class="main">,</span><span class="free">c</span><span class="main">⟩</span> <span class="main">∈</span> <span class="var">?s</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> Fol1_L3<span class="main">)</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;lsr&gt;</span></span> <span class="free">c</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>
  
<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The strict order on complex reals is preserved by translations.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> complex0<span class="main">)</span> pre_axltadd<span class="main">:</span> 
  <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main"><span class="free">\&lt;lsr&gt;</span></span> <span class="free">b</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">c</span> <span class="main">∈</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main"><span class="free">\&lt;ca&gt;</span></span><span class="free">a</span> <span class="main"><span class="free">\&lt;lsr&gt;</span></span> <span class="free">c</span><span class="main"><span class="free">\&lt;ca&gt;</span></span><span class="free">b</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> T<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> strict_cplx_ord_type
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> A1 A2 <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">c</span><span class="main"><span class="free">\&lt;ca&gt;</span></span><span class="free">a</span> <span class="main"><span class="free">\&lt;lsr&gt;</span></span> <span class="free">c</span><span class="main"><span class="free">\&lt;ca&gt;</span></span><span class="free">b</span>"</span></span> 
    <span class="keyword1"><span class="command">using</span></span> def_of_real_axis_order valid_cntxts 
      group3.group_strict_ord_transl_inv sum_of_reals 
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The set of positive complex reals is closed with respect to 
  multiplication.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> complex0<span class="main">)</span> pre_axmulgt0<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟬</span></span> <span class="main"><span class="free">\&lt;lsr&gt;</span></span> <span class="free">a</span>"</span></span>   <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟬</span></span> <span class="main"><span class="free">\&lt;lsr&gt;</span></span> <span class="free">b</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟬</span></span> <span class="main"><span class="free">\&lt;lsr&gt;</span></span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> A1 <span class="keyword1"><span class="command">have</span></span> T<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">a</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span>  <span class="quoted"><span class="quoted">"<span class="free">b</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span>"</span></span> <span class="keyword1"><span class="command">using</span></span> strict_cplx_ord_type
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">with</span></span> A1 <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main"><span class="free">𝟬</span></span> <span class="main"><span class="free">\&lt;lsr&gt;</span></span> <span class="free">a</span><span class="main"><span class="free">⋅</span></span><span class="free">b</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> def_of_real_axis_order valid_cntxts field1.pos_mul_closed
      def_of_real_axis_order prod_of_reals
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The order on complex reals is linear and complete.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> complex0<span class="main">)</span> cmplx_reals_ord_lin_compl<span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span>
  <span class="quoted"><span class="quoted">"CplxROrder<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">r</span><span class="main">)</span> <span class="keyword1">{is</span> <span class="keyword1">complete}</span>"</span></span>
  <span class="quoted"><span class="quoted">"IsLinOrder<span class="main">(</span><span class="main"><span class="free">ℝ</span></span><span class="main">,</span>CplxROrder<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">r</span><span class="main">)</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"SliceProjection<span class="main">(</span><span class="main"><span class="free">ℝ</span></span><span class="main">)</span> <span class="main">∈</span> bij<span class="main">(</span><span class="main"><span class="free">ℝ</span></span><span class="main">,</span><span class="free">R</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> slice_proj_bij ComplexReals_def real_means_real_axis 
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">r</span> <span class="main">⊆</span> <span class="free">R</span><span class="main">×</span><span class="free">R</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> valid_cntxts ring1.OrdRing_ZF_1_L1
    IsAnOrdRing_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> R_are_reals <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"<span class="free">r</span> <span class="keyword1">{is</span> <span class="keyword1">complete}</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"IsLinOrder<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">r</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> IsAmodelOfReals_def valid_cntxts ring1.OrdRing_ZF_1_L1
    IsAnOrdRing_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> 
    <span class="quoted"><span class="quoted">"CplxROrder<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">r</span><span class="main">)</span> <span class="keyword1">{is</span> <span class="keyword1">complete}</span>"</span></span>
    <span class="quoted"><span class="quoted">"IsLinOrder<span class="main">(</span><span class="main"><span class="free">ℝ</span></span><span class="main">,</span>CplxROrder<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">r</span><span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> CplxROrder_def real_means_real_axis ind_rel_pres_compl 
      ind_rel_pres_lin <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The property of the strict order on complex reals
  that corresponds to completeness.›</span></span>

<span class="keyword1"><span class="command">lemma</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">in</span></span> complex0<span class="main">)</span> pre_axsup<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">X</span> <span class="main">⊆</span> <span class="main"><span class="free">ℝ</span></span>"</span></span>   <span class="quoted"><span class="quoted">"<span class="free">X</span> <span class="main">≠</span> <span class="main">0</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span>
  A2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">x</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span><span class="main">.</span> <span class="main">∀</span><span class="bound">y</span><span class="main">∈</span><span class="free">X</span><span class="main">.</span> <span class="bound">y</span> <span class="main"><span class="free">\&lt;lsr&gt;</span></span> <span class="bound">x</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> 
  <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">x</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span><span class="main">.</span> <span class="main">(</span><span class="main">∀</span><span class="bound">y</span><span class="main">∈</span><span class="free">X</span><span class="main">.</span> <span class="main">¬</span><span class="main">(</span><span class="bound">x</span> <span class="main"><span class="free">\&lt;lsr&gt;</span></span> <span class="bound">y</span><span class="main">)</span><span class="main">)</span> <span class="main">∧</span> <span class="main">(</span><span class="main">∀</span><span class="bound">y</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span><span class="main">.</span> <span class="main">(</span><span class="bound">y</span> <span class="main"><span class="free">\&lt;lsr&gt;</span></span> <span class="bound">x</span> <span class="main">⟶</span> <span class="main">(</span><span class="main">∃</span><span class="bound">z</span><span class="main">∈</span><span class="free">X</span><span class="main">.</span> <span class="bound">y</span> <span class="main"><span class="free">\&lt;lsr&gt;</span></span> <span class="bound">z</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?s</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"StrictVersion<span class="main">(</span>CplxROrder<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">r</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"CplxROrder<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">r</span><span class="main">)</span> <span class="main">⊆</span> <span class="main"><span class="free">ℝ</span></span><span class="main">×</span><span class="main"><span class="free">ℝ</span></span>"</span></span>
    <span class="quoted"><span class="quoted">"IsLinOrder<span class="main">(</span><span class="main"><span class="free">ℝ</span></span><span class="main">,</span>CplxROrder<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">r</span><span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="quoted"><span class="quoted">"CplxROrder<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">r</span><span class="main">)</span> <span class="keyword1">{is</span> <span class="keyword1">complete}</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> cplx_ord_on_cplx_reals cmplx_reals_ord_lin_compl
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">note</span></span> A1
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?s</span> <span class="main">=</span> StrictVersion<span class="main">(</span>CplxROrder<span class="main">(</span><span class="free">R</span><span class="main">,</span><span class="free">A</span><span class="main">,</span><span class="free">r</span><span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">from</span></span> A2 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">u</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span><span class="main">.</span> <span class="main">∀</span><span class="bound">y</span><span class="main">∈</span><span class="free">X</span><span class="main">.</span> <span class="main">⟨</span><span class="bound">y</span><span class="main">,</span><span class="bound">u</span><span class="main">⟩</span> <span class="main">∈</span> <span class="var">?s</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span>
    <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="bound">x</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span><span class="main">.</span> <span class="main">(</span> <span class="main">∀</span><span class="bound">y</span><span class="main">∈</span><span class="free">X</span><span class="main">.</span> <span class="main">⟨</span><span class="bound">x</span><span class="main">,</span><span class="bound">y</span><span class="main">⟩</span> <span class="main">∉</span> <span class="var">?s</span> <span class="main">)</span> <span class="main">∧</span> 
    <span class="main">(</span><span class="main">∀</span><span class="bound">y</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span><span class="main">.</span> <span class="main">⟨</span><span class="bound">y</span><span class="main">,</span><span class="bound">x</span><span class="main">⟩</span> <span class="main">∈</span> <span class="var">?s</span> <span class="main">⟶</span> <span class="main">(</span><span class="main">∃</span><span class="bound">z</span><span class="main">∈</span><span class="free">X</span><span class="main">.</span> <span class="main">⟨</span><span class="bound">y</span><span class="main">,</span><span class="bound">z</span><span class="main">⟩</span> <span class="main">∈</span> <span class="var">?s</span><span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> strict_of_compl<span class="main">)</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">∃</span><span class="bound">x</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span><span class="main">.</span> <span class="main">(</span><span class="main">∀</span><span class="bound">y</span><span class="main">∈</span><span class="free">X</span><span class="main">.</span> <span class="main">¬</span><span class="main">(</span><span class="bound">x</span> <span class="main"><span class="free">\&lt;lsr&gt;</span></span> <span class="bound">y</span><span class="main">)</span><span class="main">)</span> <span class="main">∧</span> 
    <span class="main">(</span><span class="main">∀</span><span class="bound">y</span><span class="main">∈</span><span class="main"><span class="free">ℝ</span></span><span class="main">.</span> <span class="main">(</span><span class="bound">y</span> <span class="main"><span class="free">\&lt;lsr&gt;</span></span> <span class="bound">x</span> <span class="main">⟶</span> <span class="main">(</span><span class="main">∃</span><span class="bound">z</span><span class="main">∈</span><span class="free">X</span><span class="main">.</span> <span class="bound">y</span> <span class="main"><span class="free">\&lt;lsr&gt;</span></span> <span class="bound">z</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>
  
<span class="keyword2"><span class="keyword">end</span></span>
  

</pre>
</body>

</html>